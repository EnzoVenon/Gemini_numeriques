<html>

<head>
    <title>Itowns - Globe + WFS</title>

    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="css/example.css">
    <link rel="stylesheet" type="text/css" href="css/LoadingScreen.css">
    <link rel="stylesheet" type="text/css" href="css/testing_tab.css">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Gemini Numériques</title>
    <link rel="stylesheet" type="text/css" href="css/widgets.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.6/dat.gui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
        crossorigin="anonymous"></script>

    <link rel="stylesheet" href="../node_modules/bootstrap-icons/font/bootstrap-icons.css">

    <link rel="stylesheet" href="css/index.css">

    <script scr="https://unpkg.com/shpjs@latest/dist/shp.js"></script>


    <style>
        .bubble {
            background-color: #fff;
            border-radius: 10px;
            text-align: center;
            padding: 10px 15px;
            box-shadow: 0 0.125rem 0.5rem rgba(0, 0, 0, .3), 0 0.0625rem 0.125rem rgba(0, 0, 0, .2);
        }

        .pointer {
            height: 12px;
            width: 12px;
            background-color: #fff;
            transform: translate(-50%, -50%) rotate(45deg);
            position: relative;
            left: 80%;
        }
    </style>


</head>

<body>

    <div id=" container">

        <!-- The div in which the navbar is -->
        <div id="apparition">

            <!-- the navbar centered with bootstrap -->
            <ul class="nav nav-tabs justify-content-center">
                <li class="nav-item">

                    <a class="nav-link active" data-bs-toggle="collapse" href="#collapseExample" role="button"
                        aria-expanded="false" aria-controls="collapseExample">
                        Données liées à l'objet sélectionné
                    </a>
                    <div class="collapse" id="collapseExample">
                        <div class="card card-body">
                            <ul class="nav nav-tabs justify-content-center">
                                <li class="nav-item">
                                    <!-- particularity the data-bs-target is the same as aria-controls their name is important because linked to the sidebar -->
                                    <a class="nav-link active" href="#" data-bs-toggle="offcanvas"
                                        data-bs-target="#offcanvasScrollinginfo" aria-controls="offcanvasScrollinginfo">
                                        Contexte géographique
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active" href="#" data-bs-toggle="offcanvas"
                                        data-bs-target="#offcanvasScrollingbat" aria-controls="offcanvasScrollingbat">
                                        Infos sur l'objet
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active" href="#" data-bs-toggle="offcanvas"
                                        data-bs-target="#offcanvasScrollingrisq" aria-controls="offcanvasScrollingrisq">
                                        Risques
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active" href="#" data-bs-toggle="offcanvas"
                                        data-bs-target="#offcanvasScrollingenerg"
                                        aria-controls="offcanvasScrollingenerg">
                                        Énergie
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active" href="#" data-bs-toggle="offcanvas"
                                        data-bs-target="#offcanvasScrollingpop" aria-controls="offcanvasScrollingpop">
                                        Population
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </li>

                <li class="nav-item">
                    <a class="nav-link active" href="#" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasScrollinginfocompl" aria-controls="offcanvasScrollinginfocompl">En
                        savoir plus</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="#" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasScrollingstyle" aria-controls="offcanvasScrollingstyle">Style</a>
                </li>



            </ul>

            <!-- Here the important sidebar id corresponds to the navbar -->
            <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1"
                id="offcanvasScrollinginfo" aria-labelledby="offcanvasScrollingLabel">
                <!-- The header -->
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Contexte géographique</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <!-- The body -->
                <div class="offcanvas-body" id="infoGen">

                    <div class="accordion" id="infoGenAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingInfoOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseInfoOne" aria-expanded="false"
                                    aria-controls="collapseInfoOne">
                                    Contexte générale
                                </button>
                            </h2>
                        </div>
                        <div id="collapseInfoOne" class="accordion-collapse collapse" aria-labelledby="headingInfoOne">
                            <div class="accordion-body" id="listConsoInfo">
                                <p>Pas d'informations disponibles</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1"
                id="offcanvasScrollingbat" aria-labelledby="offcanvasScrollingLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Infos sur l'objet</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>

                <div class="offcanvas-body" id="batInfo">

                    <div class="accordion" id="batimentAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingBatimentOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseBatimentOne" aria-expanded="false"
                                    aria-controls="collapseBatimentOne">
                                    Informations liées au bâtiment
                                </button>
                            </h2>
                        </div>
                        <div id="collapseBatimentOne" class="accordion-collapse collapse"
                            aria-labelledby="headingBatimentOne">
                            <div class="accordion-body" id="listConsoBatiment">
                                <p>Pas d'informations disponibles</p>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
            <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1"
                id="offcanvasScrollingrisq" aria-labelledby="offcanvasScrollingLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Risques</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body" id="risqueInfo">
                    <div class="form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" id="showInnondationLayer">
                        <label class="form-check-label" for="showInnondationLayer"> Zone inondable (en bleu) et
                            bâtiments en zone inondable (en rouge)</label>
                    </div>

                    <div class="accordion" id="RisquesAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingRisqueOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseRisqueOne" aria-expanded="false"
                                    aria-controls="collapseRisqueOne">
                                    Risques liés au bâtiment
                                </button>
                            </h2>
                        </div>
                        <div id="collapseRisqueOne" class="accordion-collapse collapse"
                            aria-labelledby="headingRisqueOne">
                            <div class="accordion-body" id="listConsoRisque">
                                <p>Pas d'informations disponibles</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1"
                id="offcanvasScrollingenerg" aria-labelledby="offcanvasScrollingLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Énergie</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">

                    <div class="accordion" id="energieAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingEnergieOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseEnergieOne" aria-expanded="false"
                                    aria-controls="collapseEnergieOne">
                                    Consommation énergétique
                                </button>
                            </h2>
                        </div>
                        <div id="collapseEnergieOne" class="accordion-collapse collapse"
                            aria-labelledby="headingEnergieOne">
                            <div class="accordion-body" id="listConsoEnergie">
                                <p>Pas d'informations disponibles</p>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1"
                id="offcanvasScrollingpop" aria-labelledby="offcanvasScrollingLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Population</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body" id="population">
                    <p>Sélectionnez un bâtiment pour visualiser ces informations.</p>
                </div>
            </div>
            <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1"
                id="offcanvasScrollinginfocompl" aria-labelledby="offcanvasScrollingLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasScrollingLabel">En savoir plus</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <div id="sourceGeom">

                        <p>Sources de données géométriques</p>

                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="showBdnbLayer" checked
                                disabled>
                            <label class="form-check-label" for="flexSwitchCheckDefault">Base de Données Nationale
                                des
                                Bâtiments (en noir)</label>
                        </div>

                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="showIgnLayer">
                            <label class="form-check-label" for="flexSwitchCheckDefault">IGN (en vert)</label>
                        </div>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="showOsmLayer">
                            <label class="form-check-label" for="flexSwitchCheckChecked">OpenStreetMap (en
                                jaune)</label>
                        </div>
                        <div class="form-check form-switch">
                            <input class="form-check-input" type="checkbox" role="switch" id="showCadastreLayer">
                            <label class="form-check-label" for="flexSwitchCheckDisabled">Cadastre (en
                                rouge)</label>
                        </div>

                    </div>

                </div>
            </div>
            <div class="offcanvas offcanvas-start" data-bs-scroll="true" data-bs-backdrop="false" tabindex="-1"
                id="offcanvasScrollingstyle" aria-labelledby="offcanvasScrollingLabel">
                <div class="offcanvas-header">
                    <h5 class="offcanvas-title" id="offcanvasScrollingLabel">Style</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                </div>
                <div class="offcanvas-body">
                    <p>A venir</p>
                </div>
            </div>

        </div>

        <div id="viewerDiv"></div>


        <div class="card text-center" id="explorationPanel">


            <div class="card-header">
                Exploration
            </div>


            <div id="carouselExampleIndicators" class="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="card-body">
                            <h5 class="card-title">Sources</h5>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" name="selectData" role="switch"
                                    id="exploredata">
                                <label class="form-check-label" for="flexSwitchCheckDisabled">BDNB <i
                                        class="bi bi-info-circle"></i></label>
                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" name="selectData" role="switch"
                                    id="exploredataIgn">
                                <label class="form-check-label" for="flexSwitchCheckDisabled">IGN <i
                                        class="bi bi-info-circle"></i></label>
                            </div>
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" name="selectData" role="switch"
                                    id="exploredataOsm">
                                <label class="form-check-label" for="flexSwitchCheckDisabled">OSM <i
                                        class="bi bi-info-circle"></i></label>
                            </div>

                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" name="selectData" role="switch"
                                    id="exploredataCadastre">
                                <label class="form-check-label" for="flexSwitchCheckDisabled">Cadastre <i
                                        class="bi bi-info-circle"></i></label>
                            </div>

                            <p>Attributs disponibles</p>

                            <select class="form-select" aria-label="Default select example" id="selectProp">
                                <option selected>Choisir une couche</option>
                            </select>
                        </div>

                    </div>

                    <div class="carousel-item">
                        <h5 class="card-title">Import de fichier</h5>
                        <input type="file" id="fileInput">
                        <button id="recupPath">Test</button>
                    </div>
                </div>


                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
                    data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
                    data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>


            </div>

            <div class="card-footer">
                <button class="btn btn-primary" id="confirmExporation">Afficher</button>

                <!-- Button trigger modal -->
                <button id="modalButton" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                    Légende
                </button>

            </div>

        </div>


        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="legend">
                        Choisir une couche
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>


        <script src="./js/jsItown/plugins/FeatureToolTip2.js"></script>
        <script src="./js/jsItown/GUI/GuiTools.js"></script>
        <script src="../node_modules/itowns/dist/itowns.js"></script>
        <script src="../node_modules/shapefile/dist/shapefile.js"></script>
        <script src="../node_modules/itowns/dist/debug.js"></script>
        <script src="../node_modules/itowns/dist/itowns_widgets.js"></script>
        <script src="../node_modules/shpjs/dist/shp.js"></script>

        <script src="./js/jsItown/GUI/LoadingScreen.js"></script>

        <script type="module" src="./main.js"></script>




</body>

</html>