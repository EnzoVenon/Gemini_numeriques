"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function GuiTools(e,o,i){if(o){var t=i||245,n=document.createElement("div");n.id="menuDiv",this.gui=new dat.GUI({autoPlace:!1,width:t}),n.appendChild(this.gui.domElement),document.body.appendChild(n),this.colorGui=this.gui.addFolder("Color Layers"),this.elevationGui=this.gui.addFolder("Elevation Layers"),this.geoidGui=this.gui.addFolder("Geoid Layers"),this.elevationGui.hide(),this.colorGui.hide(),this.geoidGui.hide(),this.view=o,o.addEventListener("layers-order-changed",function(){var e,i=o.getLayers((function(e){return e.isColorLayer}));for(e=0;e<i.length;e++)this.removeLayersGUI(i[e].id);this.addImageryLayersGUI(i)}.bind(this))}}function createHTMLListFromObject(e){var o=document.createElement("ul");return o.style.padding="0 0 0 1.5rem",Object.keys(e).forEach((function(i){var t=document.createElement("li");t.appendChild(document.createTextNode(i)),null===e[i]&&(e[i]="null"),"object"===_typeof(e[i])?t.appendChild(createHTMLListFromObject(e[i])):(t.appendChild(document.createTextNode(": ")),t.appendChild(document.createTextNode(e[i]))),o.appendChild(t)})),o}dat.GUI.prototype.removeFolder=function(e){var o=this.__folders[e];o&&(o.close(),this.__ul.removeChild(o.domElement.parentNode),delete this.__folders[e],this.onResize())},dat.GUI.prototype.colorLayerFolder=function(e,o){var i,t=this.__folders[e];t&&(i=t.__ul.getElementsByClassName("title")[0]).style&&(i.style.background=o)},dat.GUI.prototype.hasFolder=function(e){return this.__folders[e]},GuiTools.prototype.addLayerGUI=function(e){e.isColorLayer?this.addImageryLayerGUI(e):e.isElevationLayer?this.addElevationLayerGUI(e):e.isGeoidLayer&&this.addGeoidLayerGUI(e)},GuiTools.prototype.addLayersGUI=function(){this.addImageryLayersGUI(this.view.getLayers((function(e){return e.isColorLayer}))),this.addElevationLayersGUI(this.view.getLayers((function(e){return e.isElevationLayer}))),console.info("menu initialized")},GuiTools.prototype.addImageryLayerGUI=function(e){if(!this.colorGui.hasFolder(e.id)){this.colorGui.show();var o=this.colorGui.addFolder(e.id);o.add({visible:e.visible},"visible").onChange(function(o){e.visible=o,this.view.notifyChange(e)}.bind(this)),o.add({opacity:e.opacity},"opacity",0,1,.01).onChange(function(o){e.opacity=o,this.view.notifyChange(e)}.bind(this)),o.add({frozen:e.frozen},"frozen").onChange(function(o){e.frozen=o,this.view.notifyChange(e)}.bind(this))}},GuiTools.prototype.addElevationLayerGUI=function(e){if(!this.elevationGui.hasFolder(e.id)){this.elevationGui.show();var o=this.elevationGui.addFolder(e.id);o.add({frozen:e.frozen},"frozen").onChange((function(o){e.frozen=o})),o.add({scale:e.scale},"scale").min(1).max(2e4).onChange(function(o){e.scale=o,this.view.notifyChange(e)}.bind(this))}},GuiTools.prototype.addGeoidLayerGUI=function(e){if(!this.geoidGui.hasFolder(e.id)){this.geoidGui.show();var o=this.geoidGui.addFolder(e.id);o.add({frozen:e.frozen},"frozen").onChange((function(o){e.frozen=o})),o.add({visible:e.visible},"visible").onChange(function(o){e.visible=o,this.view.notifyChange(e)}.bind(this))}},GuiTools.prototype.addImageryLayersGUI=function(e){var o,i=itowns.ImageryLayers.getColorLayersIdOrderedBySequence(e),t=e.sort((function(e,o){return i.indexOf(e.id)<i.indexOf(o.id)}));for(o=0;o<t.length;o++)this.addImageryLayerGUI(t[o])},GuiTools.prototype.addElevationLayersGUI=function(e){var o;for(o=0;o<e.length;o++)this.addElevationLayerGUI(e[o])},GuiTools.prototype.removeLayersGUI=function(e){this.colorGui.removeFolder(e)},GuiTools.prototype.addGUI=function(e,o,i){return this[e]=o,this.gui.add(this,e).onChange(i)},GuiTools.prototype.colorLayerFolder=function(e,o){this.colorGui.colorLayerFolder(e,o)};
//# sourceMappingURL=index.24dea999.js.map
