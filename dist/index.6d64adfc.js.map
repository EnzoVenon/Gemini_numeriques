{"mappings":"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","sources":["node_modules/itowns/dist/webpack:/itowns/webpack/universalModuleDefinition","node_modules/itowns/dist/webpack:/itowns/node_modules/chart.js/dist/chunks/helpers.segment.js","node_modules/itowns/dist/webpack:/itowns/node_modules/chart.js/dist/chart.esm.js","node_modules/itowns/dist/webpack:/itowns/utils/debug/charts/ChartConfig.js","node_modules/itowns/dist/webpack:/itowns/utils/debug/charts/ThreeStatsChart.js","node_modules/itowns/dist/webpack:/itowns/utils/debug/OBBHelper.js","node_modules/itowns/dist/webpack:/itowns/utils/debug/Debug.js","node_modules/itowns/dist/webpack:/itowns/utils/debug/PotreeDebug.js","node_modules/itowns/dist/webpack:/itowns/utils/debug/charts/TileObjectChart.js","node_modules/itowns/dist/webpack:/itowns/utils/debug/charts/TileVisibilityChart.js","node_modules/itowns/dist/webpack:/itowns/utils/debug/GeometryDebug.js","node_modules/itowns/dist/webpack:/itowns/utils/debug/TileDebug.js","node_modules/itowns/dist/webpack:/itowns/utils/debug/3dTilesDebug.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"debug\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"debug\"] = factory();\n\telse\n\t\troot[\"debug\"] = factory();\n})(self, () => {\nreturn ","/*!\n * Chart.js v3.7.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nfunction fontString(pixelSize, fontStyle, fontFamily) {\n  return fontStyle + ' ' + pixelSize + 'px ' + fontFamily;\n}\nconst requestAnimFrame = (function() {\n  if (typeof window === 'undefined') {\n    return function(callback) {\n      return callback();\n    };\n  }\n  return window.requestAnimationFrame;\n}());\nfunction throttled(fn, thisArg, updateFn) {\n  const updateArgs = updateFn || ((args) => Array.prototype.slice.call(args));\n  let ticking = false;\n  let args = [];\n  return function(...rest) {\n    args = updateArgs(rest);\n    if (!ticking) {\n      ticking = true;\n      requestAnimFrame.call(window, () => {\n        ticking = false;\n        fn.apply(thisArg, args);\n      });\n    }\n  };\n}\nfunction debounce(fn, delay) {\n  let timeout;\n  return function(...args) {\n    if (delay) {\n      clearTimeout(timeout);\n      timeout = setTimeout(fn, delay, args);\n    } else {\n      fn.apply(this, args);\n    }\n    return delay;\n  };\n}\nconst _toLeftRightCenter = (align) => align === 'start' ? 'left' : align === 'end' ? 'right' : 'center';\nconst _alignStartEnd = (align, start, end) => align === 'start' ? start : align === 'end' ? end : (start + end) / 2;\nconst _textX = (align, left, right, rtl) => {\n  const check = rtl ? 'left' : 'right';\n  return align === check ? right : align === 'center' ? (left + right) / 2 : left;\n};\n\nfunction noop() {}\nconst uid = (function() {\n  let id = 0;\n  return function() {\n    return id++;\n  };\n}());\nfunction isNullOrUndef(value) {\n  return value === null || typeof value === 'undefined';\n}\nfunction isArray(value) {\n  if (Array.isArray && Array.isArray(value)) {\n    return true;\n  }\n  const type = Object.prototype.toString.call(value);\n  if (type.substr(0, 7) === '[object' && type.substr(-6) === 'Array]') {\n    return true;\n  }\n  return false;\n}\nfunction isObject(value) {\n  return value !== null && Object.prototype.toString.call(value) === '[object Object]';\n}\nconst isNumberFinite = (value) => (typeof value === 'number' || value instanceof Number) && isFinite(+value);\nfunction finiteOrDefault(value, defaultValue) {\n  return isNumberFinite(value) ? value : defaultValue;\n}\nfunction valueOrDefault(value, defaultValue) {\n  return typeof value === 'undefined' ? defaultValue : value;\n}\nconst toPercentage = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100\n    : value / dimension;\nconst toDimension = (value, dimension) =>\n  typeof value === 'string' && value.endsWith('%') ?\n    parseFloat(value) / 100 * dimension\n    : +value;\nfunction callback(fn, args, thisArg) {\n  if (fn && typeof fn.call === 'function') {\n    return fn.apply(thisArg, args);\n  }\n}\nfunction each(loopable, fn, thisArg, reverse) {\n  let i, len, keys;\n  if (isArray(loopable)) {\n    len = loopable.length;\n    if (reverse) {\n      for (i = len - 1; i >= 0; i--) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    } else {\n      for (i = 0; i < len; i++) {\n        fn.call(thisArg, loopable[i], i);\n      }\n    }\n  } else if (isObject(loopable)) {\n    keys = Object.keys(loopable);\n    len = keys.length;\n    for (i = 0; i < len; i++) {\n      fn.call(thisArg, loopable[keys[i]], keys[i]);\n    }\n  }\n}\nfunction _elementsEqual(a0, a1) {\n  let i, ilen, v0, v1;\n  if (!a0 || !a1 || a0.length !== a1.length) {\n    return false;\n  }\n  for (i = 0, ilen = a0.length; i < ilen; ++i) {\n    v0 = a0[i];\n    v1 = a1[i];\n    if (v0.datasetIndex !== v1.datasetIndex || v0.index !== v1.index) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction clone$1(source) {\n  if (isArray(source)) {\n    return source.map(clone$1);\n  }\n  if (isObject(source)) {\n    const target = Object.create(null);\n    const keys = Object.keys(source);\n    const klen = keys.length;\n    let k = 0;\n    for (; k < klen; ++k) {\n      target[keys[k]] = clone$1(source[keys[k]]);\n    }\n    return target;\n  }\n  return source;\n}\nfunction isValidKey(key) {\n  return ['__proto__', 'prototype', 'constructor'].indexOf(key) === -1;\n}\nfunction _merger(key, target, source, options) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    merge(tval, sval, options);\n  } else {\n    target[key] = clone$1(sval);\n  }\n}\nfunction merge(target, source, options) {\n  const sources = isArray(source) ? source : [source];\n  const ilen = sources.length;\n  if (!isObject(target)) {\n    return target;\n  }\n  options = options || {};\n  const merger = options.merger || _merger;\n  for (let i = 0; i < ilen; ++i) {\n    source = sources[i];\n    if (!isObject(source)) {\n      continue;\n    }\n    const keys = Object.keys(source);\n    for (let k = 0, klen = keys.length; k < klen; ++k) {\n      merger(keys[k], target, source, options);\n    }\n  }\n  return target;\n}\nfunction mergeIf(target, source) {\n  return merge(target, source, {merger: _mergerIf});\n}\nfunction _mergerIf(key, target, source) {\n  if (!isValidKey(key)) {\n    return;\n  }\n  const tval = target[key];\n  const sval = source[key];\n  if (isObject(tval) && isObject(sval)) {\n    mergeIf(tval, sval);\n  } else if (!Object.prototype.hasOwnProperty.call(target, key)) {\n    target[key] = clone$1(sval);\n  }\n}\nfunction _deprecated(scope, value, previous, current) {\n  if (value !== undefined) {\n    console.warn(scope + ': \"' + previous +\n\t\t\t'\" is deprecated. Please use \"' + current + '\" instead');\n  }\n}\nconst emptyString = '';\nconst dot = '.';\nfunction indexOfDotOrLength(key, start) {\n  const idx = key.indexOf(dot, start);\n  return idx === -1 ? key.length : idx;\n}\nfunction resolveObjectKey(obj, key) {\n  if (key === emptyString) {\n    return obj;\n  }\n  let pos = 0;\n  let idx = indexOfDotOrLength(key, pos);\n  while (obj && idx > pos) {\n    obj = obj[key.substr(pos, idx - pos)];\n    pos = idx + 1;\n    idx = indexOfDotOrLength(key, pos);\n  }\n  return obj;\n}\nfunction _capitalize(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\nconst defined = (value) => typeof value !== 'undefined';\nconst isFunction = (value) => typeof value === 'function';\nconst setsEqual = (a, b) => {\n  if (a.size !== b.size) {\n    return false;\n  }\n  for (const item of a) {\n    if (!b.has(item)) {\n      return false;\n    }\n  }\n  return true;\n};\nfunction _isClickEvent(e) {\n  return e.type === 'mouseup' || e.type === 'click' || e.type === 'contextmenu';\n}\n\nconst PI = Math.PI;\nconst TAU = 2 * PI;\nconst PITAU = TAU + PI;\nconst INFINITY = Number.POSITIVE_INFINITY;\nconst RAD_PER_DEG = PI / 180;\nconst HALF_PI = PI / 2;\nconst QUARTER_PI = PI / 4;\nconst TWO_THIRDS_PI = PI * 2 / 3;\nconst log10 = Math.log10;\nconst sign = Math.sign;\nfunction niceNum(range) {\n  const roundedRange = Math.round(range);\n  range = almostEquals(range, roundedRange, range / 1000) ? roundedRange : range;\n  const niceRange = Math.pow(10, Math.floor(log10(range)));\n  const fraction = range / niceRange;\n  const niceFraction = fraction <= 1 ? 1 : fraction <= 2 ? 2 : fraction <= 5 ? 5 : 10;\n  return niceFraction * niceRange;\n}\nfunction _factorize(value) {\n  const result = [];\n  const sqrt = Math.sqrt(value);\n  let i;\n  for (i = 1; i < sqrt; i++) {\n    if (value % i === 0) {\n      result.push(i);\n      result.push(value / i);\n    }\n  }\n  if (sqrt === (sqrt | 0)) {\n    result.push(sqrt);\n  }\n  result.sort((a, b) => a - b).pop();\n  return result;\n}\nfunction isNumber(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\nfunction almostEquals(x, y, epsilon) {\n  return Math.abs(x - y) < epsilon;\n}\nfunction almostWhole(x, epsilon) {\n  const rounded = Math.round(x);\n  return ((rounded - epsilon) <= x) && ((rounded + epsilon) >= x);\n}\nfunction _setMinAndMaxByKey(array, target, property) {\n  let i, ilen, value;\n  for (i = 0, ilen = array.length; i < ilen; i++) {\n    value = array[i][property];\n    if (!isNaN(value)) {\n      target.min = Math.min(target.min, value);\n      target.max = Math.max(target.max, value);\n    }\n  }\n}\nfunction toRadians(degrees) {\n  return degrees * (PI / 180);\n}\nfunction toDegrees(radians) {\n  return radians * (180 / PI);\n}\nfunction _decimalPlaces(x) {\n  if (!isNumberFinite(x)) {\n    return;\n  }\n  let e = 1;\n  let p = 0;\n  while (Math.round(x * e) / e !== x) {\n    e *= 10;\n    p++;\n  }\n  return p;\n}\nfunction getAngleFromPoint(centrePoint, anglePoint) {\n  const distanceFromXCenter = anglePoint.x - centrePoint.x;\n  const distanceFromYCenter = anglePoint.y - centrePoint.y;\n  const radialDistanceFromCenter = Math.sqrt(distanceFromXCenter * distanceFromXCenter + distanceFromYCenter * distanceFromYCenter);\n  let angle = Math.atan2(distanceFromYCenter, distanceFromXCenter);\n  if (angle < (-0.5 * PI)) {\n    angle += TAU;\n  }\n  return {\n    angle,\n    distance: radialDistanceFromCenter\n  };\n}\nfunction distanceBetweenPoints(pt1, pt2) {\n  return Math.sqrt(Math.pow(pt2.x - pt1.x, 2) + Math.pow(pt2.y - pt1.y, 2));\n}\nfunction _angleDiff(a, b) {\n  return (a - b + PITAU) % TAU - PI;\n}\nfunction _normalizeAngle(a) {\n  return (a % TAU + TAU) % TAU;\n}\nfunction _angleBetween(angle, start, end, sameAngleIsFullCircle) {\n  const a = _normalizeAngle(angle);\n  const s = _normalizeAngle(start);\n  const e = _normalizeAngle(end);\n  const angleToStart = _normalizeAngle(s - a);\n  const angleToEnd = _normalizeAngle(e - a);\n  const startToAngle = _normalizeAngle(a - s);\n  const endToAngle = _normalizeAngle(a - e);\n  return a === s || a === e || (sameAngleIsFullCircle && s === e)\n    || (angleToStart > angleToEnd && startToAngle < endToAngle);\n}\nfunction _limitValue(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nfunction _int16Range(value) {\n  return _limitValue(value, -32768, 32767);\n}\nfunction _isBetween(value, start, end, epsilon = 1e-6) {\n  return value >= Math.min(start, end) - epsilon && value <= Math.max(start, end) + epsilon;\n}\n\nconst atEdge = (t) => t === 0 || t === 1;\nconst elasticIn = (t, s, p) => -(Math.pow(2, 10 * (t -= 1)) * Math.sin((t - s) * TAU / p));\nconst elasticOut = (t, s, p) => Math.pow(2, -10 * t) * Math.sin((t - s) * TAU / p) + 1;\nconst effects = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => -t * (t - 2),\n  easeInOutQuad: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t\n    : -0.5 * ((--t) * (t - 2) - 1),\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => (t -= 1) * t * t + 1,\n  easeInOutCubic: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t\n    : 0.5 * ((t -= 2) * t * t + 2),\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => -((t -= 1) * t * t * t - 1),\n  easeInOutQuart: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t\n    : -0.5 * ((t -= 2) * t * t * t - 2),\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => (t -= 1) * t * t * t * t + 1,\n  easeInOutQuint: t => ((t /= 0.5) < 1)\n    ? 0.5 * t * t * t * t * t\n    : 0.5 * ((t -= 2) * t * t * t * t + 2),\n  easeInSine: t => -Math.cos(t * HALF_PI) + 1,\n  easeOutSine: t => Math.sin(t * HALF_PI),\n  easeInOutSine: t => -0.5 * (Math.cos(PI * t) - 1),\n  easeInExpo: t => (t === 0) ? 0 : Math.pow(2, 10 * (t - 1)),\n  easeOutExpo: t => (t === 1) ? 1 : -Math.pow(2, -10 * t) + 1,\n  easeInOutExpo: t => atEdge(t) ? t : t < 0.5\n    ? 0.5 * Math.pow(2, 10 * (t * 2 - 1))\n    : 0.5 * (-Math.pow(2, -10 * (t * 2 - 1)) + 2),\n  easeInCirc: t => (t >= 1) ? t : -(Math.sqrt(1 - t * t) - 1),\n  easeOutCirc: t => Math.sqrt(1 - (t -= 1) * t),\n  easeInOutCirc: t => ((t /= 0.5) < 1)\n    ? -0.5 * (Math.sqrt(1 - t * t) - 1)\n    : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1),\n  easeInElastic: t => atEdge(t) ? t : elasticIn(t, 0.075, 0.3),\n  easeOutElastic: t => atEdge(t) ? t : elasticOut(t, 0.075, 0.3),\n  easeInOutElastic(t) {\n    const s = 0.1125;\n    const p = 0.45;\n    return atEdge(t) ? t :\n      t < 0.5\n        ? 0.5 * elasticIn(t * 2, s, p)\n        : 0.5 + 0.5 * elasticOut(t * 2 - 1, s, p);\n  },\n  easeInBack(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n  },\n  easeOutBack(t) {\n    const s = 1.70158;\n    return (t -= 1) * t * ((s + 1) * t + s) + 1;\n  },\n  easeInOutBack(t) {\n    let s = 1.70158;\n    if ((t /= 0.5) < 1) {\n      return 0.5 * (t * t * (((s *= (1.525)) + 1) * t - s));\n    }\n    return 0.5 * ((t -= 2) * t * (((s *= (1.525)) + 1) * t + s) + 2);\n  },\n  easeInBounce: t => 1 - effects.easeOutBounce(1 - t),\n  easeOutBounce(t) {\n    const m = 7.5625;\n    const d = 2.75;\n    if (t < (1 / d)) {\n      return m * t * t;\n    }\n    if (t < (2 / d)) {\n      return m * (t -= (1.5 / d)) * t + 0.75;\n    }\n    if (t < (2.5 / d)) {\n      return m * (t -= (2.25 / d)) * t + 0.9375;\n    }\n    return m * (t -= (2.625 / d)) * t + 0.984375;\n  },\n  easeInOutBounce: t => (t < 0.5)\n    ? effects.easeInBounce(t * 2) * 0.5\n    : effects.easeOutBounce(t * 2 - 1) * 0.5 + 0.5,\n};\n\n/*!\n * @kurkle/color v0.1.9\n * https://github.com/kurkle/color#readme\n * (c) 2020 Jukka Kurkela\n * Released under the MIT License\n */\nconst map = {0: 0, 1: 1, 2: 2, 3: 3, 4: 4, 5: 5, 6: 6, 7: 7, 8: 8, 9: 9, A: 10, B: 11, C: 12, D: 13, E: 14, F: 15, a: 10, b: 11, c: 12, d: 13, e: 14, f: 15};\nconst hex = '0123456789ABCDEF';\nconst h1 = (b) => hex[b & 0xF];\nconst h2 = (b) => hex[(b & 0xF0) >> 4] + hex[b & 0xF];\nconst eq = (b) => (((b & 0xF0) >> 4) === (b & 0xF));\nfunction isShort(v) {\n\treturn eq(v.r) && eq(v.g) && eq(v.b) && eq(v.a);\n}\nfunction hexParse(str) {\n\tvar len = str.length;\n\tvar ret;\n\tif (str[0] === '#') {\n\t\tif (len === 4 || len === 5) {\n\t\t\tret = {\n\t\t\t\tr: 255 & map[str[1]] * 17,\n\t\t\t\tg: 255 & map[str[2]] * 17,\n\t\t\t\tb: 255 & map[str[3]] * 17,\n\t\t\t\ta: len === 5 ? map[str[4]] * 17 : 255\n\t\t\t};\n\t\t} else if (len === 7 || len === 9) {\n\t\t\tret = {\n\t\t\t\tr: map[str[1]] << 4 | map[str[2]],\n\t\t\t\tg: map[str[3]] << 4 | map[str[4]],\n\t\t\t\tb: map[str[5]] << 4 | map[str[6]],\n\t\t\t\ta: len === 9 ? (map[str[7]] << 4 | map[str[8]]) : 255\n\t\t\t};\n\t\t}\n\t}\n\treturn ret;\n}\nfunction hexString(v) {\n\tvar f = isShort(v) ? h1 : h2;\n\treturn v\n\t\t? '#' + f(v.r) + f(v.g) + f(v.b) + (v.a < 255 ? f(v.a) : '')\n\t\t: v;\n}\nfunction round(v) {\n\treturn v + 0.5 | 0;\n}\nconst lim = (v, l, h) => Math.max(Math.min(v, h), l);\nfunction p2b(v) {\n\treturn lim(round(v * 2.55), 0, 255);\n}\nfunction n2b(v) {\n\treturn lim(round(v * 255), 0, 255);\n}\nfunction b2n(v) {\n\treturn lim(round(v / 2.55) / 100, 0, 1);\n}\nfunction n2p(v) {\n\treturn lim(round(v * 100), 0, 100);\n}\nconst RGB_RE = /^rgba?\\(\\s*([-+.\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?[\\s,]+([-+.e\\d]+)(%)?(?:[\\s,/]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction rgbParse(str) {\n\tconst m = RGB_RE.exec(str);\n\tlet a = 255;\n\tlet r, g, b;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[7] !== r) {\n\t\tconst v = +m[7];\n\t\ta = 255 & (m[8] ? p2b(v) : v * 255);\n\t}\n\tr = +m[1];\n\tg = +m[3];\n\tb = +m[5];\n\tr = 255 & (m[2] ? p2b(r) : r);\n\tg = 255 & (m[4] ? p2b(g) : g);\n\tb = 255 & (m[6] ? p2b(b) : b);\n\treturn {\n\t\tr: r,\n\t\tg: g,\n\t\tb: b,\n\t\ta: a\n\t};\n}\nfunction rgbString(v) {\n\treturn v && (\n\t\tv.a < 255\n\t\t\t? `rgba(${v.r}, ${v.g}, ${v.b}, ${b2n(v.a)})`\n\t\t\t: `rgb(${v.r}, ${v.g}, ${v.b})`\n\t);\n}\nconst HUE_RE = /^(hsla?|hwb|hsv)\\(\\s*([-+.e\\d]+)(?:deg)?[\\s,]+([-+.e\\d]+)%[\\s,]+([-+.e\\d]+)%(?:[\\s,]+([-+.e\\d]+)(%)?)?\\s*\\)$/;\nfunction hsl2rgbn(h, s, l) {\n\tconst a = s * Math.min(l, 1 - l);\n\tconst f = (n, k = (n + h / 30) % 12) => l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n\treturn [f(0), f(8), f(4)];\n}\nfunction hsv2rgbn(h, s, v) {\n\tconst f = (n, k = (n + h / 60) % 6) => v - v * s * Math.max(Math.min(k, 4 - k, 1), 0);\n\treturn [f(5), f(3), f(1)];\n}\nfunction hwb2rgbn(h, w, b) {\n\tconst rgb = hsl2rgbn(h, 1, 0.5);\n\tlet i;\n\tif (w + b > 1) {\n\t\ti = 1 / (w + b);\n\t\tw *= i;\n\t\tb *= i;\n\t}\n\tfor (i = 0; i < 3; i++) {\n\t\trgb[i] *= 1 - w - b;\n\t\trgb[i] += w;\n\t}\n\treturn rgb;\n}\nfunction rgb2hsl(v) {\n\tconst range = 255;\n\tconst r = v.r / range;\n\tconst g = v.g / range;\n\tconst b = v.b / range;\n\tconst max = Math.max(r, g, b);\n\tconst min = Math.min(r, g, b);\n\tconst l = (max + min) / 2;\n\tlet h, s, d;\n\tif (max !== min) {\n\t\td = max - min;\n\t\ts = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\t\th = max === r\n\t\t\t? ((g - b) / d) + (g < b ? 6 : 0)\n\t\t\t: max === g\n\t\t\t\t? (b - r) / d + 2\n\t\t\t\t: (r - g) / d + 4;\n\t\th = h * 60 + 0.5;\n\t}\n\treturn [h | 0, s || 0, l];\n}\nfunction calln(f, a, b, c) {\n\treturn (\n\t\tArray.isArray(a)\n\t\t\t? f(a[0], a[1], a[2])\n\t\t\t: f(a, b, c)\n\t).map(n2b);\n}\nfunction hsl2rgb(h, s, l) {\n\treturn calln(hsl2rgbn, h, s, l);\n}\nfunction hwb2rgb(h, w, b) {\n\treturn calln(hwb2rgbn, h, w, b);\n}\nfunction hsv2rgb(h, s, v) {\n\treturn calln(hsv2rgbn, h, s, v);\n}\nfunction hue(h) {\n\treturn (h % 360 + 360) % 360;\n}\nfunction hueParse(str) {\n\tconst m = HUE_RE.exec(str);\n\tlet a = 255;\n\tlet v;\n\tif (!m) {\n\t\treturn;\n\t}\n\tif (m[5] !== v) {\n\t\ta = m[6] ? p2b(+m[5]) : n2b(+m[5]);\n\t}\n\tconst h = hue(+m[2]);\n\tconst p1 = +m[3] / 100;\n\tconst p2 = +m[4] / 100;\n\tif (m[1] === 'hwb') {\n\t\tv = hwb2rgb(h, p1, p2);\n\t} else if (m[1] === 'hsv') {\n\t\tv = hsv2rgb(h, p1, p2);\n\t} else {\n\t\tv = hsl2rgb(h, p1, p2);\n\t}\n\treturn {\n\t\tr: v[0],\n\t\tg: v[1],\n\t\tb: v[2],\n\t\ta: a\n\t};\n}\nfunction rotate(v, deg) {\n\tvar h = rgb2hsl(v);\n\th[0] = hue(h[0] + deg);\n\th = hsl2rgb(h);\n\tv.r = h[0];\n\tv.g = h[1];\n\tv.b = h[2];\n}\nfunction hslString(v) {\n\tif (!v) {\n\t\treturn;\n\t}\n\tconst a = rgb2hsl(v);\n\tconst h = a[0];\n\tconst s = n2p(a[1]);\n\tconst l = n2p(a[2]);\n\treturn v.a < 255\n\t\t? `hsla(${h}, ${s}%, ${l}%, ${b2n(v.a)})`\n\t\t: `hsl(${h}, ${s}%, ${l}%)`;\n}\nconst map$1 = {\n\tx: 'dark',\n\tZ: 'light',\n\tY: 're',\n\tX: 'blu',\n\tW: 'gr',\n\tV: 'medium',\n\tU: 'slate',\n\tA: 'ee',\n\tT: 'ol',\n\tS: 'or',\n\tB: 'ra',\n\tC: 'lateg',\n\tD: 'ights',\n\tR: 'in',\n\tQ: 'turquois',\n\tE: 'hi',\n\tP: 'ro',\n\tO: 'al',\n\tN: 'le',\n\tM: 'de',\n\tL: 'yello',\n\tF: 'en',\n\tK: 'ch',\n\tG: 'arks',\n\tH: 'ea',\n\tI: 'ightg',\n\tJ: 'wh'\n};\nconst names = {\n\tOiceXe: 'f0f8ff',\n\tantiquewEte: 'faebd7',\n\taqua: 'ffff',\n\taquamarRe: '7fffd4',\n\tazuY: 'f0ffff',\n\tbeige: 'f5f5dc',\n\tbisque: 'ffe4c4',\n\tblack: '0',\n\tblanKedOmond: 'ffebcd',\n\tXe: 'ff',\n\tXeviTet: '8a2be2',\n\tbPwn: 'a52a2a',\n\tburlywood: 'deb887',\n\tcaMtXe: '5f9ea0',\n\tKartYuse: '7fff00',\n\tKocTate: 'd2691e',\n\tcSO: 'ff7f50',\n\tcSnflowerXe: '6495ed',\n\tcSnsilk: 'fff8dc',\n\tcrimson: 'dc143c',\n\tcyan: 'ffff',\n\txXe: '8b',\n\txcyan: '8b8b',\n\txgTMnPd: 'b8860b',\n\txWay: 'a9a9a9',\n\txgYF: '6400',\n\txgYy: 'a9a9a9',\n\txkhaki: 'bdb76b',\n\txmagFta: '8b008b',\n\txTivegYF: '556b2f',\n\txSange: 'ff8c00',\n\txScEd: '9932cc',\n\txYd: '8b0000',\n\txsOmon: 'e9967a',\n\txsHgYF: '8fbc8f',\n\txUXe: '483d8b',\n\txUWay: '2f4f4f',\n\txUgYy: '2f4f4f',\n\txQe: 'ced1',\n\txviTet: '9400d3',\n\tdAppRk: 'ff1493',\n\tdApskyXe: 'bfff',\n\tdimWay: '696969',\n\tdimgYy: '696969',\n\tdodgerXe: '1e90ff',\n\tfiYbrick: 'b22222',\n\tflSOwEte: 'fffaf0',\n\tfoYstWAn: '228b22',\n\tfuKsia: 'ff00ff',\n\tgaRsbSo: 'dcdcdc',\n\tghostwEte: 'f8f8ff',\n\tgTd: 'ffd700',\n\tgTMnPd: 'daa520',\n\tWay: '808080',\n\tgYF: '8000',\n\tgYFLw: 'adff2f',\n\tgYy: '808080',\n\thoneyMw: 'f0fff0',\n\thotpRk: 'ff69b4',\n\tRdianYd: 'cd5c5c',\n\tRdigo: '4b0082',\n\tivSy: 'fffff0',\n\tkhaki: 'f0e68c',\n\tlavFMr: 'e6e6fa',\n\tlavFMrXsh: 'fff0f5',\n\tlawngYF: '7cfc00',\n\tNmoncEffon: 'fffacd',\n\tZXe: 'add8e6',\n\tZcSO: 'f08080',\n\tZcyan: 'e0ffff',\n\tZgTMnPdLw: 'fafad2',\n\tZWay: 'd3d3d3',\n\tZgYF: '90ee90',\n\tZgYy: 'd3d3d3',\n\tZpRk: 'ffb6c1',\n\tZsOmon: 'ffa07a',\n\tZsHgYF: '20b2aa',\n\tZskyXe: '87cefa',\n\tZUWay: '778899',\n\tZUgYy: '778899',\n\tZstAlXe: 'b0c4de',\n\tZLw: 'ffffe0',\n\tlime: 'ff00',\n\tlimegYF: '32cd32',\n\tlRF: 'faf0e6',\n\tmagFta: 'ff00ff',\n\tmaPon: '800000',\n\tVaquamarRe: '66cdaa',\n\tVXe: 'cd',\n\tVScEd: 'ba55d3',\n\tVpurpN: '9370db',\n\tVsHgYF: '3cb371',\n\tVUXe: '7b68ee',\n\tVsprRggYF: 'fa9a',\n\tVQe: '48d1cc',\n\tVviTetYd: 'c71585',\n\tmidnightXe: '191970',\n\tmRtcYam: 'f5fffa',\n\tmistyPse: 'ffe4e1',\n\tmoccasR: 'ffe4b5',\n\tnavajowEte: 'ffdead',\n\tnavy: '80',\n\tTdlace: 'fdf5e6',\n\tTive: '808000',\n\tTivedBb: '6b8e23',\n\tSange: 'ffa500',\n\tSangeYd: 'ff4500',\n\tScEd: 'da70d6',\n\tpOegTMnPd: 'eee8aa',\n\tpOegYF: '98fb98',\n\tpOeQe: 'afeeee',\n\tpOeviTetYd: 'db7093',\n\tpapayawEp: 'ffefd5',\n\tpHKpuff: 'ffdab9',\n\tperu: 'cd853f',\n\tpRk: 'ffc0cb',\n\tplum: 'dda0dd',\n\tpowMrXe: 'b0e0e6',\n\tpurpN: '800080',\n\tYbeccapurpN: '663399',\n\tYd: 'ff0000',\n\tPsybrown: 'bc8f8f',\n\tPyOXe: '4169e1',\n\tsaddNbPwn: '8b4513',\n\tsOmon: 'fa8072',\n\tsandybPwn: 'f4a460',\n\tsHgYF: '2e8b57',\n\tsHshell: 'fff5ee',\n\tsiFna: 'a0522d',\n\tsilver: 'c0c0c0',\n\tskyXe: '87ceeb',\n\tUXe: '6a5acd',\n\tUWay: '708090',\n\tUgYy: '708090',\n\tsnow: 'fffafa',\n\tsprRggYF: 'ff7f',\n\tstAlXe: '4682b4',\n\ttan: 'd2b48c',\n\tteO: '8080',\n\ttEstN: 'd8bfd8',\n\ttomato: 'ff6347',\n\tQe: '40e0d0',\n\tviTet: 'ee82ee',\n\tJHt: 'f5deb3',\n\twEte: 'ffffff',\n\twEtesmoke: 'f5f5f5',\n\tLw: 'ffff00',\n\tLwgYF: '9acd32'\n};\nfunction unpack() {\n\tconst unpacked = {};\n\tconst keys = Object.keys(names);\n\tconst tkeys = Object.keys(map$1);\n\tlet i, j, k, ok, nk;\n\tfor (i = 0; i < keys.length; i++) {\n\t\tok = nk = keys[i];\n\t\tfor (j = 0; j < tkeys.length; j++) {\n\t\t\tk = tkeys[j];\n\t\t\tnk = nk.replace(k, map$1[k]);\n\t\t}\n\t\tk = parseInt(names[ok], 16);\n\t\tunpacked[nk] = [k >> 16 & 0xFF, k >> 8 & 0xFF, k & 0xFF];\n\t}\n\treturn unpacked;\n}\nlet names$1;\nfunction nameParse(str) {\n\tif (!names$1) {\n\t\tnames$1 = unpack();\n\t\tnames$1.transparent = [0, 0, 0, 0];\n\t}\n\tconst a = names$1[str.toLowerCase()];\n\treturn a && {\n\t\tr: a[0],\n\t\tg: a[1],\n\t\tb: a[2],\n\t\ta: a.length === 4 ? a[3] : 255\n\t};\n}\nfunction modHSL(v, i, ratio) {\n\tif (v) {\n\t\tlet tmp = rgb2hsl(v);\n\t\ttmp[i] = Math.max(0, Math.min(tmp[i] + tmp[i] * ratio, i === 0 ? 360 : 1));\n\t\ttmp = hsl2rgb(tmp);\n\t\tv.r = tmp[0];\n\t\tv.g = tmp[1];\n\t\tv.b = tmp[2];\n\t}\n}\nfunction clone(v, proto) {\n\treturn v ? Object.assign(proto || {}, v) : v;\n}\nfunction fromObject(input) {\n\tvar v = {r: 0, g: 0, b: 0, a: 255};\n\tif (Array.isArray(input)) {\n\t\tif (input.length >= 3) {\n\t\t\tv = {r: input[0], g: input[1], b: input[2], a: 255};\n\t\t\tif (input.length > 3) {\n\t\t\t\tv.a = n2b(input[3]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\tv = clone(input, {r: 0, g: 0, b: 0, a: 1});\n\t\tv.a = n2b(v.a);\n\t}\n\treturn v;\n}\nfunction functionParse(str) {\n\tif (str.charAt(0) === 'r') {\n\t\treturn rgbParse(str);\n\t}\n\treturn hueParse(str);\n}\nclass Color {\n\tconstructor(input) {\n\t\tif (input instanceof Color) {\n\t\t\treturn input;\n\t\t}\n\t\tconst type = typeof input;\n\t\tlet v;\n\t\tif (type === 'object') {\n\t\t\tv = fromObject(input);\n\t\t} else if (type === 'string') {\n\t\t\tv = hexParse(input) || nameParse(input) || functionParse(input);\n\t\t}\n\t\tthis._rgb = v;\n\t\tthis._valid = !!v;\n\t}\n\tget valid() {\n\t\treturn this._valid;\n\t}\n\tget rgb() {\n\t\tvar v = clone(this._rgb);\n\t\tif (v) {\n\t\t\tv.a = b2n(v.a);\n\t\t}\n\t\treturn v;\n\t}\n\tset rgb(obj) {\n\t\tthis._rgb = fromObject(obj);\n\t}\n\trgbString() {\n\t\treturn this._valid ? rgbString(this._rgb) : this._rgb;\n\t}\n\thexString() {\n\t\treturn this._valid ? hexString(this._rgb) : this._rgb;\n\t}\n\thslString() {\n\t\treturn this._valid ? hslString(this._rgb) : this._rgb;\n\t}\n\tmix(color, weight) {\n\t\tconst me = this;\n\t\tif (color) {\n\t\t\tconst c1 = me.rgb;\n\t\t\tconst c2 = color.rgb;\n\t\t\tlet w2;\n\t\t\tconst p = weight === w2 ? 0.5 : weight;\n\t\t\tconst w = 2 * p - 1;\n\t\t\tconst a = c1.a - c2.a;\n\t\t\tconst w1 = ((w * a === -1 ? w : (w + a) / (1 + w * a)) + 1) / 2.0;\n\t\t\tw2 = 1 - w1;\n\t\t\tc1.r = 0xFF & w1 * c1.r + w2 * c2.r + 0.5;\n\t\t\tc1.g = 0xFF & w1 * c1.g + w2 * c2.g + 0.5;\n\t\t\tc1.b = 0xFF & w1 * c1.b + w2 * c2.b + 0.5;\n\t\t\tc1.a = p * c1.a + (1 - p) * c2.a;\n\t\t\tme.rgb = c1;\n\t\t}\n\t\treturn me;\n\t}\n\tclone() {\n\t\treturn new Color(this.rgb);\n\t}\n\talpha(a) {\n\t\tthis._rgb.a = n2b(a);\n\t\treturn this;\n\t}\n\tclearer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 - ratio;\n\t\treturn this;\n\t}\n\tgreyscale() {\n\t\tconst rgb = this._rgb;\n\t\tconst val = round(rgb.r * 0.3 + rgb.g * 0.59 + rgb.b * 0.11);\n\t\trgb.r = rgb.g = rgb.b = val;\n\t\treturn this;\n\t}\n\topaquer(ratio) {\n\t\tconst rgb = this._rgb;\n\t\trgb.a *= 1 + ratio;\n\t\treturn this;\n\t}\n\tnegate() {\n\t\tconst v = this._rgb;\n\t\tv.r = 255 - v.r;\n\t\tv.g = 255 - v.g;\n\t\tv.b = 255 - v.b;\n\t\treturn this;\n\t}\n\tlighten(ratio) {\n\t\tmodHSL(this._rgb, 2, ratio);\n\t\treturn this;\n\t}\n\tdarken(ratio) {\n\t\tmodHSL(this._rgb, 2, -ratio);\n\t\treturn this;\n\t}\n\tsaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, ratio);\n\t\treturn this;\n\t}\n\tdesaturate(ratio) {\n\t\tmodHSL(this._rgb, 1, -ratio);\n\t\treturn this;\n\t}\n\trotate(deg) {\n\t\trotate(this._rgb, deg);\n\t\treturn this;\n\t}\n}\nfunction index_esm(input) {\n\treturn new Color(input);\n}\n\nconst isPatternOrGradient = (value) => value instanceof CanvasGradient || value instanceof CanvasPattern;\nfunction color(value) {\n  return isPatternOrGradient(value) ? value : index_esm(value);\n}\nfunction getHoverColor(value) {\n  return isPatternOrGradient(value)\n    ? value\n    : index_esm(value).saturate(0.5).darken(0.1).hexString();\n}\n\nconst overrides = Object.create(null);\nconst descriptors = Object.create(null);\nfunction getScope$1(node, key) {\n  if (!key) {\n    return node;\n  }\n  const keys = key.split('.');\n  for (let i = 0, n = keys.length; i < n; ++i) {\n    const k = keys[i];\n    node = node[k] || (node[k] = Object.create(null));\n  }\n  return node;\n}\nfunction set(root, scope, values) {\n  if (typeof scope === 'string') {\n    return merge(getScope$1(root, scope), values);\n  }\n  return merge(getScope$1(root, ''), scope);\n}\nclass Defaults {\n  constructor(_descriptors) {\n    this.animation = undefined;\n    this.backgroundColor = 'rgba(0,0,0,0.1)';\n    this.borderColor = 'rgba(0,0,0,0.1)';\n    this.color = '#666';\n    this.datasets = {};\n    this.devicePixelRatio = (context) => context.chart.platform.getDevicePixelRatio();\n    this.elements = {};\n    this.events = [\n      'mousemove',\n      'mouseout',\n      'click',\n      'touchstart',\n      'touchmove'\n    ];\n    this.font = {\n      family: \"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif\",\n      size: 12,\n      style: 'normal',\n      lineHeight: 1.2,\n      weight: null\n    };\n    this.hover = {};\n    this.hoverBackgroundColor = (ctx, options) => getHoverColor(options.backgroundColor);\n    this.hoverBorderColor = (ctx, options) => getHoverColor(options.borderColor);\n    this.hoverColor = (ctx, options) => getHoverColor(options.color);\n    this.indexAxis = 'x';\n    this.interaction = {\n      mode: 'nearest',\n      intersect: true\n    };\n    this.maintainAspectRatio = true;\n    this.onHover = null;\n    this.onClick = null;\n    this.parsing = true;\n    this.plugins = {};\n    this.responsive = true;\n    this.scale = undefined;\n    this.scales = {};\n    this.showLine = true;\n    this.drawActiveElementsOnTop = true;\n    this.describe(_descriptors);\n  }\n  set(scope, values) {\n    return set(this, scope, values);\n  }\n  get(scope) {\n    return getScope$1(this, scope);\n  }\n  describe(scope, values) {\n    return set(descriptors, scope, values);\n  }\n  override(scope, values) {\n    return set(overrides, scope, values);\n  }\n  route(scope, name, targetScope, targetName) {\n    const scopeObject = getScope$1(this, scope);\n    const targetScopeObject = getScope$1(this, targetScope);\n    const privateName = '_' + name;\n    Object.defineProperties(scopeObject, {\n      [privateName]: {\n        value: scopeObject[name],\n        writable: true\n      },\n      [name]: {\n        enumerable: true,\n        get() {\n          const local = this[privateName];\n          const target = targetScopeObject[targetName];\n          if (isObject(local)) {\n            return Object.assign({}, target, local);\n          }\n          return valueOrDefault(local, target);\n        },\n        set(value) {\n          this[privateName] = value;\n        }\n      }\n    });\n  }\n}\nvar defaults = new Defaults({\n  _scriptable: (name) => !name.startsWith('on'),\n  _indexable: (name) => name !== 'events',\n  hover: {\n    _fallback: 'interaction'\n  },\n  interaction: {\n    _scriptable: false,\n    _indexable: false,\n  }\n});\n\nfunction toFontString(font) {\n  if (!font || isNullOrUndef(font.size) || isNullOrUndef(font.family)) {\n    return null;\n  }\n  return (font.style ? font.style + ' ' : '')\n\t\t+ (font.weight ? font.weight + ' ' : '')\n\t\t+ font.size + 'px '\n\t\t+ font.family;\n}\nfunction _measureText(ctx, data, gc, longest, string) {\n  let textWidth = data[string];\n  if (!textWidth) {\n    textWidth = data[string] = ctx.measureText(string).width;\n    gc.push(string);\n  }\n  if (textWidth > longest) {\n    longest = textWidth;\n  }\n  return longest;\n}\nfunction _longestText(ctx, font, arrayOfThings, cache) {\n  cache = cache || {};\n  let data = cache.data = cache.data || {};\n  let gc = cache.garbageCollect = cache.garbageCollect || [];\n  if (cache.font !== font) {\n    data = cache.data = {};\n    gc = cache.garbageCollect = [];\n    cache.font = font;\n  }\n  ctx.save();\n  ctx.font = font;\n  let longest = 0;\n  const ilen = arrayOfThings.length;\n  let i, j, jlen, thing, nestedThing;\n  for (i = 0; i < ilen; i++) {\n    thing = arrayOfThings[i];\n    if (thing !== undefined && thing !== null && isArray(thing) !== true) {\n      longest = _measureText(ctx, data, gc, longest, thing);\n    } else if (isArray(thing)) {\n      for (j = 0, jlen = thing.length; j < jlen; j++) {\n        nestedThing = thing[j];\n        if (nestedThing !== undefined && nestedThing !== null && !isArray(nestedThing)) {\n          longest = _measureText(ctx, data, gc, longest, nestedThing);\n        }\n      }\n    }\n  }\n  ctx.restore();\n  const gcLen = gc.length / 2;\n  if (gcLen > arrayOfThings.length) {\n    for (i = 0; i < gcLen; i++) {\n      delete data[gc[i]];\n    }\n    gc.splice(0, gcLen);\n  }\n  return longest;\n}\nfunction _alignPixel(chart, pixel, width) {\n  const devicePixelRatio = chart.currentDevicePixelRatio;\n  const halfWidth = width !== 0 ? Math.max(width / 2, 0.5) : 0;\n  return Math.round((pixel - halfWidth) * devicePixelRatio) / devicePixelRatio + halfWidth;\n}\nfunction clearCanvas(canvas, ctx) {\n  ctx = ctx || canvas.getContext('2d');\n  ctx.save();\n  ctx.resetTransform();\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.restore();\n}\nfunction drawPoint(ctx, options, x, y) {\n  let type, xOffset, yOffset, size, cornerRadius;\n  const style = options.pointStyle;\n  const rotation = options.rotation;\n  const radius = options.radius;\n  let rad = (rotation || 0) * RAD_PER_DEG;\n  if (style && typeof style === 'object') {\n    type = style.toString();\n    if (type === '[object HTMLImageElement]' || type === '[object HTMLCanvasElement]') {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.rotate(rad);\n      ctx.drawImage(style, -style.width / 2, -style.height / 2, style.width, style.height);\n      ctx.restore();\n      return;\n    }\n  }\n  if (isNaN(radius) || radius <= 0) {\n    return;\n  }\n  ctx.beginPath();\n  switch (style) {\n  default:\n    ctx.arc(x, y, radius, 0, TAU);\n    ctx.closePath();\n    break;\n  case 'triangle':\n    ctx.moveTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    rad += TWO_THIRDS_PI;\n    ctx.lineTo(x + Math.sin(rad) * radius, y - Math.cos(rad) * radius);\n    ctx.closePath();\n    break;\n  case 'rectRounded':\n    cornerRadius = radius * 0.516;\n    size = radius - cornerRadius;\n    xOffset = Math.cos(rad + QUARTER_PI) * size;\n    yOffset = Math.sin(rad + QUARTER_PI) * size;\n    ctx.arc(x - xOffset, y - yOffset, cornerRadius, rad - PI, rad - HALF_PI);\n    ctx.arc(x + yOffset, y - xOffset, cornerRadius, rad - HALF_PI, rad);\n    ctx.arc(x + xOffset, y + yOffset, cornerRadius, rad, rad + HALF_PI);\n    ctx.arc(x - yOffset, y + xOffset, cornerRadius, rad + HALF_PI, rad + PI);\n    ctx.closePath();\n    break;\n  case 'rect':\n    if (!rotation) {\n      size = Math.SQRT1_2 * radius;\n      ctx.rect(x - size, y - size, 2 * size, 2 * size);\n      break;\n    }\n    rad += QUARTER_PI;\n  case 'rectRot':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    ctx.closePath();\n    break;\n  case 'crossRot':\n    rad += QUARTER_PI;\n  case 'cross':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'star':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    rad += QUARTER_PI;\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    ctx.moveTo(x + yOffset, y - xOffset);\n    ctx.lineTo(x - yOffset, y + xOffset);\n    break;\n  case 'line':\n    xOffset = Math.cos(rad) * radius;\n    yOffset = Math.sin(rad) * radius;\n    ctx.moveTo(x - xOffset, y - yOffset);\n    ctx.lineTo(x + xOffset, y + yOffset);\n    break;\n  case 'dash':\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + Math.cos(rad) * radius, y + Math.sin(rad) * radius);\n    break;\n  }\n  ctx.fill();\n  if (options.borderWidth > 0) {\n    ctx.stroke();\n  }\n}\nfunction _isPointInArea(point, area, margin) {\n  margin = margin || 0.5;\n  return !area || (point && point.x > area.left - margin && point.x < area.right + margin &&\n\t\tpoint.y > area.top - margin && point.y < area.bottom + margin);\n}\nfunction clipArea(ctx, area) {\n  ctx.save();\n  ctx.beginPath();\n  ctx.rect(area.left, area.top, area.right - area.left, area.bottom - area.top);\n  ctx.clip();\n}\nfunction unclipArea(ctx) {\n  ctx.restore();\n}\nfunction _steppedLineTo(ctx, previous, target, flip, mode) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  if (mode === 'middle') {\n    const midpoint = (previous.x + target.x) / 2.0;\n    ctx.lineTo(midpoint, previous.y);\n    ctx.lineTo(midpoint, target.y);\n  } else if (mode === 'after' !== !!flip) {\n    ctx.lineTo(previous.x, target.y);\n  } else {\n    ctx.lineTo(target.x, previous.y);\n  }\n  ctx.lineTo(target.x, target.y);\n}\nfunction _bezierCurveTo(ctx, previous, target, flip) {\n  if (!previous) {\n    return ctx.lineTo(target.x, target.y);\n  }\n  ctx.bezierCurveTo(\n    flip ? previous.cp1x : previous.cp2x,\n    flip ? previous.cp1y : previous.cp2y,\n    flip ? target.cp2x : target.cp1x,\n    flip ? target.cp2y : target.cp1y,\n    target.x,\n    target.y);\n}\nfunction renderText(ctx, text, x, y, font, opts = {}) {\n  const lines = isArray(text) ? text : [text];\n  const stroke = opts.strokeWidth > 0 && opts.strokeColor !== '';\n  let i, line;\n  ctx.save();\n  ctx.font = font.string;\n  setRenderOpts(ctx, opts);\n  for (i = 0; i < lines.length; ++i) {\n    line = lines[i];\n    if (stroke) {\n      if (opts.strokeColor) {\n        ctx.strokeStyle = opts.strokeColor;\n      }\n      if (!isNullOrUndef(opts.strokeWidth)) {\n        ctx.lineWidth = opts.strokeWidth;\n      }\n      ctx.strokeText(line, x, y, opts.maxWidth);\n    }\n    ctx.fillText(line, x, y, opts.maxWidth);\n    decorateText(ctx, x, y, line, opts);\n    y += font.lineHeight;\n  }\n  ctx.restore();\n}\nfunction setRenderOpts(ctx, opts) {\n  if (opts.translation) {\n    ctx.translate(opts.translation[0], opts.translation[1]);\n  }\n  if (!isNullOrUndef(opts.rotation)) {\n    ctx.rotate(opts.rotation);\n  }\n  if (opts.color) {\n    ctx.fillStyle = opts.color;\n  }\n  if (opts.textAlign) {\n    ctx.textAlign = opts.textAlign;\n  }\n  if (opts.textBaseline) {\n    ctx.textBaseline = opts.textBaseline;\n  }\n}\nfunction decorateText(ctx, x, y, line, opts) {\n  if (opts.strikethrough || opts.underline) {\n    const metrics = ctx.measureText(line);\n    const left = x - metrics.actualBoundingBoxLeft;\n    const right = x + metrics.actualBoundingBoxRight;\n    const top = y - metrics.actualBoundingBoxAscent;\n    const bottom = y + metrics.actualBoundingBoxDescent;\n    const yDecoration = opts.strikethrough ? (top + bottom) / 2 : bottom;\n    ctx.strokeStyle = ctx.fillStyle;\n    ctx.beginPath();\n    ctx.lineWidth = opts.decorationWidth || 2;\n    ctx.moveTo(left, yDecoration);\n    ctx.lineTo(right, yDecoration);\n    ctx.stroke();\n  }\n}\nfunction addRoundedRectPath(ctx, rect) {\n  const {x, y, w, h, radius} = rect;\n  ctx.arc(x + radius.topLeft, y + radius.topLeft, radius.topLeft, -HALF_PI, PI, true);\n  ctx.lineTo(x, y + h - radius.bottomLeft);\n  ctx.arc(x + radius.bottomLeft, y + h - radius.bottomLeft, radius.bottomLeft, PI, HALF_PI, true);\n  ctx.lineTo(x + w - radius.bottomRight, y + h);\n  ctx.arc(x + w - radius.bottomRight, y + h - radius.bottomRight, radius.bottomRight, HALF_PI, 0, true);\n  ctx.lineTo(x + w, y + radius.topRight);\n  ctx.arc(x + w - radius.topRight, y + radius.topRight, radius.topRight, 0, -HALF_PI, true);\n  ctx.lineTo(x + radius.topLeft, y);\n}\n\nconst LINE_HEIGHT = new RegExp(/^(normal|(\\d+(?:\\.\\d+)?)(px|em|%)?)$/);\nconst FONT_STYLE = new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);\nfunction toLineHeight(value, size) {\n  const matches = ('' + value).match(LINE_HEIGHT);\n  if (!matches || matches[1] === 'normal') {\n    return size * 1.2;\n  }\n  value = +matches[2];\n  switch (matches[3]) {\n  case 'px':\n    return value;\n  case '%':\n    value /= 100;\n    break;\n  }\n  return size * value;\n}\nconst numberOrZero = v => +v || 0;\nfunction _readValueToProps(value, props) {\n  const ret = {};\n  const objProps = isObject(props);\n  const keys = objProps ? Object.keys(props) : props;\n  const read = isObject(value)\n    ? objProps\n      ? prop => valueOrDefault(value[prop], value[props[prop]])\n      : prop => value[prop]\n    : () => value;\n  for (const prop of keys) {\n    ret[prop] = numberOrZero(read(prop));\n  }\n  return ret;\n}\nfunction toTRBL(value) {\n  return _readValueToProps(value, {top: 'y', right: 'x', bottom: 'y', left: 'x'});\n}\nfunction toTRBLCorners(value) {\n  return _readValueToProps(value, ['topLeft', 'topRight', 'bottomLeft', 'bottomRight']);\n}\nfunction toPadding(value) {\n  const obj = toTRBL(value);\n  obj.width = obj.left + obj.right;\n  obj.height = obj.top + obj.bottom;\n  return obj;\n}\nfunction toFont(options, fallback) {\n  options = options || {};\n  fallback = fallback || defaults.font;\n  let size = valueOrDefault(options.size, fallback.size);\n  if (typeof size === 'string') {\n    size = parseInt(size, 10);\n  }\n  let style = valueOrDefault(options.style, fallback.style);\n  if (style && !('' + style).match(FONT_STYLE)) {\n    console.warn('Invalid font style specified: \"' + style + '\"');\n    style = '';\n  }\n  const font = {\n    family: valueOrDefault(options.family, fallback.family),\n    lineHeight: toLineHeight(valueOrDefault(options.lineHeight, fallback.lineHeight), size),\n    size,\n    style,\n    weight: valueOrDefault(options.weight, fallback.weight),\n    string: ''\n  };\n  font.string = toFontString(font);\n  return font;\n}\nfunction resolve(inputs, context, index, info) {\n  let cacheable = true;\n  let i, ilen, value;\n  for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n    value = inputs[i];\n    if (value === undefined) {\n      continue;\n    }\n    if (context !== undefined && typeof value === 'function') {\n      value = value(context);\n      cacheable = false;\n    }\n    if (index !== undefined && isArray(value)) {\n      value = value[index % value.length];\n      cacheable = false;\n    }\n    if (value !== undefined) {\n      if (info && !cacheable) {\n        info.cacheable = false;\n      }\n      return value;\n    }\n  }\n}\nfunction _addGrace(minmax, grace, beginAtZero) {\n  const {min, max} = minmax;\n  const change = toDimension(grace, (max - min) / 2);\n  const keepZero = (value, add) => beginAtZero && value === 0 ? 0 : value + add;\n  return {\n    min: keepZero(min, -Math.abs(change)),\n    max: keepZero(max, change)\n  };\n}\nfunction createContext(parentContext, context) {\n  return Object.assign(Object.create(parentContext), context);\n}\n\nfunction _lookup(table, value, cmp) {\n  cmp = cmp || ((index) => table[index] < value);\n  let hi = table.length - 1;\n  let lo = 0;\n  let mid;\n  while (hi - lo > 1) {\n    mid = (lo + hi) >> 1;\n    if (cmp(mid)) {\n      lo = mid;\n    } else {\n      hi = mid;\n    }\n  }\n  return {lo, hi};\n}\nconst _lookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] < value);\nconst _rlookupByKey = (table, key, value) =>\n  _lookup(table, value, index => table[index][key] >= value);\nfunction _filterBetween(values, min, max) {\n  let start = 0;\n  let end = values.length;\n  while (start < end && values[start] < min) {\n    start++;\n  }\n  while (end > start && values[end - 1] > max) {\n    end--;\n  }\n  return start > 0 || end < values.length\n    ? values.slice(start, end)\n    : values;\n}\nconst arrayEvents = ['push', 'pop', 'shift', 'splice', 'unshift'];\nfunction listenArrayEvents(array, listener) {\n  if (array._chartjs) {\n    array._chartjs.listeners.push(listener);\n    return;\n  }\n  Object.defineProperty(array, '_chartjs', {\n    configurable: true,\n    enumerable: false,\n    value: {\n      listeners: [listener]\n    }\n  });\n  arrayEvents.forEach((key) => {\n    const method = '_onData' + _capitalize(key);\n    const base = array[key];\n    Object.defineProperty(array, key, {\n      configurable: true,\n      enumerable: false,\n      value(...args) {\n        const res = base.apply(this, args);\n        array._chartjs.listeners.forEach((object) => {\n          if (typeof object[method] === 'function') {\n            object[method](...args);\n          }\n        });\n        return res;\n      }\n    });\n  });\n}\nfunction unlistenArrayEvents(array, listener) {\n  const stub = array._chartjs;\n  if (!stub) {\n    return;\n  }\n  const listeners = stub.listeners;\n  const index = listeners.indexOf(listener);\n  if (index !== -1) {\n    listeners.splice(index, 1);\n  }\n  if (listeners.length > 0) {\n    return;\n  }\n  arrayEvents.forEach((key) => {\n    delete array[key];\n  });\n  delete array._chartjs;\n}\nfunction _arrayUnique(items) {\n  const set = new Set();\n  let i, ilen;\n  for (i = 0, ilen = items.length; i < ilen; ++i) {\n    set.add(items[i]);\n  }\n  if (set.size === ilen) {\n    return items;\n  }\n  return Array.from(set);\n}\n\nfunction _createResolver(scopes, prefixes = [''], rootScopes = scopes, fallback, getTarget = () => scopes[0]) {\n  if (!defined(fallback)) {\n    fallback = _resolve('_fallback', scopes);\n  }\n  const cache = {\n    [Symbol.toStringTag]: 'Object',\n    _cacheable: true,\n    _scopes: scopes,\n    _rootScopes: rootScopes,\n    _fallback: fallback,\n    _getTarget: getTarget,\n    override: (scope) => _createResolver([scope, ...scopes], prefixes, rootScopes, fallback),\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete target._keys;\n      delete scopes[0][prop];\n      return true;\n    },\n    get(target, prop) {\n      return _cached(target, prop,\n        () => _resolveWithPrefixes(prop, prefixes, scopes, target));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return Reflect.getOwnPropertyDescriptor(target._scopes[0], prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(scopes[0]);\n    },\n    has(target, prop) {\n      return getKeysFromAllScopes(target).includes(prop);\n    },\n    ownKeys(target) {\n      return getKeysFromAllScopes(target);\n    },\n    set(target, prop, value) {\n      const storage = target._storage || (target._storage = getTarget());\n      target[prop] = storage[prop] = value;\n      delete target._keys;\n      return true;\n    }\n  });\n}\nfunction _attachContext(proxy, context, subProxy, descriptorDefaults) {\n  const cache = {\n    _cacheable: false,\n    _proxy: proxy,\n    _context: context,\n    _subProxy: subProxy,\n    _stack: new Set(),\n    _descriptors: _descriptors(proxy, descriptorDefaults),\n    setContext: (ctx) => _attachContext(proxy, ctx, subProxy, descriptorDefaults),\n    override: (scope) => _attachContext(proxy.override(scope), context, subProxy, descriptorDefaults)\n  };\n  return new Proxy(cache, {\n    deleteProperty(target, prop) {\n      delete target[prop];\n      delete proxy[prop];\n      return true;\n    },\n    get(target, prop, receiver) {\n      return _cached(target, prop,\n        () => _resolveWithContext(target, prop, receiver));\n    },\n    getOwnPropertyDescriptor(target, prop) {\n      return target._descriptors.allKeys\n        ? Reflect.has(proxy, prop) ? {enumerable: true, configurable: true} : undefined\n        : Reflect.getOwnPropertyDescriptor(proxy, prop);\n    },\n    getPrototypeOf() {\n      return Reflect.getPrototypeOf(proxy);\n    },\n    has(target, prop) {\n      return Reflect.has(proxy, prop);\n    },\n    ownKeys() {\n      return Reflect.ownKeys(proxy);\n    },\n    set(target, prop, value) {\n      proxy[prop] = value;\n      delete target[prop];\n      return true;\n    }\n  });\n}\nfunction _descriptors(proxy, defaults = {scriptable: true, indexable: true}) {\n  const {_scriptable = defaults.scriptable, _indexable = defaults.indexable, _allKeys = defaults.allKeys} = proxy;\n  return {\n    allKeys: _allKeys,\n    scriptable: _scriptable,\n    indexable: _indexable,\n    isScriptable: isFunction(_scriptable) ? _scriptable : () => _scriptable,\n    isIndexable: isFunction(_indexable) ? _indexable : () => _indexable\n  };\n}\nconst readKey = (prefix, name) => prefix ? prefix + _capitalize(name) : name;\nconst needsSubResolver = (prop, value) => isObject(value) && prop !== 'adapters' &&\n  (Object.getPrototypeOf(value) === null || value.constructor === Object);\nfunction _cached(target, prop, resolve) {\n  if (Object.prototype.hasOwnProperty.call(target, prop)) {\n    return target[prop];\n  }\n  const value = resolve();\n  target[prop] = value;\n  return value;\n}\nfunction _resolveWithContext(target, prop, receiver) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  let value = _proxy[prop];\n  if (isFunction(value) && descriptors.isScriptable(prop)) {\n    value = _resolveScriptable(prop, value, target, receiver);\n  }\n  if (isArray(value) && value.length) {\n    value = _resolveArray(prop, value, target, descriptors.isIndexable);\n  }\n  if (needsSubResolver(prop, value)) {\n    value = _attachContext(value, _context, _subProxy && _subProxy[prop], descriptors);\n  }\n  return value;\n}\nfunction _resolveScriptable(prop, value, target, receiver) {\n  const {_proxy, _context, _subProxy, _stack} = target;\n  if (_stack.has(prop)) {\n    throw new Error('Recursion detected: ' + Array.from(_stack).join('->') + '->' + prop);\n  }\n  _stack.add(prop);\n  value = value(_context, _subProxy || receiver);\n  _stack.delete(prop);\n  if (needsSubResolver(prop, value)) {\n    value = createSubResolver(_proxy._scopes, _proxy, prop, value);\n  }\n  return value;\n}\nfunction _resolveArray(prop, value, target, isIndexable) {\n  const {_proxy, _context, _subProxy, _descriptors: descriptors} = target;\n  if (defined(_context.index) && isIndexable(prop)) {\n    value = value[_context.index % value.length];\n  } else if (isObject(value[0])) {\n    const arr = value;\n    const scopes = _proxy._scopes.filter(s => s !== arr);\n    value = [];\n    for (const item of arr) {\n      const resolver = createSubResolver(scopes, _proxy, prop, item);\n      value.push(_attachContext(resolver, _context, _subProxy && _subProxy[prop], descriptors));\n    }\n  }\n  return value;\n}\nfunction resolveFallback(fallback, prop, value) {\n  return isFunction(fallback) ? fallback(prop, value) : fallback;\n}\nconst getScope = (key, parent) => key === true ? parent\n  : typeof key === 'string' ? resolveObjectKey(parent, key) : undefined;\nfunction addScopes(set, parentScopes, key, parentFallback, value) {\n  for (const parent of parentScopes) {\n    const scope = getScope(key, parent);\n    if (scope) {\n      set.add(scope);\n      const fallback = resolveFallback(scope._fallback, key, value);\n      if (defined(fallback) && fallback !== key && fallback !== parentFallback) {\n        return fallback;\n      }\n    } else if (scope === false && defined(parentFallback) && key !== parentFallback) {\n      return null;\n    }\n  }\n  return false;\n}\nfunction createSubResolver(parentScopes, resolver, prop, value) {\n  const rootScopes = resolver._rootScopes;\n  const fallback = resolveFallback(resolver._fallback, prop, value);\n  const allScopes = [...parentScopes, ...rootScopes];\n  const set = new Set();\n  set.add(value);\n  let key = addScopesFromKey(set, allScopes, prop, fallback || prop, value);\n  if (key === null) {\n    return false;\n  }\n  if (defined(fallback) && fallback !== prop) {\n    key = addScopesFromKey(set, allScopes, fallback, key, value);\n    if (key === null) {\n      return false;\n    }\n  }\n  return _createResolver(Array.from(set), [''], rootScopes, fallback,\n    () => subGetTarget(resolver, prop, value));\n}\nfunction addScopesFromKey(set, allScopes, key, fallback, item) {\n  while (key) {\n    key = addScopes(set, allScopes, key, fallback, item);\n  }\n  return key;\n}\nfunction subGetTarget(resolver, prop, value) {\n  const parent = resolver._getTarget();\n  if (!(prop in parent)) {\n    parent[prop] = {};\n  }\n  const target = parent[prop];\n  if (isArray(target) && isObject(value)) {\n    return value;\n  }\n  return target;\n}\nfunction _resolveWithPrefixes(prop, prefixes, scopes, proxy) {\n  let value;\n  for (const prefix of prefixes) {\n    value = _resolve(readKey(prefix, prop), scopes);\n    if (defined(value)) {\n      return needsSubResolver(prop, value)\n        ? createSubResolver(scopes, proxy, prop, value)\n        : value;\n    }\n  }\n}\nfunction _resolve(key, scopes) {\n  for (const scope of scopes) {\n    if (!scope) {\n      continue;\n    }\n    const value = scope[key];\n    if (defined(value)) {\n      return value;\n    }\n  }\n}\nfunction getKeysFromAllScopes(target) {\n  let keys = target._keys;\n  if (!keys) {\n    keys = target._keys = resolveKeysFromAllScopes(target._scopes);\n  }\n  return keys;\n}\nfunction resolveKeysFromAllScopes(scopes) {\n  const set = new Set();\n  for (const scope of scopes) {\n    for (const key of Object.keys(scope).filter(k => !k.startsWith('_'))) {\n      set.add(key);\n    }\n  }\n  return Array.from(set);\n}\n\nconst EPSILON = Number.EPSILON || 1e-14;\nconst getPoint = (points, i) => i < points.length && !points[i].skip && points[i];\nconst getValueAxis = (indexAxis) => indexAxis === 'x' ? 'y' : 'x';\nfunction splineCurve(firstPoint, middlePoint, afterPoint, t) {\n  const previous = firstPoint.skip ? middlePoint : firstPoint;\n  const current = middlePoint;\n  const next = afterPoint.skip ? middlePoint : afterPoint;\n  const d01 = distanceBetweenPoints(current, previous);\n  const d12 = distanceBetweenPoints(next, current);\n  let s01 = d01 / (d01 + d12);\n  let s12 = d12 / (d01 + d12);\n  s01 = isNaN(s01) ? 0 : s01;\n  s12 = isNaN(s12) ? 0 : s12;\n  const fa = t * s01;\n  const fb = t * s12;\n  return {\n    previous: {\n      x: current.x - fa * (next.x - previous.x),\n      y: current.y - fa * (next.y - previous.y)\n    },\n    next: {\n      x: current.x + fb * (next.x - previous.x),\n      y: current.y + fb * (next.y - previous.y)\n    }\n  };\n}\nfunction monotoneAdjust(points, deltaK, mK) {\n  const pointsLen = points.length;\n  let alphaK, betaK, tauK, squaredMagnitude, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen - 1; ++i) {\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent || !pointAfter) {\n      continue;\n    }\n    if (almostEquals(deltaK[i], 0, EPSILON)) {\n      mK[i] = mK[i + 1] = 0;\n      continue;\n    }\n    alphaK = mK[i] / deltaK[i];\n    betaK = mK[i + 1] / deltaK[i];\n    squaredMagnitude = Math.pow(alphaK, 2) + Math.pow(betaK, 2);\n    if (squaredMagnitude <= 9) {\n      continue;\n    }\n    tauK = 3 / Math.sqrt(squaredMagnitude);\n    mK[i] = alphaK * tauK * deltaK[i];\n    mK[i + 1] = betaK * tauK * deltaK[i];\n  }\n}\nfunction monotoneCompute(points, mK, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  let delta, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (let i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    const iPixel = pointCurrent[indexAxis];\n    const vPixel = pointCurrent[valueAxis];\n    if (pointBefore) {\n      delta = (iPixel - pointBefore[indexAxis]) / 3;\n      pointCurrent[`cp1${indexAxis}`] = iPixel - delta;\n      pointCurrent[`cp1${valueAxis}`] = vPixel - delta * mK[i];\n    }\n    if (pointAfter) {\n      delta = (pointAfter[indexAxis] - iPixel) / 3;\n      pointCurrent[`cp2${indexAxis}`] = iPixel + delta;\n      pointCurrent[`cp2${valueAxis}`] = vPixel + delta * mK[i];\n    }\n  }\n}\nfunction splineCurveMonotone(points, indexAxis = 'x') {\n  const valueAxis = getValueAxis(indexAxis);\n  const pointsLen = points.length;\n  const deltaK = Array(pointsLen).fill(0);\n  const mK = Array(pointsLen);\n  let i, pointBefore, pointCurrent;\n  let pointAfter = getPoint(points, 0);\n  for (i = 0; i < pointsLen; ++i) {\n    pointBefore = pointCurrent;\n    pointCurrent = pointAfter;\n    pointAfter = getPoint(points, i + 1);\n    if (!pointCurrent) {\n      continue;\n    }\n    if (pointAfter) {\n      const slopeDelta = pointAfter[indexAxis] - pointCurrent[indexAxis];\n      deltaK[i] = slopeDelta !== 0 ? (pointAfter[valueAxis] - pointCurrent[valueAxis]) / slopeDelta : 0;\n    }\n    mK[i] = !pointBefore ? deltaK[i]\n      : !pointAfter ? deltaK[i - 1]\n      : (sign(deltaK[i - 1]) !== sign(deltaK[i])) ? 0\n      : (deltaK[i - 1] + deltaK[i]) / 2;\n  }\n  monotoneAdjust(points, deltaK, mK);\n  monotoneCompute(points, mK, indexAxis);\n}\nfunction capControlPoint(pt, min, max) {\n  return Math.max(Math.min(pt, max), min);\n}\nfunction capBezierPoints(points, area) {\n  let i, ilen, point, inArea, inAreaPrev;\n  let inAreaNext = _isPointInArea(points[0], area);\n  for (i = 0, ilen = points.length; i < ilen; ++i) {\n    inAreaPrev = inArea;\n    inArea = inAreaNext;\n    inAreaNext = i < ilen - 1 && _isPointInArea(points[i + 1], area);\n    if (!inArea) {\n      continue;\n    }\n    point = points[i];\n    if (inAreaPrev) {\n      point.cp1x = capControlPoint(point.cp1x, area.left, area.right);\n      point.cp1y = capControlPoint(point.cp1y, area.top, area.bottom);\n    }\n    if (inAreaNext) {\n      point.cp2x = capControlPoint(point.cp2x, area.left, area.right);\n      point.cp2y = capControlPoint(point.cp2y, area.top, area.bottom);\n    }\n  }\n}\nfunction _updateBezierControlPoints(points, options, area, loop, indexAxis) {\n  let i, ilen, point, controlPoints;\n  if (options.spanGaps) {\n    points = points.filter((pt) => !pt.skip);\n  }\n  if (options.cubicInterpolationMode === 'monotone') {\n    splineCurveMonotone(points, indexAxis);\n  } else {\n    let prev = loop ? points[points.length - 1] : points[0];\n    for (i = 0, ilen = points.length; i < ilen; ++i) {\n      point = points[i];\n      controlPoints = splineCurve(\n        prev,\n        point,\n        points[Math.min(i + 1, ilen - (loop ? 0 : 1)) % ilen],\n        options.tension\n      );\n      point.cp1x = controlPoints.previous.x;\n      point.cp1y = controlPoints.previous.y;\n      point.cp2x = controlPoints.next.x;\n      point.cp2y = controlPoints.next.y;\n      prev = point;\n    }\n  }\n  if (options.capBezierPoints) {\n    capBezierPoints(points, area);\n  }\n}\n\nfunction _isDomSupported() {\n  return typeof window !== 'undefined' && typeof document !== 'undefined';\n}\nfunction _getParentNode(domNode) {\n  let parent = domNode.parentNode;\n  if (parent && parent.toString() === '[object ShadowRoot]') {\n    parent = parent.host;\n  }\n  return parent;\n}\nfunction parseMaxStyle(styleValue, node, parentProperty) {\n  let valueInPixels;\n  if (typeof styleValue === 'string') {\n    valueInPixels = parseInt(styleValue, 10);\n    if (styleValue.indexOf('%') !== -1) {\n      valueInPixels = valueInPixels / 100 * node.parentNode[parentProperty];\n    }\n  } else {\n    valueInPixels = styleValue;\n  }\n  return valueInPixels;\n}\nconst getComputedStyle = (element) => window.getComputedStyle(element, null);\nfunction getStyle(el, property) {\n  return getComputedStyle(el).getPropertyValue(property);\n}\nconst positions = ['top', 'right', 'bottom', 'left'];\nfunction getPositionedStyle(styles, style, suffix) {\n  const result = {};\n  suffix = suffix ? '-' + suffix : '';\n  for (let i = 0; i < 4; i++) {\n    const pos = positions[i];\n    result[pos] = parseFloat(styles[style + '-' + pos + suffix]) || 0;\n  }\n  result.width = result.left + result.right;\n  result.height = result.top + result.bottom;\n  return result;\n}\nconst useOffsetPos = (x, y, target) => (x > 0 || y > 0) && (!target || !target.shadowRoot);\nfunction getCanvasPosition(evt, canvas) {\n  const e = evt.native || evt;\n  const touches = e.touches;\n  const source = touches && touches.length ? touches[0] : e;\n  const {offsetX, offsetY} = source;\n  let box = false;\n  let x, y;\n  if (useOffsetPos(offsetX, offsetY, e.target)) {\n    x = offsetX;\n    y = offsetY;\n  } else {\n    const rect = canvas.getBoundingClientRect();\n    x = source.clientX - rect.left;\n    y = source.clientY - rect.top;\n    box = true;\n  }\n  return {x, y, box};\n}\nfunction getRelativePosition(evt, chart) {\n  const {canvas, currentDevicePixelRatio} = chart;\n  const style = getComputedStyle(canvas);\n  const borderBox = style.boxSizing === 'border-box';\n  const paddings = getPositionedStyle(style, 'padding');\n  const borders = getPositionedStyle(style, 'border', 'width');\n  const {x, y, box} = getCanvasPosition(evt, canvas);\n  const xOffset = paddings.left + (box && borders.left);\n  const yOffset = paddings.top + (box && borders.top);\n  let {width, height} = chart;\n  if (borderBox) {\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  return {\n    x: Math.round((x - xOffset) / width * canvas.width / currentDevicePixelRatio),\n    y: Math.round((y - yOffset) / height * canvas.height / currentDevicePixelRatio)\n  };\n}\nfunction getContainerSize(canvas, width, height) {\n  let maxWidth, maxHeight;\n  if (width === undefined || height === undefined) {\n    const container = _getParentNode(canvas);\n    if (!container) {\n      width = canvas.clientWidth;\n      height = canvas.clientHeight;\n    } else {\n      const rect = container.getBoundingClientRect();\n      const containerStyle = getComputedStyle(container);\n      const containerBorder = getPositionedStyle(containerStyle, 'border', 'width');\n      const containerPadding = getPositionedStyle(containerStyle, 'padding');\n      width = rect.width - containerPadding.width - containerBorder.width;\n      height = rect.height - containerPadding.height - containerBorder.height;\n      maxWidth = parseMaxStyle(containerStyle.maxWidth, container, 'clientWidth');\n      maxHeight = parseMaxStyle(containerStyle.maxHeight, container, 'clientHeight');\n    }\n  }\n  return {\n    width,\n    height,\n    maxWidth: maxWidth || INFINITY,\n    maxHeight: maxHeight || INFINITY\n  };\n}\nconst round1 = v => Math.round(v * 10) / 10;\nfunction getMaximumSize(canvas, bbWidth, bbHeight, aspectRatio) {\n  const style = getComputedStyle(canvas);\n  const margins = getPositionedStyle(style, 'margin');\n  const maxWidth = parseMaxStyle(style.maxWidth, canvas, 'clientWidth') || INFINITY;\n  const maxHeight = parseMaxStyle(style.maxHeight, canvas, 'clientHeight') || INFINITY;\n  const containerSize = getContainerSize(canvas, bbWidth, bbHeight);\n  let {width, height} = containerSize;\n  if (style.boxSizing === 'content-box') {\n    const borders = getPositionedStyle(style, 'border', 'width');\n    const paddings = getPositionedStyle(style, 'padding');\n    width -= paddings.width + borders.width;\n    height -= paddings.height + borders.height;\n  }\n  width = Math.max(0, width - margins.width);\n  height = Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height - margins.height);\n  width = round1(Math.min(width, maxWidth, containerSize.maxWidth));\n  height = round1(Math.min(height, maxHeight, containerSize.maxHeight));\n  if (width && !height) {\n    height = round1(width / 2);\n  }\n  return {\n    width,\n    height\n  };\n}\nfunction retinaScale(chart, forceRatio, forceStyle) {\n  const pixelRatio = forceRatio || 1;\n  const deviceHeight = Math.floor(chart.height * pixelRatio);\n  const deviceWidth = Math.floor(chart.width * pixelRatio);\n  chart.height = deviceHeight / pixelRatio;\n  chart.width = deviceWidth / pixelRatio;\n  const canvas = chart.canvas;\n  if (canvas.style && (forceStyle || (!canvas.style.height && !canvas.style.width))) {\n    canvas.style.height = `${chart.height}px`;\n    canvas.style.width = `${chart.width}px`;\n  }\n  if (chart.currentDevicePixelRatio !== pixelRatio\n      || canvas.height !== deviceHeight\n      || canvas.width !== deviceWidth) {\n    chart.currentDevicePixelRatio = pixelRatio;\n    canvas.height = deviceHeight;\n    canvas.width = deviceWidth;\n    chart.ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    return true;\n  }\n  return false;\n}\nconst supportsEventListenerOptions = (function() {\n  let passiveSupported = false;\n  try {\n    const options = {\n      get passive() {\n        passiveSupported = true;\n        return false;\n      }\n    };\n    window.addEventListener('test', null, options);\n    window.removeEventListener('test', null, options);\n  } catch (e) {\n  }\n  return passiveSupported;\n}());\nfunction readUsedSize(element, property) {\n  const value = getStyle(element, property);\n  const matches = value && value.match(/^(\\d+)(\\.\\d+)?px$/);\n  return matches ? +matches[1] : undefined;\n}\n\nfunction _pointInLine(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: p1.y + t * (p2.y - p1.y)\n  };\n}\nfunction _steppedInterpolation(p1, p2, t, mode) {\n  return {\n    x: p1.x + t * (p2.x - p1.x),\n    y: mode === 'middle' ? t < 0.5 ? p1.y : p2.y\n    : mode === 'after' ? t < 1 ? p1.y : p2.y\n    : t > 0 ? p2.y : p1.y\n  };\n}\nfunction _bezierInterpolation(p1, p2, t, mode) {\n  const cp1 = {x: p1.cp2x, y: p1.cp2y};\n  const cp2 = {x: p2.cp1x, y: p2.cp1y};\n  const a = _pointInLine(p1, cp1, t);\n  const b = _pointInLine(cp1, cp2, t);\n  const c = _pointInLine(cp2, p2, t);\n  const d = _pointInLine(a, b, t);\n  const e = _pointInLine(b, c, t);\n  return _pointInLine(d, e, t);\n}\n\nconst intlCache = new Map();\nfunction getNumberFormat(locale, options) {\n  options = options || {};\n  const cacheKey = locale + JSON.stringify(options);\n  let formatter = intlCache.get(cacheKey);\n  if (!formatter) {\n    formatter = new Intl.NumberFormat(locale, options);\n    intlCache.set(cacheKey, formatter);\n  }\n  return formatter;\n}\nfunction formatNumber(num, locale, options) {\n  return getNumberFormat(locale, options).format(num);\n}\n\nconst getRightToLeftAdapter = function(rectX, width) {\n  return {\n    x(x) {\n      return rectX + rectX + width - x;\n    },\n    setWidth(w) {\n      width = w;\n    },\n    textAlign(align) {\n      if (align === 'center') {\n        return align;\n      }\n      return align === 'right' ? 'left' : 'right';\n    },\n    xPlus(x, value) {\n      return x - value;\n    },\n    leftForLtr(x, itemWidth) {\n      return x - itemWidth;\n    },\n  };\n};\nconst getLeftToRightAdapter = function() {\n  return {\n    x(x) {\n      return x;\n    },\n    setWidth(w) {\n    },\n    textAlign(align) {\n      return align;\n    },\n    xPlus(x, value) {\n      return x + value;\n    },\n    leftForLtr(x, _itemWidth) {\n      return x;\n    },\n  };\n};\nfunction getRtlAdapter(rtl, rectX, width) {\n  return rtl ? getRightToLeftAdapter(rectX, width) : getLeftToRightAdapter();\n}\nfunction overrideTextDirection(ctx, direction) {\n  let style, original;\n  if (direction === 'ltr' || direction === 'rtl') {\n    style = ctx.canvas.style;\n    original = [\n      style.getPropertyValue('direction'),\n      style.getPropertyPriority('direction'),\n    ];\n    style.setProperty('direction', direction, 'important');\n    ctx.prevTextDirection = original;\n  }\n}\nfunction restoreTextDirection(ctx, original) {\n  if (original !== undefined) {\n    delete ctx.prevTextDirection;\n    ctx.canvas.style.setProperty('direction', original[0], original[1]);\n  }\n}\n\nfunction propertyFn(property) {\n  if (property === 'angle') {\n    return {\n      between: _angleBetween,\n      compare: _angleDiff,\n      normalize: _normalizeAngle,\n    };\n  }\n  return {\n    between: _isBetween,\n    compare: (a, b) => a - b,\n    normalize: x => x\n  };\n}\nfunction normalizeSegment({start, end, count, loop, style}) {\n  return {\n    start: start % count,\n    end: end % count,\n    loop: loop && (end - start + 1) % count === 0,\n    style\n  };\n}\nfunction getSegment(segment, points, bounds) {\n  const {property, start: startBound, end: endBound} = bounds;\n  const {between, normalize} = propertyFn(property);\n  const count = points.length;\n  let {start, end, loop} = segment;\n  let i, ilen;\n  if (loop) {\n    start += count;\n    end += count;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      if (!between(normalize(points[start % count][property]), startBound, endBound)) {\n        break;\n      }\n      start--;\n      end--;\n    }\n    start %= count;\n    end %= count;\n  }\n  if (end < start) {\n    end += count;\n  }\n  return {start, end, loop, style: segment.style};\n}\nfunction _boundSegment(segment, points, bounds) {\n  if (!bounds) {\n    return [segment];\n  }\n  const {property, start: startBound, end: endBound} = bounds;\n  const count = points.length;\n  const {compare, between, normalize} = propertyFn(property);\n  const {start, end, loop, style} = getSegment(segment, points, bounds);\n  const result = [];\n  let inside = false;\n  let subStart = null;\n  let value, point, prevValue;\n  const startIsBefore = () => between(startBound, prevValue, value) && compare(startBound, prevValue) !== 0;\n  const endIsBefore = () => compare(endBound, value) === 0 || between(endBound, prevValue, value);\n  const shouldStart = () => inside || startIsBefore();\n  const shouldStop = () => !inside || endIsBefore();\n  for (let i = start, prev = start; i <= end; ++i) {\n    point = points[i % count];\n    if (point.skip) {\n      continue;\n    }\n    value = normalize(point[property]);\n    if (value === prevValue) {\n      continue;\n    }\n    inside = between(value, startBound, endBound);\n    if (subStart === null && shouldStart()) {\n      subStart = compare(value, startBound) === 0 ? i : prev;\n    }\n    if (subStart !== null && shouldStop()) {\n      result.push(normalizeSegment({start: subStart, end: i, loop, count, style}));\n      subStart = null;\n    }\n    prev = i;\n    prevValue = value;\n  }\n  if (subStart !== null) {\n    result.push(normalizeSegment({start: subStart, end, loop, count, style}));\n  }\n  return result;\n}\nfunction _boundSegments(line, bounds) {\n  const result = [];\n  const segments = line.segments;\n  for (let i = 0; i < segments.length; i++) {\n    const sub = _boundSegment(segments[i], line.points, bounds);\n    if (sub.length) {\n      result.push(...sub);\n    }\n  }\n  return result;\n}\nfunction findStartAndEnd(points, count, loop, spanGaps) {\n  let start = 0;\n  let end = count - 1;\n  if (loop && !spanGaps) {\n    while (start < count && !points[start].skip) {\n      start++;\n    }\n  }\n  while (start < count && points[start].skip) {\n    start++;\n  }\n  start %= count;\n  if (loop) {\n    end += start;\n  }\n  while (end > start && points[end % count].skip) {\n    end--;\n  }\n  end %= count;\n  return {start, end};\n}\nfunction solidSegments(points, start, max, loop) {\n  const count = points.length;\n  const result = [];\n  let last = start;\n  let prev = points[start];\n  let end;\n  for (end = start + 1; end <= max; ++end) {\n    const cur = points[end % count];\n    if (cur.skip || cur.stop) {\n      if (!prev.skip) {\n        loop = false;\n        result.push({start: start % count, end: (end - 1) % count, loop});\n        start = last = cur.stop ? end : null;\n      }\n    } else {\n      last = end;\n      if (prev.skip) {\n        start = end;\n      }\n    }\n    prev = cur;\n  }\n  if (last !== null) {\n    result.push({start: start % count, end: last % count, loop});\n  }\n  return result;\n}\nfunction _computeSegments(line, segmentOptions) {\n  const points = line.points;\n  const spanGaps = line.options.spanGaps;\n  const count = points.length;\n  if (!count) {\n    return [];\n  }\n  const loop = !!line._loop;\n  const {start, end} = findStartAndEnd(points, count, loop, spanGaps);\n  if (spanGaps === true) {\n    return splitByStyles(line, [{start, end, loop}], points, segmentOptions);\n  }\n  const max = end < start ? end + count : end;\n  const completeLoop = !!line._fullLoop && start === 0 && end === count - 1;\n  return splitByStyles(line, solidSegments(points, start, max, completeLoop), points, segmentOptions);\n}\nfunction splitByStyles(line, segments, points, segmentOptions) {\n  if (!segmentOptions || !segmentOptions.setContext || !points) {\n    return segments;\n  }\n  return doSplitByStyles(line, segments, points, segmentOptions);\n}\nfunction doSplitByStyles(line, segments, points, segmentOptions) {\n  const chartContext = line._chart.getContext();\n  const baseStyle = readStyle(line.options);\n  const {_datasetIndex: datasetIndex, options: {spanGaps}} = line;\n  const count = points.length;\n  const result = [];\n  let prevStyle = baseStyle;\n  let start = segments[0].start;\n  let i = start;\n  function addStyle(s, e, l, st) {\n    const dir = spanGaps ? -1 : 1;\n    if (s === e) {\n      return;\n    }\n    s += count;\n    while (points[s % count].skip) {\n      s -= dir;\n    }\n    while (points[e % count].skip) {\n      e += dir;\n    }\n    if (s % count !== e % count) {\n      result.push({start: s % count, end: e % count, loop: l, style: st});\n      prevStyle = st;\n      start = e % count;\n    }\n  }\n  for (const segment of segments) {\n    start = spanGaps ? start : segment.start;\n    let prev = points[start % count];\n    let style;\n    for (i = start + 1; i <= segment.end; i++) {\n      const pt = points[i % count];\n      style = readStyle(segmentOptions.setContext(createContext(chartContext, {\n        type: 'segment',\n        p0: prev,\n        p1: pt,\n        p0DataIndex: (i - 1) % count,\n        p1DataIndex: i % count,\n        datasetIndex\n      })));\n      if (styleChanged(style, prevStyle)) {\n        addStyle(start, i - 1, segment.loop, prevStyle);\n      }\n      prev = pt;\n      prevStyle = style;\n    }\n    if (start < i - 1) {\n      addStyle(start, i - 1, segment.loop, prevStyle);\n    }\n  }\n  return result;\n}\nfunction readStyle(options) {\n  return {\n    backgroundColor: options.backgroundColor,\n    borderCapStyle: options.borderCapStyle,\n    borderDash: options.borderDash,\n    borderDashOffset: options.borderDashOffset,\n    borderJoinStyle: options.borderJoinStyle,\n    borderWidth: options.borderWidth,\n    borderColor: options.borderColor\n  };\n}\nfunction styleChanged(style, prevStyle) {\n  return prevStyle && JSON.stringify(style) !== JSON.stringify(prevStyle);\n}\n\nexport { _toLeftRightCenter as $, _rlookupByKey as A, getAngleFromPoint as B, toPadding as C, each as D, getMaximumSize as E, _getParentNode as F, readUsedSize as G, HALF_PI as H, throttled as I, supportsEventListenerOptions as J, _isDomSupported as K, log10 as L, _factorize as M, finiteOrDefault as N, callback as O, PI as P, _addGrace as Q, toDegrees as R, _measureText as S, TAU as T, _int16Range as U, _alignPixel as V, clipArea as W, renderText as X, unclipArea as Y, toFont as Z, _arrayUnique as _, resolve as a, _angleDiff as a$, _alignStartEnd as a0, overrides as a1, merge as a2, _capitalize as a3, descriptors as a4, isFunction as a5, _attachContext as a6, _createResolver as a7, _descriptors as a8, mergeIf as a9, restoreTextDirection as aA, noop as aB, distanceBetweenPoints as aC, _setMinAndMaxByKey as aD, niceNum as aE, almostWhole as aF, almostEquals as aG, _decimalPlaces as aH, _longestText as aI, _filterBetween as aJ, _lookup as aK, getHoverColor as aL, clone$1 as aM, _merger as aN, _mergerIf as aO, _deprecated as aP, toFontString as aQ, splineCurve as aR, splineCurveMonotone as aS, getStyle as aT, fontString as aU, toLineHeight as aV, PITAU as aW, INFINITY as aX, RAD_PER_DEG as aY, QUARTER_PI as aZ, TWO_THIRDS_PI as a_, uid as aa, debounce as ab, retinaScale as ac, clearCanvas as ad, setsEqual as ae, _elementsEqual as af, _isClickEvent as ag, _isBetween as ah, _readValueToProps as ai, _updateBezierControlPoints as aj, _computeSegments as ak, _boundSegments as al, _steppedInterpolation as am, _bezierInterpolation as an, _pointInLine as ao, _steppedLineTo as ap, _bezierCurveTo as aq, drawPoint as ar, addRoundedRectPath as as, toTRBL as at, toTRBLCorners as au, _boundSegment as av, _normalizeAngle as aw, getRtlAdapter as ax, overrideTextDirection as ay, _textX as az, isArray as b, color as c, defaults as d, effects as e, resolveObjectKey as f, isNumberFinite as g, createContext as h, isObject as i, defined as j, isNullOrUndef as k, listenArrayEvents as l, toPercentage as m, toDimension as n, formatNumber as o, _angleBetween as p, isNumber as q, requestAnimFrame as r, sign as s, toRadians as t, unlistenArrayEvents as u, valueOrDefault as v, _limitValue as w, _lookupByKey as x, getRelativePosition as y, _isPointInArea as z };\n","/*!\n * Chart.js v3.7.1\n * https://www.chartjs.org\n * (c) 2022 Chart.js Contributors\n * Released under the MIT License\n */\nimport { r as requestAnimFrame, a as resolve, e as effects, c as color, d as defaults, i as isObject, b as isArray, v as valueOrDefault, u as unlistenArrayEvents, l as listenArrayEvents, f as resolveObjectKey, g as isNumberFinite, h as createContext, j as defined, s as sign, k as isNullOrUndef, _ as _arrayUnique, t as toRadians, m as toPercentage, n as toDimension, T as TAU, o as formatNumber, p as _angleBetween, H as HALF_PI, P as PI, q as isNumber, w as _limitValue, x as _lookupByKey, y as getRelativePosition$1, z as _isPointInArea, A as _rlookupByKey, B as getAngleFromPoint, C as toPadding, D as each, E as getMaximumSize, F as _getParentNode, G as readUsedSize, I as throttled, J as supportsEventListenerOptions, K as _isDomSupported, L as log10, M as _factorize, N as finiteOrDefault, O as callback, Q as _addGrace, R as toDegrees, S as _measureText, U as _int16Range, V as _alignPixel, W as clipArea, X as renderText, Y as unclipArea, Z as toFont, $ as _toLeftRightCenter, a0 as _alignStartEnd, a1 as overrides, a2 as merge, a3 as _capitalize, a4 as descriptors, a5 as isFunction, a6 as _attachContext, a7 as _createResolver, a8 as _descriptors, a9 as mergeIf, aa as uid, ab as debounce, ac as retinaScale, ad as clearCanvas, ae as setsEqual, af as _elementsEqual, ag as _isClickEvent, ah as _isBetween, ai as _readValueToProps, aj as _updateBezierControlPoints, ak as _computeSegments, al as _boundSegments, am as _steppedInterpolation, an as _bezierInterpolation, ao as _pointInLine, ap as _steppedLineTo, aq as _bezierCurveTo, ar as drawPoint, as as addRoundedRectPath, at as toTRBL, au as toTRBLCorners, av as _boundSegment, aw as _normalizeAngle, ax as getRtlAdapter, ay as overrideTextDirection, az as _textX, aA as restoreTextDirection, aB as noop, aC as distanceBetweenPoints, aD as _setMinAndMaxByKey, aE as niceNum, aF as almostWhole, aG as almostEquals, aH as _decimalPlaces, aI as _longestText, aJ as _filterBetween, aK as _lookup } from './chunks/helpers.segment.js';\nexport { d as defaults } from './chunks/helpers.segment.js';\n\nclass Animator {\n  constructor() {\n    this._request = null;\n    this._charts = new Map();\n    this._running = false;\n    this._lastDate = undefined;\n  }\n  _notify(chart, anims, date, type) {\n    const callbacks = anims.listeners[type];\n    const numSteps = anims.duration;\n    callbacks.forEach(fn => fn({\n      chart,\n      initial: anims.initial,\n      numSteps,\n      currentStep: Math.min(date - anims.start, numSteps)\n    }));\n  }\n  _refresh() {\n    if (this._request) {\n      return;\n    }\n    this._running = true;\n    this._request = requestAnimFrame.call(window, () => {\n      this._update();\n      this._request = null;\n      if (this._running) {\n        this._refresh();\n      }\n    });\n  }\n  _update(date = Date.now()) {\n    let remaining = 0;\n    this._charts.forEach((anims, chart) => {\n      if (!anims.running || !anims.items.length) {\n        return;\n      }\n      const items = anims.items;\n      let i = items.length - 1;\n      let draw = false;\n      let item;\n      for (; i >= 0; --i) {\n        item = items[i];\n        if (item._active) {\n          if (item._total > anims.duration) {\n            anims.duration = item._total;\n          }\n          item.tick(date);\n          draw = true;\n        } else {\n          items[i] = items[items.length - 1];\n          items.pop();\n        }\n      }\n      if (draw) {\n        chart.draw();\n        this._notify(chart, anims, date, 'progress');\n      }\n      if (!items.length) {\n        anims.running = false;\n        this._notify(chart, anims, date, 'complete');\n        anims.initial = false;\n      }\n      remaining += items.length;\n    });\n    this._lastDate = date;\n    if (remaining === 0) {\n      this._running = false;\n    }\n  }\n  _getAnims(chart) {\n    const charts = this._charts;\n    let anims = charts.get(chart);\n    if (!anims) {\n      anims = {\n        running: false,\n        initial: true,\n        items: [],\n        listeners: {\n          complete: [],\n          progress: []\n        }\n      };\n      charts.set(chart, anims);\n    }\n    return anims;\n  }\n  listen(chart, event, cb) {\n    this._getAnims(chart).listeners[event].push(cb);\n  }\n  add(chart, items) {\n    if (!items || !items.length) {\n      return;\n    }\n    this._getAnims(chart).items.push(...items);\n  }\n  has(chart) {\n    return this._getAnims(chart).items.length > 0;\n  }\n  start(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims) {\n      return;\n    }\n    anims.running = true;\n    anims.start = Date.now();\n    anims.duration = anims.items.reduce((acc, cur) => Math.max(acc, cur._duration), 0);\n    this._refresh();\n  }\n  running(chart) {\n    if (!this._running) {\n      return false;\n    }\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.running || !anims.items.length) {\n      return false;\n    }\n    return true;\n  }\n  stop(chart) {\n    const anims = this._charts.get(chart);\n    if (!anims || !anims.items.length) {\n      return;\n    }\n    const items = anims.items;\n    let i = items.length - 1;\n    for (; i >= 0; --i) {\n      items[i].cancel();\n    }\n    anims.items = [];\n    this._notify(chart, anims, Date.now(), 'complete');\n  }\n  remove(chart) {\n    return this._charts.delete(chart);\n  }\n}\nvar animator = new Animator();\n\nconst transparent = 'transparent';\nconst interpolators = {\n  boolean(from, to, factor) {\n    return factor > 0.5 ? to : from;\n  },\n  color(from, to, factor) {\n    const c0 = color(from || transparent);\n    const c1 = c0.valid && color(to || transparent);\n    return c1 && c1.valid\n      ? c1.mix(c0, factor).hexString()\n      : to;\n  },\n  number(from, to, factor) {\n    return from + (to - from) * factor;\n  }\n};\nclass Animation {\n  constructor(cfg, target, prop, to) {\n    const currentValue = target[prop];\n    to = resolve([cfg.to, to, currentValue, cfg.from]);\n    const from = resolve([cfg.from, currentValue, to]);\n    this._active = true;\n    this._fn = cfg.fn || interpolators[cfg.type || typeof from];\n    this._easing = effects[cfg.easing] || effects.linear;\n    this._start = Math.floor(Date.now() + (cfg.delay || 0));\n    this._duration = this._total = Math.floor(cfg.duration);\n    this._loop = !!cfg.loop;\n    this._target = target;\n    this._prop = prop;\n    this._from = from;\n    this._to = to;\n    this._promises = undefined;\n  }\n  active() {\n    return this._active;\n  }\n  update(cfg, to, date) {\n    if (this._active) {\n      this._notify(false);\n      const currentValue = this._target[this._prop];\n      const elapsed = date - this._start;\n      const remain = this._duration - elapsed;\n      this._start = date;\n      this._duration = Math.floor(Math.max(remain, cfg.duration));\n      this._total += elapsed;\n      this._loop = !!cfg.loop;\n      this._to = resolve([cfg.to, to, currentValue, cfg.from]);\n      this._from = resolve([cfg.from, currentValue, to]);\n    }\n  }\n  cancel() {\n    if (this._active) {\n      this.tick(Date.now());\n      this._active = false;\n      this._notify(false);\n    }\n  }\n  tick(date) {\n    const elapsed = date - this._start;\n    const duration = this._duration;\n    const prop = this._prop;\n    const from = this._from;\n    const loop = this._loop;\n    const to = this._to;\n    let factor;\n    this._active = from !== to && (loop || (elapsed < duration));\n    if (!this._active) {\n      this._target[prop] = to;\n      this._notify(true);\n      return;\n    }\n    if (elapsed < 0) {\n      this._target[prop] = from;\n      return;\n    }\n    factor = (elapsed / duration) % 2;\n    factor = loop && factor > 1 ? 2 - factor : factor;\n    factor = this._easing(Math.min(1, Math.max(0, factor)));\n    this._target[prop] = this._fn(from, to, factor);\n  }\n  wait() {\n    const promises = this._promises || (this._promises = []);\n    return new Promise((res, rej) => {\n      promises.push({res, rej});\n    });\n  }\n  _notify(resolved) {\n    const method = resolved ? 'res' : 'rej';\n    const promises = this._promises || [];\n    for (let i = 0; i < promises.length; i++) {\n      promises[i][method]();\n    }\n  }\n}\n\nconst numbers = ['x', 'y', 'borderWidth', 'radius', 'tension'];\nconst colors = ['color', 'borderColor', 'backgroundColor'];\ndefaults.set('animation', {\n  delay: undefined,\n  duration: 1000,\n  easing: 'easeOutQuart',\n  fn: undefined,\n  from: undefined,\n  loop: undefined,\n  to: undefined,\n  type: undefined,\n});\nconst animationOptions = Object.keys(defaults.animation);\ndefaults.describe('animation', {\n  _fallback: false,\n  _indexable: false,\n  _scriptable: (name) => name !== 'onProgress' && name !== 'onComplete' && name !== 'fn',\n});\ndefaults.set('animations', {\n  colors: {\n    type: 'color',\n    properties: colors\n  },\n  numbers: {\n    type: 'number',\n    properties: numbers\n  },\n});\ndefaults.describe('animations', {\n  _fallback: 'animation',\n});\ndefaults.set('transitions', {\n  active: {\n    animation: {\n      duration: 400\n    }\n  },\n  resize: {\n    animation: {\n      duration: 0\n    }\n  },\n  show: {\n    animations: {\n      colors: {\n        from: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        duration: 0\n      },\n    }\n  },\n  hide: {\n    animations: {\n      colors: {\n        to: 'transparent'\n      },\n      visible: {\n        type: 'boolean',\n        easing: 'linear',\n        fn: v => v | 0\n      },\n    }\n  }\n});\nclass Animations {\n  constructor(chart, config) {\n    this._chart = chart;\n    this._properties = new Map();\n    this.configure(config);\n  }\n  configure(config) {\n    if (!isObject(config)) {\n      return;\n    }\n    const animatedProps = this._properties;\n    Object.getOwnPropertyNames(config).forEach(key => {\n      const cfg = config[key];\n      if (!isObject(cfg)) {\n        return;\n      }\n      const resolved = {};\n      for (const option of animationOptions) {\n        resolved[option] = cfg[option];\n      }\n      (isArray(cfg.properties) && cfg.properties || [key]).forEach((prop) => {\n        if (prop === key || !animatedProps.has(prop)) {\n          animatedProps.set(prop, resolved);\n        }\n      });\n    });\n  }\n  _animateOptions(target, values) {\n    const newOptions = values.options;\n    const options = resolveTargetOptions(target, newOptions);\n    if (!options) {\n      return [];\n    }\n    const animations = this._createAnimations(options, newOptions);\n    if (newOptions.$shared) {\n      awaitAll(target.options.$animations, newOptions).then(() => {\n        target.options = newOptions;\n      }, () => {\n      });\n    }\n    return animations;\n  }\n  _createAnimations(target, values) {\n    const animatedProps = this._properties;\n    const animations = [];\n    const running = target.$animations || (target.$animations = {});\n    const props = Object.keys(values);\n    const date = Date.now();\n    let i;\n    for (i = props.length - 1; i >= 0; --i) {\n      const prop = props[i];\n      if (prop.charAt(0) === '$') {\n        continue;\n      }\n      if (prop === 'options') {\n        animations.push(...this._animateOptions(target, values));\n        continue;\n      }\n      const value = values[prop];\n      let animation = running[prop];\n      const cfg = animatedProps.get(prop);\n      if (animation) {\n        if (cfg && animation.active()) {\n          animation.update(cfg, value, date);\n          continue;\n        } else {\n          animation.cancel();\n        }\n      }\n      if (!cfg || !cfg.duration) {\n        target[prop] = value;\n        continue;\n      }\n      running[prop] = animation = new Animation(cfg, target, prop, value);\n      animations.push(animation);\n    }\n    return animations;\n  }\n  update(target, values) {\n    if (this._properties.size === 0) {\n      Object.assign(target, values);\n      return;\n    }\n    const animations = this._createAnimations(target, values);\n    if (animations.length) {\n      animator.add(this._chart, animations);\n      return true;\n    }\n  }\n}\nfunction awaitAll(animations, properties) {\n  const running = [];\n  const keys = Object.keys(properties);\n  for (let i = 0; i < keys.length; i++) {\n    const anim = animations[keys[i]];\n    if (anim && anim.active()) {\n      running.push(anim.wait());\n    }\n  }\n  return Promise.all(running);\n}\nfunction resolveTargetOptions(target, newOptions) {\n  if (!newOptions) {\n    return;\n  }\n  let options = target.options;\n  if (!options) {\n    target.options = newOptions;\n    return;\n  }\n  if (options.$shared) {\n    target.options = options = Object.assign({}, options, {$shared: false, $animations: {}});\n  }\n  return options;\n}\n\nfunction scaleClip(scale, allowedOverflow) {\n  const opts = scale && scale.options || {};\n  const reverse = opts.reverse;\n  const min = opts.min === undefined ? allowedOverflow : 0;\n  const max = opts.max === undefined ? allowedOverflow : 0;\n  return {\n    start: reverse ? max : min,\n    end: reverse ? min : max\n  };\n}\nfunction defaultClip(xScale, yScale, allowedOverflow) {\n  if (allowedOverflow === false) {\n    return false;\n  }\n  const x = scaleClip(xScale, allowedOverflow);\n  const y = scaleClip(yScale, allowedOverflow);\n  return {\n    top: y.end,\n    right: x.end,\n    bottom: y.start,\n    left: x.start\n  };\n}\nfunction toClip(value) {\n  let t, r, b, l;\n  if (isObject(value)) {\n    t = value.top;\n    r = value.right;\n    b = value.bottom;\n    l = value.left;\n  } else {\n    t = r = b = l = value;\n  }\n  return {\n    top: t,\n    right: r,\n    bottom: b,\n    left: l,\n    disabled: value === false\n  };\n}\nfunction getSortedDatasetIndices(chart, filterVisible) {\n  const keys = [];\n  const metasets = chart._getSortedDatasetMetas(filterVisible);\n  let i, ilen;\n  for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n    keys.push(metasets[i].index);\n  }\n  return keys;\n}\nfunction applyStack(stack, value, dsIndex, options = {}) {\n  const keys = stack.keys;\n  const singleMode = options.mode === 'single';\n  let i, ilen, datasetIndex, otherValue;\n  if (value === null) {\n    return;\n  }\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    datasetIndex = +keys[i];\n    if (datasetIndex === dsIndex) {\n      if (options.all) {\n        continue;\n      }\n      break;\n    }\n    otherValue = stack.values[datasetIndex];\n    if (isNumberFinite(otherValue) && (singleMode || (value === 0 || sign(value) === sign(otherValue)))) {\n      value += otherValue;\n    }\n  }\n  return value;\n}\nfunction convertObjectDataToArray(data) {\n  const keys = Object.keys(data);\n  const adata = new Array(keys.length);\n  let i, ilen, key;\n  for (i = 0, ilen = keys.length; i < ilen; ++i) {\n    key = keys[i];\n    adata[i] = {\n      x: key,\n      y: data[key]\n    };\n  }\n  return adata;\n}\nfunction isStacked(scale, meta) {\n  const stacked = scale && scale.options.stacked;\n  return stacked || (stacked === undefined && meta.stack !== undefined);\n}\nfunction getStackKey(indexScale, valueScale, meta) {\n  return `${indexScale.id}.${valueScale.id}.${meta.stack || meta.type}`;\n}\nfunction getUserBounds(scale) {\n  const {min, max, minDefined, maxDefined} = scale.getUserBounds();\n  return {\n    min: minDefined ? min : Number.NEGATIVE_INFINITY,\n    max: maxDefined ? max : Number.POSITIVE_INFINITY\n  };\n}\nfunction getOrCreateStack(stacks, stackKey, indexValue) {\n  const subStack = stacks[stackKey] || (stacks[stackKey] = {});\n  return subStack[indexValue] || (subStack[indexValue] = {});\n}\nfunction getLastIndexInStack(stack, vScale, positive, type) {\n  for (const meta of vScale.getMatchingVisibleMetas(type).reverse()) {\n    const value = stack[meta.index];\n    if ((positive && value > 0) || (!positive && value < 0)) {\n      return meta.index;\n    }\n  }\n  return null;\n}\nfunction updateStacks(controller, parsed) {\n  const {chart, _cachedMeta: meta} = controller;\n  const stacks = chart._stacks || (chart._stacks = {});\n  const {iScale, vScale, index: datasetIndex} = meta;\n  const iAxis = iScale.axis;\n  const vAxis = vScale.axis;\n  const key = getStackKey(iScale, vScale, meta);\n  const ilen = parsed.length;\n  let stack;\n  for (let i = 0; i < ilen; ++i) {\n    const item = parsed[i];\n    const {[iAxis]: index, [vAxis]: value} = item;\n    const itemStacks = item._stacks || (item._stacks = {});\n    stack = itemStacks[vAxis] = getOrCreateStack(stacks, key, index);\n    stack[datasetIndex] = value;\n    stack._top = getLastIndexInStack(stack, vScale, true, meta.type);\n    stack._bottom = getLastIndexInStack(stack, vScale, false, meta.type);\n  }\n}\nfunction getFirstScaleId(chart, axis) {\n  const scales = chart.scales;\n  return Object.keys(scales).filter(key => scales[key].axis === axis).shift();\n}\nfunction createDatasetContext(parent, index) {\n  return createContext(parent,\n    {\n      active: false,\n      dataset: undefined,\n      datasetIndex: index,\n      index,\n      mode: 'default',\n      type: 'dataset'\n    }\n  );\n}\nfunction createDataContext(parent, index, element) {\n  return createContext(parent, {\n    active: false,\n    dataIndex: index,\n    parsed: undefined,\n    raw: undefined,\n    element,\n    index,\n    mode: 'default',\n    type: 'data'\n  });\n}\nfunction clearStacks(meta, items) {\n  const datasetIndex = meta.controller.index;\n  const axis = meta.vScale && meta.vScale.axis;\n  if (!axis) {\n    return;\n  }\n  items = items || meta._parsed;\n  for (const parsed of items) {\n    const stacks = parsed._stacks;\n    if (!stacks || stacks[axis] === undefined || stacks[axis][datasetIndex] === undefined) {\n      return;\n    }\n    delete stacks[axis][datasetIndex];\n  }\n}\nconst isDirectUpdateMode = (mode) => mode === 'reset' || mode === 'none';\nconst cloneIfNotShared = (cached, shared) => shared ? cached : Object.assign({}, cached);\nconst createStack = (canStack, meta, chart) => canStack && !meta.hidden && meta._stacked\n  && {keys: getSortedDatasetIndices(chart, true), values: null};\nclass DatasetController {\n  constructor(chart, datasetIndex) {\n    this.chart = chart;\n    this._ctx = chart.ctx;\n    this.index = datasetIndex;\n    this._cachedDataOpts = {};\n    this._cachedMeta = this.getMeta();\n    this._type = this._cachedMeta.type;\n    this.options = undefined;\n    this._parsing = false;\n    this._data = undefined;\n    this._objectData = undefined;\n    this._sharedOptions = undefined;\n    this._drawStart = undefined;\n    this._drawCount = undefined;\n    this.enableOptionSharing = false;\n    this.$context = undefined;\n    this._syncList = [];\n    this.initialize();\n  }\n  initialize() {\n    const meta = this._cachedMeta;\n    this.configure();\n    this.linkScales();\n    meta._stacked = isStacked(meta.vScale, meta);\n    this.addElements();\n  }\n  updateIndex(datasetIndex) {\n    if (this.index !== datasetIndex) {\n      clearStacks(this._cachedMeta);\n    }\n    this.index = datasetIndex;\n  }\n  linkScales() {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    const chooseId = (axis, x, y, r) => axis === 'x' ? x : axis === 'r' ? r : y;\n    const xid = meta.xAxisID = valueOrDefault(dataset.xAxisID, getFirstScaleId(chart, 'x'));\n    const yid = meta.yAxisID = valueOrDefault(dataset.yAxisID, getFirstScaleId(chart, 'y'));\n    const rid = meta.rAxisID = valueOrDefault(dataset.rAxisID, getFirstScaleId(chart, 'r'));\n    const indexAxis = meta.indexAxis;\n    const iid = meta.iAxisID = chooseId(indexAxis, xid, yid, rid);\n    const vid = meta.vAxisID = chooseId(indexAxis, yid, xid, rid);\n    meta.xScale = this.getScaleForId(xid);\n    meta.yScale = this.getScaleForId(yid);\n    meta.rScale = this.getScaleForId(rid);\n    meta.iScale = this.getScaleForId(iid);\n    meta.vScale = this.getScaleForId(vid);\n  }\n  getDataset() {\n    return this.chart.data.datasets[this.index];\n  }\n  getMeta() {\n    return this.chart.getDatasetMeta(this.index);\n  }\n  getScaleForId(scaleID) {\n    return this.chart.scales[scaleID];\n  }\n  _getOtherScale(scale) {\n    const meta = this._cachedMeta;\n    return scale === meta.iScale\n      ? meta.vScale\n      : meta.iScale;\n  }\n  reset() {\n    this._update('reset');\n  }\n  _destroy() {\n    const meta = this._cachedMeta;\n    if (this._data) {\n      unlistenArrayEvents(this._data, this);\n    }\n    if (meta._stacked) {\n      clearStacks(meta);\n    }\n  }\n  _dataCheck() {\n    const dataset = this.getDataset();\n    const data = dataset.data || (dataset.data = []);\n    const _data = this._data;\n    if (isObject(data)) {\n      this._data = convertObjectDataToArray(data);\n    } else if (_data !== data) {\n      if (_data) {\n        unlistenArrayEvents(_data, this);\n        const meta = this._cachedMeta;\n        clearStacks(meta);\n        meta._parsed = [];\n      }\n      if (data && Object.isExtensible(data)) {\n        listenArrayEvents(data, this);\n      }\n      this._syncList = [];\n      this._data = data;\n    }\n  }\n  addElements() {\n    const meta = this._cachedMeta;\n    this._dataCheck();\n    if (this.datasetElementType) {\n      meta.dataset = new this.datasetElementType();\n    }\n  }\n  buildOrUpdateElements(resetNewElements) {\n    const meta = this._cachedMeta;\n    const dataset = this.getDataset();\n    let stackChanged = false;\n    this._dataCheck();\n    const oldStacked = meta._stacked;\n    meta._stacked = isStacked(meta.vScale, meta);\n    if (meta.stack !== dataset.stack) {\n      stackChanged = true;\n      clearStacks(meta);\n      meta.stack = dataset.stack;\n    }\n    this._resyncElements(resetNewElements);\n    if (stackChanged || oldStacked !== meta._stacked) {\n      updateStacks(this, meta._parsed);\n    }\n  }\n  configure() {\n    const config = this.chart.config;\n    const scopeKeys = config.datasetScopeKeys(this._type);\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys, true);\n    this.options = config.createResolver(scopes, this.getContext());\n    this._parsing = this.options.parsing;\n    this._cachedDataOpts = {};\n  }\n  parse(start, count) {\n    const {_cachedMeta: meta, _data: data} = this;\n    const {iScale, _stacked} = meta;\n    const iAxis = iScale.axis;\n    let sorted = start === 0 && count === data.length ? true : meta._sorted;\n    let prev = start > 0 && meta._parsed[start - 1];\n    let i, cur, parsed;\n    if (this._parsing === false) {\n      meta._parsed = data;\n      meta._sorted = true;\n      parsed = data;\n    } else {\n      if (isArray(data[start])) {\n        parsed = this.parseArrayData(meta, data, start, count);\n      } else if (isObject(data[start])) {\n        parsed = this.parseObjectData(meta, data, start, count);\n      } else {\n        parsed = this.parsePrimitiveData(meta, data, start, count);\n      }\n      const isNotInOrderComparedToPrev = () => cur[iAxis] === null || (prev && cur[iAxis] < prev[iAxis]);\n      for (i = 0; i < count; ++i) {\n        meta._parsed[i + start] = cur = parsed[i];\n        if (sorted) {\n          if (isNotInOrderComparedToPrev()) {\n            sorted = false;\n          }\n          prev = cur;\n        }\n      }\n      meta._sorted = sorted;\n    }\n    if (_stacked) {\n      updateStacks(this, parsed);\n    }\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const labels = iScale.getLabels();\n    const singleScale = iScale === vScale;\n    const parsed = new Array(count);\n    let i, ilen, index;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      parsed[i] = {\n        [iAxis]: singleScale || iScale.parse(labels[index], index),\n        [vAxis]: vScale.parse(data[index], index)\n      };\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(item[0], index),\n        y: yScale.parse(item[1], index)\n      };\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const {xScale, yScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const parsed = new Array(count);\n    let i, ilen, index, item;\n    for (i = 0, ilen = count; i < ilen; ++i) {\n      index = i + start;\n      item = data[index];\n      parsed[i] = {\n        x: xScale.parse(resolveObjectKey(item, xAxisKey), index),\n        y: yScale.parse(resolveObjectKey(item, yAxisKey), index)\n      };\n    }\n    return parsed;\n  }\n  getParsed(index) {\n    return this._cachedMeta._parsed[index];\n  }\n  getDataElement(index) {\n    return this._cachedMeta.data[index];\n  }\n  applyStack(scale, parsed, mode) {\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const value = parsed[scale.axis];\n    const stack = {\n      keys: getSortedDatasetIndices(chart, true),\n      values: parsed._stacks[scale.axis]\n    };\n    return applyStack(stack, value, meta.index, {mode});\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    const parsedValue = parsed[scale.axis];\n    let value = parsedValue === null ? NaN : parsedValue;\n    const values = stack && parsed._stacks[scale.axis];\n    if (stack && values) {\n      stack.values = values;\n      value = applyStack(stack, parsedValue, this._cachedMeta.index);\n    }\n    range.min = Math.min(range.min, value);\n    range.max = Math.max(range.max, value);\n  }\n  getMinMax(scale, canStack) {\n    const meta = this._cachedMeta;\n    const _parsed = meta._parsed;\n    const sorted = meta._sorted && scale === meta.iScale;\n    const ilen = _parsed.length;\n    const otherScale = this._getOtherScale(scale);\n    const stack = createStack(canStack, meta, this.chart);\n    const range = {min: Number.POSITIVE_INFINITY, max: Number.NEGATIVE_INFINITY};\n    const {min: otherMin, max: otherMax} = getUserBounds(otherScale);\n    let i, parsed;\n    function _skip() {\n      parsed = _parsed[i];\n      const otherValue = parsed[otherScale.axis];\n      return !isNumberFinite(parsed[scale.axis]) || otherMin > otherValue || otherMax < otherValue;\n    }\n    for (i = 0; i < ilen; ++i) {\n      if (_skip()) {\n        continue;\n      }\n      this.updateRangeFromParsed(range, scale, parsed, stack);\n      if (sorted) {\n        break;\n      }\n    }\n    if (sorted) {\n      for (i = ilen - 1; i >= 0; --i) {\n        if (_skip()) {\n          continue;\n        }\n        this.updateRangeFromParsed(range, scale, parsed, stack);\n        break;\n      }\n    }\n    return range;\n  }\n  getAllParsedValues(scale) {\n    const parsed = this._cachedMeta._parsed;\n    const values = [];\n    let i, ilen, value;\n    for (i = 0, ilen = parsed.length; i < ilen; ++i) {\n      value = parsed[i][scale.axis];\n      if (isNumberFinite(value)) {\n        values.push(value);\n      }\n    }\n    return values;\n  }\n  getMaxOverflow() {\n    return false;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const vScale = meta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: iScale ? '' + iScale.getLabelForValue(parsed[iScale.axis]) : '',\n      value: vScale ? '' + vScale.getLabelForValue(parsed[vScale.axis]) : ''\n    };\n  }\n  _update(mode) {\n    const meta = this._cachedMeta;\n    this.update(mode || 'default');\n    meta._clip = toClip(valueOrDefault(this.options.clip, defaultClip(meta.xScale, meta.yScale, this.getMaxOverflow())));\n  }\n  update(mode) {}\n  draw() {\n    const ctx = this._ctx;\n    const chart = this.chart;\n    const meta = this._cachedMeta;\n    const elements = meta.data || [];\n    const area = chart.chartArea;\n    const active = [];\n    const start = this._drawStart || 0;\n    const count = this._drawCount || (elements.length - start);\n    const drawActiveElementsOnTop = this.options.drawActiveElementsOnTop;\n    let i;\n    if (meta.dataset) {\n      meta.dataset.draw(ctx, area, start, count);\n    }\n    for (i = start; i < start + count; ++i) {\n      const element = elements[i];\n      if (element.hidden) {\n        continue;\n      }\n      if (element.active && drawActiveElementsOnTop) {\n        active.push(element);\n      } else {\n        element.draw(ctx, area);\n      }\n    }\n    for (i = 0; i < active.length; ++i) {\n      active[i].draw(ctx, area);\n    }\n  }\n  getStyle(index, active) {\n    const mode = active ? 'active' : 'default';\n    return index === undefined && this._cachedMeta.dataset\n      ? this.resolveDatasetElementOptions(mode)\n      : this.resolveDataElementOptions(index || 0, mode);\n  }\n  getContext(index, active, mode) {\n    const dataset = this.getDataset();\n    let context;\n    if (index >= 0 && index < this._cachedMeta.data.length) {\n      const element = this._cachedMeta.data[index];\n      context = element.$context ||\n        (element.$context = createDataContext(this.getContext(), index, element));\n      context.parsed = this.getParsed(index);\n      context.raw = dataset.data[index];\n      context.index = context.dataIndex = index;\n    } else {\n      context = this.$context ||\n        (this.$context = createDatasetContext(this.chart.getContext(), this.index));\n      context.dataset = dataset;\n      context.index = context.datasetIndex = this.index;\n    }\n    context.active = !!active;\n    context.mode = mode;\n    return context;\n  }\n  resolveDatasetElementOptions(mode) {\n    return this._resolveElementOptions(this.datasetElementType.id, mode);\n  }\n  resolveDataElementOptions(index, mode) {\n    return this._resolveElementOptions(this.dataElementType.id, mode, index);\n  }\n  _resolveElementOptions(elementType, mode = 'default', index) {\n    const active = mode === 'active';\n    const cache = this._cachedDataOpts;\n    const cacheKey = elementType + '-' + mode;\n    const cached = cache[cacheKey];\n    const sharing = this.enableOptionSharing && defined(index);\n    if (cached) {\n      return cloneIfNotShared(cached, sharing);\n    }\n    const config = this.chart.config;\n    const scopeKeys = config.datasetElementScopeKeys(this._type, elementType);\n    const prefixes = active ? [`${elementType}Hover`, 'hover', elementType, ''] : [elementType, ''];\n    const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n    const names = Object.keys(defaults.elements[elementType]);\n    const context = () => this.getContext(index, active);\n    const values = config.resolveNamedOptions(scopes, names, context, prefixes);\n    if (values.$shared) {\n      values.$shared = sharing;\n      cache[cacheKey] = Object.freeze(cloneIfNotShared(values, sharing));\n    }\n    return values;\n  }\n  _resolveAnimations(index, transition, active) {\n    const chart = this.chart;\n    const cache = this._cachedDataOpts;\n    const cacheKey = `animation-${transition}`;\n    const cached = cache[cacheKey];\n    if (cached) {\n      return cached;\n    }\n    let options;\n    if (chart.options.animation !== false) {\n      const config = this.chart.config;\n      const scopeKeys = config.datasetAnimationScopeKeys(this._type, transition);\n      const scopes = config.getOptionScopes(this.getDataset(), scopeKeys);\n      options = config.createResolver(scopes, this.getContext(index, active, transition));\n    }\n    const animations = new Animations(chart, options && options.animations);\n    if (options && options._cacheable) {\n      cache[cacheKey] = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getSharedOptions(options) {\n    if (!options.$shared) {\n      return;\n    }\n    return this._sharedOptions || (this._sharedOptions = Object.assign({}, options));\n  }\n  includeOptions(mode, sharedOptions) {\n    return !sharedOptions || isDirectUpdateMode(mode) || this.chart._animationsDisabled;\n  }\n  updateElement(element, index, properties, mode) {\n    if (isDirectUpdateMode(mode)) {\n      Object.assign(element, properties);\n    } else {\n      this._resolveAnimations(index, mode).update(element, properties);\n    }\n  }\n  updateSharedOptions(sharedOptions, mode, newOptions) {\n    if (sharedOptions && !isDirectUpdateMode(mode)) {\n      this._resolveAnimations(undefined, mode).update(sharedOptions, newOptions);\n    }\n  }\n  _setStyle(element, index, mode, active) {\n    element.active = active;\n    const options = this.getStyle(index, active);\n    this._resolveAnimations(index, mode, active).update(element, {\n      options: (!active && this.getSharedOptions(options)) || options\n    });\n  }\n  removeHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', false);\n  }\n  setHoverStyle(element, datasetIndex, index) {\n    this._setStyle(element, index, 'active', true);\n  }\n  _removeDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', false);\n    }\n  }\n  _setDatasetHoverStyle() {\n    const element = this._cachedMeta.dataset;\n    if (element) {\n      this._setStyle(element, undefined, 'active', true);\n    }\n  }\n  _resyncElements(resetNewElements) {\n    const data = this._data;\n    const elements = this._cachedMeta.data;\n    for (const [method, arg1, arg2] of this._syncList) {\n      this[method](arg1, arg2);\n    }\n    this._syncList = [];\n    const numMeta = elements.length;\n    const numData = data.length;\n    const count = Math.min(numData, numMeta);\n    if (count) {\n      this.parse(0, count);\n    }\n    if (numData > numMeta) {\n      this._insertElements(numMeta, numData - numMeta, resetNewElements);\n    } else if (numData < numMeta) {\n      this._removeElements(numData, numMeta - numData);\n    }\n  }\n  _insertElements(start, count, resetNewElements = true) {\n    const meta = this._cachedMeta;\n    const data = meta.data;\n    const end = start + count;\n    let i;\n    const move = (arr) => {\n      arr.length += count;\n      for (i = arr.length - 1; i >= end; i--) {\n        arr[i] = arr[i - count];\n      }\n    };\n    move(data);\n    for (i = start; i < end; ++i) {\n      data[i] = new this.dataElementType();\n    }\n    if (this._parsing) {\n      move(meta._parsed);\n    }\n    this.parse(start, count);\n    if (resetNewElements) {\n      this.updateElements(data, start, count, 'reset');\n    }\n  }\n  updateElements(element, start, count, mode) {}\n  _removeElements(start, count) {\n    const meta = this._cachedMeta;\n    if (this._parsing) {\n      const removed = meta._parsed.splice(start, count);\n      if (meta._stacked) {\n        clearStacks(meta, removed);\n      }\n    }\n    meta.data.splice(start, count);\n  }\n  _sync(args) {\n    if (this._parsing) {\n      this._syncList.push(args);\n    } else {\n      const [method, arg1, arg2] = args;\n      this[method](arg1, arg2);\n    }\n    this.chart._dataChanges.push([this.index, ...args]);\n  }\n  _onDataPush() {\n    const count = arguments.length;\n    this._sync(['_insertElements', this.getDataset().data.length - count, count]);\n  }\n  _onDataPop() {\n    this._sync(['_removeElements', this._cachedMeta.data.length - 1, 1]);\n  }\n  _onDataShift() {\n    this._sync(['_removeElements', 0, 1]);\n  }\n  _onDataSplice(start, count) {\n    if (count) {\n      this._sync(['_removeElements', start, count]);\n    }\n    const newCount = arguments.length - 2;\n    if (newCount) {\n      this._sync(['_insertElements', start, newCount]);\n    }\n  }\n  _onDataUnshift() {\n    this._sync(['_insertElements', 0, arguments.length]);\n  }\n}\nDatasetController.defaults = {};\nDatasetController.prototype.datasetElementType = null;\nDatasetController.prototype.dataElementType = null;\n\nfunction getAllScaleValues(scale, type) {\n  if (!scale._cache.$bar) {\n    const visibleMetas = scale.getMatchingVisibleMetas(type);\n    let values = [];\n    for (let i = 0, ilen = visibleMetas.length; i < ilen; i++) {\n      values = values.concat(visibleMetas[i].controller.getAllParsedValues(scale));\n    }\n    scale._cache.$bar = _arrayUnique(values.sort((a, b) => a - b));\n  }\n  return scale._cache.$bar;\n}\nfunction computeMinSampleSize(meta) {\n  const scale = meta.iScale;\n  const values = getAllScaleValues(scale, meta.type);\n  let min = scale._length;\n  let i, ilen, curr, prev;\n  const updateMinAndPrev = () => {\n    if (curr === 32767 || curr === -32768) {\n      return;\n    }\n    if (defined(prev)) {\n      min = Math.min(min, Math.abs(curr - prev) || min);\n    }\n    prev = curr;\n  };\n  for (i = 0, ilen = values.length; i < ilen; ++i) {\n    curr = scale.getPixelForValue(values[i]);\n    updateMinAndPrev();\n  }\n  prev = undefined;\n  for (i = 0, ilen = scale.ticks.length; i < ilen; ++i) {\n    curr = scale.getPixelForTick(i);\n    updateMinAndPrev();\n  }\n  return min;\n}\nfunction computeFitCategoryTraits(index, ruler, options, stackCount) {\n  const thickness = options.barThickness;\n  let size, ratio;\n  if (isNullOrUndef(thickness)) {\n    size = ruler.min * options.categoryPercentage;\n    ratio = options.barPercentage;\n  } else {\n    size = thickness * stackCount;\n    ratio = 1;\n  }\n  return {\n    chunk: size / stackCount,\n    ratio,\n    start: ruler.pixels[index] - (size / 2)\n  };\n}\nfunction computeFlexCategoryTraits(index, ruler, options, stackCount) {\n  const pixels = ruler.pixels;\n  const curr = pixels[index];\n  let prev = index > 0 ? pixels[index - 1] : null;\n  let next = index < pixels.length - 1 ? pixels[index + 1] : null;\n  const percent = options.categoryPercentage;\n  if (prev === null) {\n    prev = curr - (next === null ? ruler.end - ruler.start : next - curr);\n  }\n  if (next === null) {\n    next = curr + curr - prev;\n  }\n  const start = curr - (curr - Math.min(prev, next)) / 2 * percent;\n  const size = Math.abs(next - prev) / 2 * percent;\n  return {\n    chunk: size / stackCount,\n    ratio: options.barPercentage,\n    start\n  };\n}\nfunction parseFloatBar(entry, item, vScale, i) {\n  const startValue = vScale.parse(entry[0], i);\n  const endValue = vScale.parse(entry[1], i);\n  const min = Math.min(startValue, endValue);\n  const max = Math.max(startValue, endValue);\n  let barStart = min;\n  let barEnd = max;\n  if (Math.abs(min) > Math.abs(max)) {\n    barStart = max;\n    barEnd = min;\n  }\n  item[vScale.axis] = barEnd;\n  item._custom = {\n    barStart,\n    barEnd,\n    start: startValue,\n    end: endValue,\n    min,\n    max\n  };\n}\nfunction parseValue(entry, item, vScale, i) {\n  if (isArray(entry)) {\n    parseFloatBar(entry, item, vScale, i);\n  } else {\n    item[vScale.axis] = vScale.parse(entry, i);\n  }\n  return item;\n}\nfunction parseArrayOrPrimitive(meta, data, start, count) {\n  const iScale = meta.iScale;\n  const vScale = meta.vScale;\n  const labels = iScale.getLabels();\n  const singleScale = iScale === vScale;\n  const parsed = [];\n  let i, ilen, item, entry;\n  for (i = start, ilen = start + count; i < ilen; ++i) {\n    entry = data[i];\n    item = {};\n    item[iScale.axis] = singleScale || iScale.parse(labels[i], i);\n    parsed.push(parseValue(entry, item, vScale, i));\n  }\n  return parsed;\n}\nfunction isFloatBar(custom) {\n  return custom && custom.barStart !== undefined && custom.barEnd !== undefined;\n}\nfunction barSign(size, vScale, actualBase) {\n  if (size !== 0) {\n    return sign(size);\n  }\n  return (vScale.isHorizontal() ? 1 : -1) * (vScale.min >= actualBase ? 1 : -1);\n}\nfunction borderProps(properties) {\n  let reverse, start, end, top, bottom;\n  if (properties.horizontal) {\n    reverse = properties.base > properties.x;\n    start = 'left';\n    end = 'right';\n  } else {\n    reverse = properties.base < properties.y;\n    start = 'bottom';\n    end = 'top';\n  }\n  if (reverse) {\n    top = 'end';\n    bottom = 'start';\n  } else {\n    top = 'start';\n    bottom = 'end';\n  }\n  return {start, end, reverse, top, bottom};\n}\nfunction setBorderSkipped(properties, options, stack, index) {\n  let edge = options.borderSkipped;\n  const res = {};\n  if (!edge) {\n    properties.borderSkipped = res;\n    return;\n  }\n  const {start, end, reverse, top, bottom} = borderProps(properties);\n  if (edge === 'middle' && stack) {\n    properties.enableBorderRadius = true;\n    if ((stack._top || 0) === index) {\n      edge = top;\n    } else if ((stack._bottom || 0) === index) {\n      edge = bottom;\n    } else {\n      res[parseEdge(bottom, start, end, reverse)] = true;\n      edge = top;\n    }\n  }\n  res[parseEdge(edge, start, end, reverse)] = true;\n  properties.borderSkipped = res;\n}\nfunction parseEdge(edge, a, b, reverse) {\n  if (reverse) {\n    edge = swap(edge, a, b);\n    edge = startEnd(edge, b, a);\n  } else {\n    edge = startEnd(edge, a, b);\n  }\n  return edge;\n}\nfunction swap(orig, v1, v2) {\n  return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\nfunction startEnd(v, start, end) {\n  return v === 'start' ? start : v === 'end' ? end : v;\n}\nfunction setInflateAmount(properties, {inflateAmount}, ratio) {\n  properties.inflateAmount = inflateAmount === 'auto'\n    ? ratio === 1 ? 0.33 : 0\n    : inflateAmount;\n}\nclass BarController extends DatasetController {\n  parsePrimitiveData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseArrayData(meta, data, start, count) {\n    return parseArrayOrPrimitive(meta, data, start, count);\n  }\n  parseObjectData(meta, data, start, count) {\n    const {iScale, vScale} = meta;\n    const {xAxisKey = 'x', yAxisKey = 'y'} = this._parsing;\n    const iAxisKey = iScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const vAxisKey = vScale.axis === 'x' ? xAxisKey : yAxisKey;\n    const parsed = [];\n    let i, ilen, item, obj;\n    for (i = start, ilen = start + count; i < ilen; ++i) {\n      obj = data[i];\n      item = {};\n      item[iScale.axis] = iScale.parse(resolveObjectKey(obj, iAxisKey), i);\n      parsed.push(parseValue(resolveObjectKey(obj, vAxisKey), item, vScale, i));\n    }\n    return parsed;\n  }\n  updateRangeFromParsed(range, scale, parsed, stack) {\n    super.updateRangeFromParsed(range, scale, parsed, stack);\n    const custom = parsed._custom;\n    if (custom && scale === this._cachedMeta.vScale) {\n      range.min = Math.min(range.min, custom.min);\n      range.max = Math.max(range.max, custom.max);\n    }\n  }\n  getMaxOverflow() {\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {iScale, vScale} = meta;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const value = isFloatBar(custom)\n      ? '[' + custom.start + ', ' + custom.end + ']'\n      : '' + vScale.getLabelForValue(parsed[vScale.axis]);\n    return {\n      label: '' + iScale.getLabelForValue(parsed[iScale.axis]),\n      value\n    };\n  }\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n    const meta = this._cachedMeta;\n    meta.stack = this.getDataset().stack;\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    this.updateElements(meta.data, 0, meta.data.length, mode);\n  }\n  updateElements(bars, start, count, mode) {\n    const reset = mode === 'reset';\n    const {index, _cachedMeta: {vScale}} = this;\n    const base = vScale.getBasePixel();\n    const horizontal = vScale.isHorizontal();\n    const ruler = this._getRuler();\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n    for (let i = start; i < start + count; i++) {\n      const parsed = this.getParsed(i);\n      const vpixels = reset || isNullOrUndef(parsed[vScale.axis]) ? {base, head: base} : this._calculateBarValuePixels(i);\n      const ipixels = this._calculateBarIndexPixels(i, ruler);\n      const stack = (parsed._stacks || {})[vScale.axis];\n      const properties = {\n        horizontal,\n        base: vpixels.base,\n        enableBorderRadius: !stack || isFloatBar(parsed._custom) || (index === stack._top || index === stack._bottom),\n        x: horizontal ? vpixels.head : ipixels.center,\n        y: horizontal ? ipixels.center : vpixels.head,\n        height: horizontal ? ipixels.size : Math.abs(vpixels.size),\n        width: horizontal ? Math.abs(vpixels.size) : ipixels.size\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, bars[i].active ? 'active' : mode);\n      }\n      const options = properties.options || bars[i].options;\n      setBorderSkipped(properties, options, stack, index);\n      setInflateAmount(properties, options, ruler.ratio);\n      this.updateElement(bars[i], i, properties, mode);\n    }\n  }\n  _getStacks(last, dataIndex) {\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const metasets = iScale.getMatchingVisibleMetas(this._type);\n    const stacked = iScale.options.stacked;\n    const ilen = metasets.length;\n    const stacks = [];\n    let i, item;\n    for (i = 0; i < ilen; ++i) {\n      item = metasets[i];\n      if (!item.controller.options.grouped) {\n        continue;\n      }\n      if (typeof dataIndex !== 'undefined') {\n        const val = item.controller.getParsed(dataIndex)[\n          item.controller._cachedMeta.vScale.axis\n        ];\n        if (isNullOrUndef(val) || isNaN(val)) {\n          continue;\n        }\n      }\n      if (stacked === false || stacks.indexOf(item.stack) === -1 ||\n\t\t\t\t(stacked === undefined && item.stack === undefined)) {\n        stacks.push(item.stack);\n      }\n      if (item.index === last) {\n        break;\n      }\n    }\n    if (!stacks.length) {\n      stacks.push(undefined);\n    }\n    return stacks;\n  }\n  _getStackCount(index) {\n    return this._getStacks(undefined, index).length;\n  }\n  _getStackIndex(datasetIndex, name, dataIndex) {\n    const stacks = this._getStacks(datasetIndex, dataIndex);\n    const index = (name !== undefined)\n      ? stacks.indexOf(name)\n      : -1;\n    return (index === -1)\n      ? stacks.length - 1\n      : index;\n  }\n  _getRuler() {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const iScale = meta.iScale;\n    const pixels = [];\n    let i, ilen;\n    for (i = 0, ilen = meta.data.length; i < ilen; ++i) {\n      pixels.push(iScale.getPixelForValue(this.getParsed(i)[iScale.axis], i));\n    }\n    const barThickness = opts.barThickness;\n    const min = barThickness || computeMinSampleSize(meta);\n    return {\n      min,\n      pixels,\n      start: iScale._startPixel,\n      end: iScale._endPixel,\n      stackCount: this._getStackCount(),\n      scale: iScale,\n      grouped: opts.grouped,\n      ratio: barThickness ? 1 : opts.categoryPercentage * opts.barPercentage\n    };\n  }\n  _calculateBarValuePixels(index) {\n    const {_cachedMeta: {vScale, _stacked}, options: {base: baseValue, minBarLength}} = this;\n    const actualBase = baseValue || 0;\n    const parsed = this.getParsed(index);\n    const custom = parsed._custom;\n    const floating = isFloatBar(custom);\n    let value = parsed[vScale.axis];\n    let start = 0;\n    let length = _stacked ? this.applyStack(vScale, parsed, _stacked) : value;\n    let head, size;\n    if (length !== value) {\n      start = length - value;\n      length = value;\n    }\n    if (floating) {\n      value = custom.barStart;\n      length = custom.barEnd - custom.barStart;\n      if (value !== 0 && sign(value) !== sign(custom.barEnd)) {\n        start = 0;\n      }\n      start += value;\n    }\n    const startValue = !isNullOrUndef(baseValue) && !floating ? baseValue : start;\n    let base = vScale.getPixelForValue(startValue);\n    if (this.chart.getDataVisibility(index)) {\n      head = vScale.getPixelForValue(start + length);\n    } else {\n      head = base;\n    }\n    size = head - base;\n    if (Math.abs(size) < minBarLength) {\n      size = barSign(size, vScale, actualBase) * minBarLength;\n      if (value === actualBase) {\n        base -= size / 2;\n      }\n      head = base + size;\n    }\n    if (base === vScale.getPixelForValue(actualBase)) {\n      const halfGrid = sign(size) * vScale.getLineWidthForValue(actualBase) / 2;\n      base += halfGrid;\n      size -= halfGrid;\n    }\n    return {\n      size,\n      base,\n      head,\n      center: head + size / 2\n    };\n  }\n  _calculateBarIndexPixels(index, ruler) {\n    const scale = ruler.scale;\n    const options = this.options;\n    const skipNull = options.skipNull;\n    const maxBarThickness = valueOrDefault(options.maxBarThickness, Infinity);\n    let center, size;\n    if (ruler.grouped) {\n      const stackCount = skipNull ? this._getStackCount(index) : ruler.stackCount;\n      const range = options.barThickness === 'flex'\n        ? computeFlexCategoryTraits(index, ruler, options, stackCount)\n        : computeFitCategoryTraits(index, ruler, options, stackCount);\n      const stackIndex = this._getStackIndex(this.index, this._cachedMeta.stack, skipNull ? index : undefined);\n      center = range.start + (range.chunk * stackIndex) + (range.chunk / 2);\n      size = Math.min(maxBarThickness, range.chunk * range.ratio);\n    } else {\n      center = scale.getPixelForValue(this.getParsed(index)[scale.axis], index);\n      size = Math.min(maxBarThickness, ruler.min * ruler.ratio);\n    }\n    return {\n      base: center - size / 2,\n      head: center + size / 2,\n      center,\n      size\n    };\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    const vScale = meta.vScale;\n    const rects = meta.data;\n    const ilen = rects.length;\n    let i = 0;\n    for (; i < ilen; ++i) {\n      if (this.getParsed(i)[vScale.axis] !== null) {\n        rects[i].draw(this._ctx);\n      }\n    }\n  }\n}\nBarController.id = 'bar';\nBarController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'bar',\n  categoryPercentage: 0.8,\n  barPercentage: 0.9,\n  grouped: true,\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'base', 'width', 'height']\n    }\n  }\n};\nBarController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n      offset: true,\n      grid: {\n        offset: true\n      }\n    },\n    _value_: {\n      type: 'linear',\n      beginAtZero: true,\n    }\n  }\n};\n\nclass BubbleController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  parsePrimitiveData(meta, data, start, count) {\n    const parsed = super.parsePrimitiveData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      parsed[i]._custom = this.resolveDataElementOptions(i + start).radius;\n    }\n    return parsed;\n  }\n  parseArrayData(meta, data, start, count) {\n    const parsed = super.parseArrayData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item[2], this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  parseObjectData(meta, data, start, count) {\n    const parsed = super.parseObjectData(meta, data, start, count);\n    for (let i = 0; i < parsed.length; i++) {\n      const item = data[start + i];\n      parsed[i]._custom = valueOrDefault(item && item.r && +item.r, this.resolveDataElementOptions(i + start).radius);\n    }\n    return parsed;\n  }\n  getMaxOverflow() {\n    const data = this._cachedMeta.data;\n    let max = 0;\n    for (let i = data.length - 1; i >= 0; --i) {\n      max = Math.max(max, data[i].size(this.resolveDataElementOptions(i)) / 2);\n    }\n    return max > 0 && max;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const {xScale, yScale} = meta;\n    const parsed = this.getParsed(index);\n    const x = xScale.getLabelForValue(parsed.x);\n    const y = yScale.getLabelForValue(parsed.y);\n    const r = parsed._custom;\n    return {\n      label: meta.label,\n      value: '(' + x + ', ' + y + (r ? ', ' + r : '') + ')'\n    };\n  }\n  update(mode) {\n    const points = this._cachedMeta.data;\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const parsed = !reset && this.getParsed(i);\n      const properties = {};\n      const iPixel = properties[iAxis] = reset ? iScale.getPixelForDecimal(0.5) : iScale.getPixelForValue(parsed[iAxis]);\n      const vPixel = properties[vAxis] = reset ? vScale.getBasePixel() : vScale.getPixelForValue(parsed[vAxis]);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel);\n      if (includeOptions) {\n        properties.options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n        if (reset) {\n          properties.options.radius = 0;\n        }\n      }\n      this.updateElement(point, i, properties, mode);\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  resolveDataElementOptions(index, mode) {\n    const parsed = this.getParsed(index);\n    let values = super.resolveDataElementOptions(index, mode);\n    if (values.$shared) {\n      values = Object.assign({}, values, {$shared: false});\n    }\n    const radius = values.radius;\n    if (mode !== 'active') {\n      values.radius = 0;\n    }\n    values.radius += valueOrDefault(parsed && parsed._custom, radius);\n    return values;\n  }\n}\nBubbleController.id = 'bubble';\nBubbleController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'point',\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'borderWidth', 'radius']\n    }\n  }\n};\nBubbleController.overrides = {\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        }\n      }\n    }\n  }\n};\n\nfunction getRatioAndOffset(rotation, circumference, cutout) {\n  let ratioX = 1;\n  let ratioY = 1;\n  let offsetX = 0;\n  let offsetY = 0;\n  if (circumference < TAU) {\n    const startAngle = rotation;\n    const endAngle = startAngle + circumference;\n    const startX = Math.cos(startAngle);\n    const startY = Math.sin(startAngle);\n    const endX = Math.cos(endAngle);\n    const endY = Math.sin(endAngle);\n    const calcMax = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? 1 : Math.max(a, a * cutout, b, b * cutout);\n    const calcMin = (angle, a, b) => _angleBetween(angle, startAngle, endAngle, true) ? -1 : Math.min(a, a * cutout, b, b * cutout);\n    const maxX = calcMax(0, startX, endX);\n    const maxY = calcMax(HALF_PI, startY, endY);\n    const minX = calcMin(PI, startX, endX);\n    const minY = calcMin(PI + HALF_PI, startY, endY);\n    ratioX = (maxX - minX) / 2;\n    ratioY = (maxY - minY) / 2;\n    offsetX = -(maxX + minX) / 2;\n    offsetY = -(maxY + minY) / 2;\n  }\n  return {ratioX, ratioY, offsetX, offsetY};\n}\nclass DoughnutController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.enableOptionSharing = true;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.offsetX = undefined;\n    this.offsetY = undefined;\n  }\n  linkScales() {}\n  parse(start, count) {\n    const data = this.getDataset().data;\n    const meta = this._cachedMeta;\n    if (this._parsing === false) {\n      meta._parsed = data;\n    } else {\n      let getter = (i) => +data[i];\n      if (isObject(data[start])) {\n        const {key = 'value'} = this._parsing;\n        getter = (i) => +resolveObjectKey(data[i], key);\n      }\n      let i, ilen;\n      for (i = start, ilen = start + count; i < ilen; ++i) {\n        meta._parsed[i] = getter(i);\n      }\n    }\n  }\n  _getRotation() {\n    return toRadians(this.options.rotation - 90);\n  }\n  _getCircumference() {\n    return toRadians(this.options.circumference);\n  }\n  _getRotationExtents() {\n    let min = TAU;\n    let max = -TAU;\n    for (let i = 0; i < this.chart.data.datasets.length; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        const controller = this.chart.getDatasetMeta(i).controller;\n        const rotation = controller._getRotation();\n        const circumference = controller._getCircumference();\n        min = Math.min(min, rotation);\n        max = Math.max(max, rotation + circumference);\n      }\n    }\n    return {\n      rotation: min,\n      circumference: max - min,\n    };\n  }\n  update(mode) {\n    const chart = this.chart;\n    const {chartArea} = chart;\n    const meta = this._cachedMeta;\n    const arcs = meta.data;\n    const spacing = this.getMaxBorderWidth() + this.getMaxOffset(arcs) + this.options.spacing;\n    const maxSize = Math.max((Math.min(chartArea.width, chartArea.height) - spacing) / 2, 0);\n    const cutout = Math.min(toPercentage(this.options.cutout, maxSize), 1);\n    const chartWeight = this._getRingWeight(this.index);\n    const {circumference, rotation} = this._getRotationExtents();\n    const {ratioX, ratioY, offsetX, offsetY} = getRatioAndOffset(rotation, circumference, cutout);\n    const maxWidth = (chartArea.width - spacing) / ratioX;\n    const maxHeight = (chartArea.height - spacing) / ratioY;\n    const maxRadius = Math.max(Math.min(maxWidth, maxHeight) / 2, 0);\n    const outerRadius = toDimension(this.options.radius, maxRadius);\n    const innerRadius = Math.max(outerRadius * cutout, 0);\n    const radiusLength = (outerRadius - innerRadius) / this._getVisibleDatasetWeightTotal();\n    this.offsetX = offsetX * outerRadius;\n    this.offsetY = offsetY * outerRadius;\n    meta.total = this.calculateTotal();\n    this.outerRadius = outerRadius - radiusLength * this._getRingWeightOffset(this.index);\n    this.innerRadius = Math.max(this.outerRadius - radiusLength * chartWeight, 0);\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _circumference(i, reset) {\n    const opts = this.options;\n    const meta = this._cachedMeta;\n    const circumference = this._getCircumference();\n    if ((reset && opts.animation.animateRotate) || !this.chart.getDataVisibility(i) || meta._parsed[i] === null || meta.data[i].hidden) {\n      return 0;\n    }\n    return this.calculateCircumference(meta._parsed[i] * circumference / TAU);\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const centerX = (chartArea.left + chartArea.right) / 2;\n    const centerY = (chartArea.top + chartArea.bottom) / 2;\n    const animateScale = reset && animationOpts.animateScale;\n    const innerRadius = animateScale ? 0 : this.innerRadius;\n    const outerRadius = animateScale ? 0 : this.outerRadius;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    let startAngle = this._getRotation();\n    let i;\n    for (i = 0; i < start; ++i) {\n      startAngle += this._circumference(i, reset);\n    }\n    for (i = start; i < start + count; ++i) {\n      const circumference = this._circumference(i, reset);\n      const arc = arcs[i];\n      const properties = {\n        x: centerX + this.offsetX,\n        y: centerY + this.offsetY,\n        startAngle,\n        endAngle: startAngle + circumference,\n        circumference,\n        outerRadius,\n        innerRadius\n      };\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, arc.active ? 'active' : mode);\n      }\n      startAngle += circumference;\n      this.updateElement(arc, i, properties, mode);\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  calculateTotal() {\n    const meta = this._cachedMeta;\n    const metaData = meta.data;\n    let total = 0;\n    let i;\n    for (i = 0; i < metaData.length; i++) {\n      const value = meta._parsed[i];\n      if (value !== null && !isNaN(value) && this.chart.getDataVisibility(i) && !metaData[i].hidden) {\n        total += Math.abs(value);\n      }\n    }\n    return total;\n  }\n  calculateCircumference(value) {\n    const total = this._cachedMeta.total;\n    if (total > 0 && !isNaN(value)) {\n      return TAU * (Math.abs(value) / total);\n    }\n    return 0;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index], chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  getMaxBorderWidth(arcs) {\n    let max = 0;\n    const chart = this.chart;\n    let i, ilen, meta, controller, options;\n    if (!arcs) {\n      for (i = 0, ilen = chart.data.datasets.length; i < ilen; ++i) {\n        if (chart.isDatasetVisible(i)) {\n          meta = chart.getDatasetMeta(i);\n          arcs = meta.data;\n          controller = meta.controller;\n          break;\n        }\n      }\n    }\n    if (!arcs) {\n      return 0;\n    }\n    for (i = 0, ilen = arcs.length; i < ilen; ++i) {\n      options = controller.resolveDataElementOptions(i);\n      if (options.borderAlign !== 'inner') {\n        max = Math.max(max, options.borderWidth || 0, options.hoverBorderWidth || 0);\n      }\n    }\n    return max;\n  }\n  getMaxOffset(arcs) {\n    let max = 0;\n    for (let i = 0, ilen = arcs.length; i < ilen; ++i) {\n      const options = this.resolveDataElementOptions(i);\n      max = Math.max(max, options.offset || 0, options.hoverOffset || 0);\n    }\n    return max;\n  }\n  _getRingWeightOffset(datasetIndex) {\n    let ringWeightOffset = 0;\n    for (let i = 0; i < datasetIndex; ++i) {\n      if (this.chart.isDatasetVisible(i)) {\n        ringWeightOffset += this._getRingWeight(i);\n      }\n    }\n    return ringWeightOffset;\n  }\n  _getRingWeight(datasetIndex) {\n    return Math.max(valueOrDefault(this.chart.data.datasets[datasetIndex].weight, 1), 0);\n  }\n  _getVisibleDatasetWeightTotal() {\n    return this._getRingWeightOffset(this.chart.data.datasets.length) || 1;\n  }\n}\nDoughnutController.id = 'doughnut';\nDoughnutController.defaults = {\n  datasetElementType: false,\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: false\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['circumference', 'endAngle', 'innerRadius', 'outerRadius', 'startAngle', 'x', 'y', 'offset', 'borderWidth', 'spacing']\n    },\n  },\n  cutout: '50%',\n  rotation: 0,\n  circumference: 360,\n  radius: '100%',\n  spacing: 0,\n  indexAxis: 'r',\n};\nDoughnutController.descriptors = {\n  _scriptable: (name) => name !== 'spacing',\n  _indexable: (name) => name !== 'spacing',\n};\nDoughnutController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(tooltipItem) {\n          let dataLabel = tooltipItem.label;\n          const value = ': ' + tooltipItem.formattedValue;\n          if (isArray(dataLabel)) {\n            dataLabel = dataLabel.slice();\n            dataLabel[0] += value;\n          } else {\n            dataLabel += value;\n          }\n          return dataLabel;\n        }\n      }\n    }\n  }\n};\n\nclass LineController extends DatasetController {\n  initialize() {\n    this.enableOptionSharing = true;\n    super.initialize();\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const {dataset: line, data: points = [], _dataset} = meta;\n    const animationsDisabled = this.chart._animationsDisabled;\n    let {start, count} = getStartAndCountOfVisiblePoints(meta, points, animationsDisabled);\n    this._drawStart = start;\n    this._drawCount = count;\n    if (scaleRangesChanged(meta)) {\n      start = 0;\n      count = points.length;\n    }\n    line._chart = this.chart;\n    line._datasetIndex = this.index;\n    line._decimated = !!_dataset._decimated;\n    line.points = points;\n    const options = this.resolveDatasetElementOptions(mode);\n    if (!this.options.showLine) {\n      options.borderWidth = 0;\n    }\n    options.segment = this.options.segment;\n    this.updateElement(line, undefined, {\n      animated: !animationsDisabled,\n      options\n    }, mode);\n    this.updateElements(points, start, count, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const reset = mode === 'reset';\n    const {iScale, vScale, _stacked, _dataset} = this._cachedMeta;\n    const firstOpts = this.resolveDataElementOptions(start, mode);\n    const sharedOptions = this.getSharedOptions(firstOpts);\n    const includeOptions = this.includeOptions(mode, sharedOptions);\n    const iAxis = iScale.axis;\n    const vAxis = vScale.axis;\n    const {spanGaps, segment} = this.options;\n    const maxGapLength = isNumber(spanGaps) ? spanGaps : Number.POSITIVE_INFINITY;\n    const directUpdate = this.chart._animationsDisabled || reset || mode === 'none';\n    let prevParsed = start > 0 && this.getParsed(start - 1);\n    for (let i = start; i < start + count; ++i) {\n      const point = points[i];\n      const parsed = this.getParsed(i);\n      const properties = directUpdate ? point : {};\n      const nullData = isNullOrUndef(parsed[vAxis]);\n      const iPixel = properties[iAxis] = iScale.getPixelForValue(parsed[iAxis], i);\n      const vPixel = properties[vAxis] = reset || nullData ? vScale.getBasePixel() : vScale.getPixelForValue(_stacked ? this.applyStack(vScale, parsed, _stacked) : parsed[vAxis], i);\n      properties.skip = isNaN(iPixel) || isNaN(vPixel) || nullData;\n      properties.stop = i > 0 && (parsed[iAxis] - prevParsed[iAxis]) > maxGapLength;\n      if (segment) {\n        properties.parsed = parsed;\n        properties.raw = _dataset.data[i];\n      }\n      if (includeOptions) {\n        properties.options = sharedOptions || this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      }\n      if (!directUpdate) {\n        this.updateElement(point, i, properties, mode);\n      }\n      prevParsed = parsed;\n    }\n    this.updateSharedOptions(sharedOptions, mode, firstOpts);\n  }\n  getMaxOverflow() {\n    const meta = this._cachedMeta;\n    const dataset = meta.dataset;\n    const border = dataset.options && dataset.options.borderWidth || 0;\n    const data = meta.data || [];\n    if (!data.length) {\n      return border;\n    }\n    const firstPoint = data[0].size(this.resolveDataElementOptions(0));\n    const lastPoint = data[data.length - 1].size(this.resolveDataElementOptions(data.length - 1));\n    return Math.max(border, firstPoint, lastPoint) / 2;\n  }\n  draw() {\n    const meta = this._cachedMeta;\n    meta.dataset.updateControlPoints(this.chart.chartArea, meta.iScale.axis);\n    super.draw();\n  }\n}\nLineController.id = 'line';\nLineController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  showLine: true,\n  spanGaps: false,\n};\nLineController.overrides = {\n  scales: {\n    _index_: {\n      type: 'category',\n    },\n    _value_: {\n      type: 'linear',\n    },\n  }\n};\nfunction getStartAndCountOfVisiblePoints(meta, points, animationsDisabled) {\n  const pointCount = points.length;\n  let start = 0;\n  let count = pointCount;\n  if (meta._sorted) {\n    const {iScale, _parsed} = meta;\n    const axis = iScale.axis;\n    const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n    if (minDefined) {\n      start = _limitValue(Math.min(\n        _lookupByKey(_parsed, iScale.axis, min).lo,\n        animationsDisabled ? pointCount : _lookupByKey(points, axis, iScale.getPixelForValue(min)).lo),\n      0, pointCount - 1);\n    }\n    if (maxDefined) {\n      count = _limitValue(Math.max(\n        _lookupByKey(_parsed, iScale.axis, max).hi + 1,\n        animationsDisabled ? 0 : _lookupByKey(points, axis, iScale.getPixelForValue(max)).hi + 1),\n      start, pointCount) - start;\n    } else {\n      count = pointCount - start;\n    }\n  }\n  return {start, count};\n}\nfunction scaleRangesChanged(meta) {\n  const {xScale, yScale, _scaleRanges} = meta;\n  const newRanges = {\n    xmin: xScale.min,\n    xmax: xScale.max,\n    ymin: yScale.min,\n    ymax: yScale.max\n  };\n  if (!_scaleRanges) {\n    meta._scaleRanges = newRanges;\n    return true;\n  }\n  const changed = _scaleRanges.xmin !== xScale.min\n\t\t|| _scaleRanges.xmax !== xScale.max\n\t\t|| _scaleRanges.ymin !== yScale.min\n\t\t|| _scaleRanges.ymax !== yScale.max;\n  Object.assign(_scaleRanges, newRanges);\n  return changed;\n}\n\nclass PolarAreaController extends DatasetController {\n  constructor(chart, datasetIndex) {\n    super(chart, datasetIndex);\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n  }\n  getLabelAndValue(index) {\n    const meta = this._cachedMeta;\n    const chart = this.chart;\n    const labels = chart.data.labels || [];\n    const value = formatNumber(meta._parsed[index].r, chart.options.locale);\n    return {\n      label: labels[index] || '',\n      value,\n    };\n  }\n  update(mode) {\n    const arcs = this._cachedMeta.data;\n    this._updateRadius();\n    this.updateElements(arcs, 0, arcs.length, mode);\n  }\n  _updateRadius() {\n    const chart = this.chart;\n    const chartArea = chart.chartArea;\n    const opts = chart.options;\n    const minSize = Math.min(chartArea.right - chartArea.left, chartArea.bottom - chartArea.top);\n    const outerRadius = Math.max(minSize / 2, 0);\n    const innerRadius = Math.max(opts.cutoutPercentage ? (outerRadius / 100) * (opts.cutoutPercentage) : 1, 0);\n    const radiusLength = (outerRadius - innerRadius) / chart.getVisibleDatasetCount();\n    this.outerRadius = outerRadius - (radiusLength * this.index);\n    this.innerRadius = this.outerRadius - radiusLength;\n  }\n  updateElements(arcs, start, count, mode) {\n    const reset = mode === 'reset';\n    const chart = this.chart;\n    const dataset = this.getDataset();\n    const opts = chart.options;\n    const animationOpts = opts.animation;\n    const scale = this._cachedMeta.rScale;\n    const centerX = scale.xCenter;\n    const centerY = scale.yCenter;\n    const datasetStartAngle = scale.getIndexAngle(0) - 0.5 * PI;\n    let angle = datasetStartAngle;\n    let i;\n    const defaultAngle = 360 / this.countVisibleElements();\n    for (i = 0; i < start; ++i) {\n      angle += this._computeAngle(i, mode, defaultAngle);\n    }\n    for (i = start; i < start + count; i++) {\n      const arc = arcs[i];\n      let startAngle = angle;\n      let endAngle = angle + this._computeAngle(i, mode, defaultAngle);\n      let outerRadius = chart.getDataVisibility(i) ? scale.getDistanceFromCenterForValue(dataset.data[i]) : 0;\n      angle = endAngle;\n      if (reset) {\n        if (animationOpts.animateScale) {\n          outerRadius = 0;\n        }\n        if (animationOpts.animateRotate) {\n          startAngle = endAngle = datasetStartAngle;\n        }\n      }\n      const properties = {\n        x: centerX,\n        y: centerY,\n        innerRadius: 0,\n        outerRadius,\n        startAngle,\n        endAngle,\n        options: this.resolveDataElementOptions(i, arc.active ? 'active' : mode)\n      };\n      this.updateElement(arc, i, properties, mode);\n    }\n  }\n  countVisibleElements() {\n    const dataset = this.getDataset();\n    const meta = this._cachedMeta;\n    let count = 0;\n    meta.data.forEach((element, index) => {\n      if (!isNaN(dataset.data[index]) && this.chart.getDataVisibility(index)) {\n        count++;\n      }\n    });\n    return count;\n  }\n  _computeAngle(index, mode, defaultAngle) {\n    return this.chart.getDataVisibility(index)\n      ? toRadians(this.resolveDataElementOptions(index, mode).angle || defaultAngle)\n      : 0;\n  }\n}\nPolarAreaController.id = 'polarArea';\nPolarAreaController.defaults = {\n  dataElementType: 'arc',\n  animation: {\n    animateRotate: true,\n    animateScale: true\n  },\n  animations: {\n    numbers: {\n      type: 'number',\n      properties: ['x', 'y', 'startAngle', 'endAngle', 'innerRadius', 'outerRadius']\n    },\n  },\n  indexAxis: 'r',\n  startAngle: 0,\n};\nPolarAreaController.overrides = {\n  aspectRatio: 1,\n  plugins: {\n    legend: {\n      labels: {\n        generateLabels(chart) {\n          const data = chart.data;\n          if (data.labels.length && data.datasets.length) {\n            const {labels: {pointStyle}} = chart.legend.options;\n            return data.labels.map((label, i) => {\n              const meta = chart.getDatasetMeta(0);\n              const style = meta.controller.getStyle(i);\n              return {\n                text: label,\n                fillStyle: style.backgroundColor,\n                strokeStyle: style.borderColor,\n                lineWidth: style.borderWidth,\n                pointStyle: pointStyle,\n                hidden: !chart.getDataVisibility(i),\n                index: i\n              };\n            });\n          }\n          return [];\n        }\n      },\n      onClick(e, legendItem, legend) {\n        legend.chart.toggleDataVisibility(legendItem.index);\n        legend.chart.update();\n      }\n    },\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(context) {\n          return context.chart.data.labels[context.dataIndex] + ': ' + context.formattedValue;\n        }\n      }\n    }\n  },\n  scales: {\n    r: {\n      type: 'radialLinear',\n      angleLines: {\n        display: false\n      },\n      beginAtZero: true,\n      grid: {\n        circular: true\n      },\n      pointLabels: {\n        display: false\n      },\n      startAngle: 0\n    }\n  }\n};\n\nclass PieController extends DoughnutController {\n}\nPieController.id = 'pie';\nPieController.defaults = {\n  cutout: 0,\n  rotation: 0,\n  circumference: 360,\n  radius: '100%'\n};\n\nclass RadarController extends DatasetController {\n  getLabelAndValue(index) {\n    const vScale = this._cachedMeta.vScale;\n    const parsed = this.getParsed(index);\n    return {\n      label: vScale.getLabels()[index],\n      value: '' + vScale.getLabelForValue(parsed[vScale.axis])\n    };\n  }\n  update(mode) {\n    const meta = this._cachedMeta;\n    const line = meta.dataset;\n    const points = meta.data || [];\n    const labels = meta.iScale.getLabels();\n    line.points = points;\n    if (mode !== 'resize') {\n      const options = this.resolveDatasetElementOptions(mode);\n      if (!this.options.showLine) {\n        options.borderWidth = 0;\n      }\n      const properties = {\n        _loop: true,\n        _fullLoop: labels.length === points.length,\n        options\n      };\n      this.updateElement(line, undefined, properties, mode);\n    }\n    this.updateElements(points, 0, points.length, mode);\n  }\n  updateElements(points, start, count, mode) {\n    const dataset = this.getDataset();\n    const scale = this._cachedMeta.rScale;\n    const reset = mode === 'reset';\n    for (let i = start; i < start + count; i++) {\n      const point = points[i];\n      const options = this.resolveDataElementOptions(i, point.active ? 'active' : mode);\n      const pointPosition = scale.getPointPositionForValue(i, dataset.data[i]);\n      const x = reset ? scale.xCenter : pointPosition.x;\n      const y = reset ? scale.yCenter : pointPosition.y;\n      const properties = {\n        x,\n        y,\n        angle: pointPosition.angle,\n        skip: isNaN(x) || isNaN(y),\n        options\n      };\n      this.updateElement(point, i, properties, mode);\n    }\n  }\n}\nRadarController.id = 'radar';\nRadarController.defaults = {\n  datasetElementType: 'line',\n  dataElementType: 'point',\n  indexAxis: 'r',\n  showLine: true,\n  elements: {\n    line: {\n      fill: 'start'\n    }\n  },\n};\nRadarController.overrides = {\n  aspectRatio: 1,\n  scales: {\n    r: {\n      type: 'radialLinear',\n    }\n  }\n};\n\nclass ScatterController extends LineController {\n}\nScatterController.id = 'scatter';\nScatterController.defaults = {\n  showLine: false,\n  fill: false\n};\nScatterController.overrides = {\n  interaction: {\n    mode: 'point'\n  },\n  plugins: {\n    tooltip: {\n      callbacks: {\n        title() {\n          return '';\n        },\n        label(item) {\n          return '(' + item.label + ', ' + item.formattedValue + ')';\n        }\n      }\n    }\n  },\n  scales: {\n    x: {\n      type: 'linear'\n    },\n    y: {\n      type: 'linear'\n    }\n  }\n};\n\nvar controllers = /*#__PURE__*/Object.freeze({\n__proto__: null,\nBarController: BarController,\nBubbleController: BubbleController,\nDoughnutController: DoughnutController,\nLineController: LineController,\nPolarAreaController: PolarAreaController,\nPieController: PieController,\nRadarController: RadarController,\nScatterController: ScatterController\n});\n\nfunction abstract() {\n  throw new Error('This method is not implemented: Check that a complete date adapter is provided.');\n}\nclass DateAdapter {\n  constructor(options) {\n    this.options = options || {};\n  }\n  formats() {\n    return abstract();\n  }\n  parse(value, format) {\n    return abstract();\n  }\n  format(timestamp, format) {\n    return abstract();\n  }\n  add(timestamp, amount, unit) {\n    return abstract();\n  }\n  diff(a, b, unit) {\n    return abstract();\n  }\n  startOf(timestamp, unit, weekday) {\n    return abstract();\n  }\n  endOf(timestamp, unit) {\n    return abstract();\n  }\n}\nDateAdapter.override = function(members) {\n  Object.assign(DateAdapter.prototype, members);\n};\nvar adapters = {\n  _date: DateAdapter\n};\n\nfunction getRelativePosition(e, chart) {\n  if ('native' in e) {\n    return {\n      x: e.x,\n      y: e.y\n    };\n  }\n  return getRelativePosition$1(e, chart);\n}\nfunction evaluateAllVisibleItems(chart, handler) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  let index, data, element;\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    ({index, data} = metasets[i]);\n    for (let j = 0, jlen = data.length; j < jlen; ++j) {\n      element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction binarySearch(metaset, axis, value, intersect) {\n  const {controller, data, _sorted} = metaset;\n  const iScale = controller._cachedMeta.iScale;\n  if (iScale && axis === iScale.axis && axis !== 'r' && _sorted && data.length) {\n    const lookupMethod = iScale._reversePixels ? _rlookupByKey : _lookupByKey;\n    if (!intersect) {\n      return lookupMethod(data, axis, value);\n    } else if (controller._sharedOptions) {\n      const el = data[0];\n      const range = typeof el.getRange === 'function' && el.getRange(axis);\n      if (range) {\n        const start = lookupMethod(data, axis, value - range);\n        const end = lookupMethod(data, axis, value + range);\n        return {lo: start.lo, hi: end.hi};\n      }\n    }\n  }\n  return {lo: 0, hi: data.length - 1};\n}\nfunction optimizedEvaluateItems(chart, axis, position, handler, intersect) {\n  const metasets = chart.getSortedVisibleDatasetMetas();\n  const value = position[axis];\n  for (let i = 0, ilen = metasets.length; i < ilen; ++i) {\n    const {index, data} = metasets[i];\n    const {lo, hi} = binarySearch(metasets[i], axis, value, intersect);\n    for (let j = lo; j <= hi; ++j) {\n      const element = data[j];\n      if (!element.skip) {\n        handler(element, index, j);\n      }\n    }\n  }\n}\nfunction getDistanceMetricForAxis(axis) {\n  const useX = axis.indexOf('x') !== -1;\n  const useY = axis.indexOf('y') !== -1;\n  return function(pt1, pt2) {\n    const deltaX = useX ? Math.abs(pt1.x - pt2.x) : 0;\n    const deltaY = useY ? Math.abs(pt1.y - pt2.y) : 0;\n    return Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));\n  };\n}\nfunction getIntersectItems(chart, position, axis, useFinalPosition) {\n  const items = [];\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return items;\n  }\n  const evaluationFunc = function(element, datasetIndex, index) {\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n  };\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc, true);\n  return items;\n}\nfunction getNearestRadialItems(chart, position, axis, useFinalPosition) {\n  let items = [];\n  function evaluationFunc(element, datasetIndex, index) {\n    const {startAngle, endAngle} = element.getProps(['startAngle', 'endAngle'], useFinalPosition);\n    const {angle} = getAngleFromPoint(element, {x: position.x, y: position.y});\n    if (_angleBetween(angle, startAngle, endAngle)) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition) {\n  let items = [];\n  const distanceMetric = getDistanceMetricForAxis(axis);\n  let minDistance = Number.POSITIVE_INFINITY;\n  function evaluationFunc(element, datasetIndex, index) {\n    const inRange = element.inRange(position.x, position.y, useFinalPosition);\n    if (intersect && !inRange) {\n      return;\n    }\n    const center = element.getCenterPoint(useFinalPosition);\n    const pointInArea = _isPointInArea(center, chart.chartArea, chart._minPadding);\n    if (!pointInArea && !inRange) {\n      return;\n    }\n    const distance = distanceMetric(position, center);\n    if (distance < minDistance) {\n      items = [{element, datasetIndex, index}];\n      minDistance = distance;\n    } else if (distance === minDistance) {\n      items.push({element, datasetIndex, index});\n    }\n  }\n  optimizedEvaluateItems(chart, axis, position, evaluationFunc);\n  return items;\n}\nfunction getNearestItems(chart, position, axis, intersect, useFinalPosition) {\n  if (!_isPointInArea(position, chart.chartArea, chart._minPadding)) {\n    return [];\n  }\n  return axis === 'r' && !intersect\n    ? getNearestRadialItems(chart, position, axis, useFinalPosition)\n    : getNearestCartesianItems(chart, position, axis, intersect, useFinalPosition);\n}\nfunction getAxisItems(chart, e, options, useFinalPosition) {\n  const position = getRelativePosition(e, chart);\n  const items = [];\n  const axis = options.axis;\n  const rangeMethod = axis === 'x' ? 'inXRange' : 'inYRange';\n  let intersectsItem = false;\n  evaluateAllVisibleItems(chart, (element, datasetIndex, index) => {\n    if (element[rangeMethod](position[axis], useFinalPosition)) {\n      items.push({element, datasetIndex, index});\n    }\n    if (element.inRange(position.x, position.y, useFinalPosition)) {\n      intersectsItem = true;\n    }\n  });\n  if (options.intersect && !intersectsItem) {\n    return [];\n  }\n  return items;\n}\nvar Interaction = {\n  modes: {\n    index(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'x';\n      const items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition)\n        : getNearestItems(chart, position, axis, false, useFinalPosition);\n      const elements = [];\n      if (!items.length) {\n        return [];\n      }\n      chart.getSortedVisibleDatasetMetas().forEach((meta) => {\n        const index = items[0].index;\n        const element = meta.data[index];\n        if (element && !element.skip) {\n          elements.push({element, datasetIndex: meta.index, index});\n        }\n      });\n      return elements;\n    },\n    dataset(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      let items = options.intersect\n        ? getIntersectItems(chart, position, axis, useFinalPosition) :\n        getNearestItems(chart, position, axis, false, useFinalPosition);\n      if (items.length > 0) {\n        const datasetIndex = items[0].datasetIndex;\n        const data = chart.getDatasetMeta(datasetIndex).data;\n        items = [];\n        for (let i = 0; i < data.length; ++i) {\n          items.push({element: data[i], datasetIndex, index: i});\n        }\n      }\n      return items;\n    },\n    point(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getIntersectItems(chart, position, axis, useFinalPosition);\n    },\n    nearest(chart, e, options, useFinalPosition) {\n      const position = getRelativePosition(e, chart);\n      const axis = options.axis || 'xy';\n      return getNearestItems(chart, position, axis, options.intersect, useFinalPosition);\n    },\n    x(chart, e, options, useFinalPosition) {\n      return getAxisItems(chart, e, {axis: 'x', intersect: options.intersect}, useFinalPosition);\n    },\n    y(chart, e, options, useFinalPosition) {\n      return getAxisItems(chart, e, {axis: 'y', intersect: options.intersect}, useFinalPosition);\n    }\n  }\n};\n\nconst STATIC_POSITIONS = ['left', 'top', 'right', 'bottom'];\nfunction filterByPosition(array, position) {\n  return array.filter(v => v.pos === position);\n}\nfunction filterDynamicPositionByAxis(array, axis) {\n  return array.filter(v => STATIC_POSITIONS.indexOf(v.pos) === -1 && v.box.axis === axis);\n}\nfunction sortByWeight(array, reverse) {\n  return array.sort((a, b) => {\n    const v0 = reverse ? b : a;\n    const v1 = reverse ? a : b;\n    return v0.weight === v1.weight ?\n      v0.index - v1.index :\n      v0.weight - v1.weight;\n  });\n}\nfunction wrapBoxes(boxes) {\n  const layoutBoxes = [];\n  let i, ilen, box, pos, stack, stackWeight;\n  for (i = 0, ilen = (boxes || []).length; i < ilen; ++i) {\n    box = boxes[i];\n    ({position: pos, options: {stack, stackWeight = 1}} = box);\n    layoutBoxes.push({\n      index: i,\n      box,\n      pos,\n      horizontal: box.isHorizontal(),\n      weight: box.weight,\n      stack: stack && (pos + stack),\n      stackWeight\n    });\n  }\n  return layoutBoxes;\n}\nfunction buildStacks(layouts) {\n  const stacks = {};\n  for (const wrap of layouts) {\n    const {stack, pos, stackWeight} = wrap;\n    if (!stack || !STATIC_POSITIONS.includes(pos)) {\n      continue;\n    }\n    const _stack = stacks[stack] || (stacks[stack] = {count: 0, placed: 0, weight: 0, size: 0});\n    _stack.count++;\n    _stack.weight += stackWeight;\n  }\n  return stacks;\n}\nfunction setLayoutDims(layouts, params) {\n  const stacks = buildStacks(layouts);\n  const {vBoxMaxWidth, hBoxMaxHeight} = params;\n  let i, ilen, layout;\n  for (i = 0, ilen = layouts.length; i < ilen; ++i) {\n    layout = layouts[i];\n    const {fullSize} = layout.box;\n    const stack = stacks[layout.stack];\n    const factor = stack && layout.stackWeight / stack.weight;\n    if (layout.horizontal) {\n      layout.width = factor ? factor * vBoxMaxWidth : fullSize && params.availableWidth;\n      layout.height = hBoxMaxHeight;\n    } else {\n      layout.width = vBoxMaxWidth;\n      layout.height = factor ? factor * hBoxMaxHeight : fullSize && params.availableHeight;\n    }\n  }\n  return stacks;\n}\nfunction buildLayoutBoxes(boxes) {\n  const layoutBoxes = wrapBoxes(boxes);\n  const fullSize = sortByWeight(layoutBoxes.filter(wrap => wrap.box.fullSize), true);\n  const left = sortByWeight(filterByPosition(layoutBoxes, 'left'), true);\n  const right = sortByWeight(filterByPosition(layoutBoxes, 'right'));\n  const top = sortByWeight(filterByPosition(layoutBoxes, 'top'), true);\n  const bottom = sortByWeight(filterByPosition(layoutBoxes, 'bottom'));\n  const centerHorizontal = filterDynamicPositionByAxis(layoutBoxes, 'x');\n  const centerVertical = filterDynamicPositionByAxis(layoutBoxes, 'y');\n  return {\n    fullSize,\n    leftAndTop: left.concat(top),\n    rightAndBottom: right.concat(centerVertical).concat(bottom).concat(centerHorizontal),\n    chartArea: filterByPosition(layoutBoxes, 'chartArea'),\n    vertical: left.concat(right).concat(centerVertical),\n    horizontal: top.concat(bottom).concat(centerHorizontal)\n  };\n}\nfunction getCombinedMax(maxPadding, chartArea, a, b) {\n  return Math.max(maxPadding[a], chartArea[a]) + Math.max(maxPadding[b], chartArea[b]);\n}\nfunction updateMaxPadding(maxPadding, boxPadding) {\n  maxPadding.top = Math.max(maxPadding.top, boxPadding.top);\n  maxPadding.left = Math.max(maxPadding.left, boxPadding.left);\n  maxPadding.bottom = Math.max(maxPadding.bottom, boxPadding.bottom);\n  maxPadding.right = Math.max(maxPadding.right, boxPadding.right);\n}\nfunction updateDims(chartArea, params, layout, stacks) {\n  const {pos, box} = layout;\n  const maxPadding = chartArea.maxPadding;\n  if (!isObject(pos)) {\n    if (layout.size) {\n      chartArea[pos] -= layout.size;\n    }\n    const stack = stacks[layout.stack] || {size: 0, count: 1};\n    stack.size = Math.max(stack.size, layout.horizontal ? box.height : box.width);\n    layout.size = stack.size / stack.count;\n    chartArea[pos] += layout.size;\n  }\n  if (box.getPadding) {\n    updateMaxPadding(maxPadding, box.getPadding());\n  }\n  const newWidth = Math.max(0, params.outerWidth - getCombinedMax(maxPadding, chartArea, 'left', 'right'));\n  const newHeight = Math.max(0, params.outerHeight - getCombinedMax(maxPadding, chartArea, 'top', 'bottom'));\n  const widthChanged = newWidth !== chartArea.w;\n  const heightChanged = newHeight !== chartArea.h;\n  chartArea.w = newWidth;\n  chartArea.h = newHeight;\n  return layout.horizontal\n    ? {same: widthChanged, other: heightChanged}\n    : {same: heightChanged, other: widthChanged};\n}\nfunction handleMaxPadding(chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function updatePos(pos) {\n    const change = Math.max(maxPadding[pos] - chartArea[pos], 0);\n    chartArea[pos] += change;\n    return change;\n  }\n  chartArea.y += updatePos('top');\n  chartArea.x += updatePos('left');\n  updatePos('right');\n  updatePos('bottom');\n}\nfunction getMargins(horizontal, chartArea) {\n  const maxPadding = chartArea.maxPadding;\n  function marginForPositions(positions) {\n    const margin = {left: 0, top: 0, right: 0, bottom: 0};\n    positions.forEach((pos) => {\n      margin[pos] = Math.max(chartArea[pos], maxPadding[pos]);\n    });\n    return margin;\n  }\n  return horizontal\n    ? marginForPositions(['left', 'right'])\n    : marginForPositions(['top', 'bottom']);\n}\nfunction fitBoxes(boxes, chartArea, params, stacks) {\n  const refitBoxes = [];\n  let i, ilen, layout, box, refit, changed;\n  for (i = 0, ilen = boxes.length, refit = 0; i < ilen; ++i) {\n    layout = boxes[i];\n    box = layout.box;\n    box.update(\n      layout.width || chartArea.w,\n      layout.height || chartArea.h,\n      getMargins(layout.horizontal, chartArea)\n    );\n    const {same, other} = updateDims(chartArea, params, layout, stacks);\n    refit |= same && refitBoxes.length;\n    changed = changed || other;\n    if (!box.fullSize) {\n      refitBoxes.push(layout);\n    }\n  }\n  return refit && fitBoxes(refitBoxes, chartArea, params, stacks) || changed;\n}\nfunction setBoxDims(box, left, top, width, height) {\n  box.top = top;\n  box.left = left;\n  box.right = left + width;\n  box.bottom = top + height;\n  box.width = width;\n  box.height = height;\n}\nfunction placeBoxes(boxes, chartArea, params, stacks) {\n  const userPadding = params.padding;\n  let {x, y} = chartArea;\n  for (const layout of boxes) {\n    const box = layout.box;\n    const stack = stacks[layout.stack] || {count: 1, placed: 0, weight: 1};\n    const weight = (layout.stackWeight / stack.weight) || 1;\n    if (layout.horizontal) {\n      const width = chartArea.w * weight;\n      const height = stack.size || box.height;\n      if (defined(stack.start)) {\n        y = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, userPadding.left, y, params.outerWidth - userPadding.right - userPadding.left, height);\n      } else {\n        setBoxDims(box, chartArea.left + stack.placed, y, width, height);\n      }\n      stack.start = y;\n      stack.placed += width;\n      y = box.bottom;\n    } else {\n      const height = chartArea.h * weight;\n      const width = stack.size || box.width;\n      if (defined(stack.start)) {\n        x = stack.start;\n      }\n      if (box.fullSize) {\n        setBoxDims(box, x, userPadding.top, width, params.outerHeight - userPadding.bottom - userPadding.top);\n      } else {\n        setBoxDims(box, x, chartArea.top + stack.placed, width, height);\n      }\n      stack.start = x;\n      stack.placed += height;\n      x = box.right;\n    }\n  }\n  chartArea.x = x;\n  chartArea.y = y;\n}\ndefaults.set('layout', {\n  autoPadding: true,\n  padding: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  }\n});\nvar layouts = {\n  addBox(chart, item) {\n    if (!chart.boxes) {\n      chart.boxes = [];\n    }\n    item.fullSize = item.fullSize || false;\n    item.position = item.position || 'top';\n    item.weight = item.weight || 0;\n    item._layers = item._layers || function() {\n      return [{\n        z: 0,\n        draw(chartArea) {\n          item.draw(chartArea);\n        }\n      }];\n    };\n    chart.boxes.push(item);\n  },\n  removeBox(chart, layoutItem) {\n    const index = chart.boxes ? chart.boxes.indexOf(layoutItem) : -1;\n    if (index !== -1) {\n      chart.boxes.splice(index, 1);\n    }\n  },\n  configure(chart, item, options) {\n    item.fullSize = options.fullSize;\n    item.position = options.position;\n    item.weight = options.weight;\n  },\n  update(chart, width, height, minPadding) {\n    if (!chart) {\n      return;\n    }\n    const padding = toPadding(chart.options.layout.padding);\n    const availableWidth = Math.max(width - padding.width, 0);\n    const availableHeight = Math.max(height - padding.height, 0);\n    const boxes = buildLayoutBoxes(chart.boxes);\n    const verticalBoxes = boxes.vertical;\n    const horizontalBoxes = boxes.horizontal;\n    each(chart.boxes, box => {\n      if (typeof box.beforeLayout === 'function') {\n        box.beforeLayout();\n      }\n    });\n    const visibleVerticalBoxCount = verticalBoxes.reduce((total, wrap) =>\n      wrap.box.options && wrap.box.options.display === false ? total : total + 1, 0) || 1;\n    const params = Object.freeze({\n      outerWidth: width,\n      outerHeight: height,\n      padding,\n      availableWidth,\n      availableHeight,\n      vBoxMaxWidth: availableWidth / 2 / visibleVerticalBoxCount,\n      hBoxMaxHeight: availableHeight / 2\n    });\n    const maxPadding = Object.assign({}, padding);\n    updateMaxPadding(maxPadding, toPadding(minPadding));\n    const chartArea = Object.assign({\n      maxPadding,\n      w: availableWidth,\n      h: availableHeight,\n      x: padding.left,\n      y: padding.top\n    }, padding);\n    const stacks = setLayoutDims(verticalBoxes.concat(horizontalBoxes), params);\n    fitBoxes(boxes.fullSize, chartArea, params, stacks);\n    fitBoxes(verticalBoxes, chartArea, params, stacks);\n    if (fitBoxes(horizontalBoxes, chartArea, params, stacks)) {\n      fitBoxes(verticalBoxes, chartArea, params, stacks);\n    }\n    handleMaxPadding(chartArea);\n    placeBoxes(boxes.leftAndTop, chartArea, params, stacks);\n    chartArea.x += chartArea.w;\n    chartArea.y += chartArea.h;\n    placeBoxes(boxes.rightAndBottom, chartArea, params, stacks);\n    chart.chartArea = {\n      left: chartArea.left,\n      top: chartArea.top,\n      right: chartArea.left + chartArea.w,\n      bottom: chartArea.top + chartArea.h,\n      height: chartArea.h,\n      width: chartArea.w,\n    };\n    each(boxes.chartArea, (layout) => {\n      const box = layout.box;\n      Object.assign(box, chart.chartArea);\n      box.update(chartArea.w, chartArea.h, {left: 0, top: 0, right: 0, bottom: 0});\n    });\n  }\n};\n\nclass BasePlatform {\n  acquireContext(canvas, aspectRatio) {}\n  releaseContext(context) {\n    return false;\n  }\n  addEventListener(chart, type, listener) {}\n  removeEventListener(chart, type, listener) {}\n  getDevicePixelRatio() {\n    return 1;\n  }\n  getMaximumSize(element, width, height, aspectRatio) {\n    width = Math.max(0, width || element.width);\n    height = height || element.height;\n    return {\n      width,\n      height: Math.max(0, aspectRatio ? Math.floor(width / aspectRatio) : height)\n    };\n  }\n  isAttached(canvas) {\n    return true;\n  }\n  updateConfig(config) {\n  }\n}\n\nclass BasicPlatform extends BasePlatform {\n  acquireContext(item) {\n    return item && item.getContext && item.getContext('2d') || null;\n  }\n  updateConfig(config) {\n    config.options.animation = false;\n  }\n}\n\nconst EXPANDO_KEY = '$chartjs';\nconst EVENT_TYPES = {\n  touchstart: 'mousedown',\n  touchmove: 'mousemove',\n  touchend: 'mouseup',\n  pointerenter: 'mouseenter',\n  pointerdown: 'mousedown',\n  pointermove: 'mousemove',\n  pointerup: 'mouseup',\n  pointerleave: 'mouseout',\n  pointerout: 'mouseout'\n};\nconst isNullOrEmpty = value => value === null || value === '';\nfunction initCanvas(canvas, aspectRatio) {\n  const style = canvas.style;\n  const renderHeight = canvas.getAttribute('height');\n  const renderWidth = canvas.getAttribute('width');\n  canvas[EXPANDO_KEY] = {\n    initial: {\n      height: renderHeight,\n      width: renderWidth,\n      style: {\n        display: style.display,\n        height: style.height,\n        width: style.width\n      }\n    }\n  };\n  style.display = style.display || 'block';\n  style.boxSizing = style.boxSizing || 'border-box';\n  if (isNullOrEmpty(renderWidth)) {\n    const displayWidth = readUsedSize(canvas, 'width');\n    if (displayWidth !== undefined) {\n      canvas.width = displayWidth;\n    }\n  }\n  if (isNullOrEmpty(renderHeight)) {\n    if (canvas.style.height === '') {\n      canvas.height = canvas.width / (aspectRatio || 2);\n    } else {\n      const displayHeight = readUsedSize(canvas, 'height');\n      if (displayHeight !== undefined) {\n        canvas.height = displayHeight;\n      }\n    }\n  }\n  return canvas;\n}\nconst eventListenerOptions = supportsEventListenerOptions ? {passive: true} : false;\nfunction addListener(node, type, listener) {\n  node.addEventListener(type, listener, eventListenerOptions);\n}\nfunction removeListener(chart, type, listener) {\n  chart.canvas.removeEventListener(type, listener, eventListenerOptions);\n}\nfunction fromNativeEvent(event, chart) {\n  const type = EVENT_TYPES[event.type] || event.type;\n  const {x, y} = getRelativePosition$1(event, chart);\n  return {\n    type,\n    chart,\n    native: event,\n    x: x !== undefined ? x : null,\n    y: y !== undefined ? y : null,\n  };\n}\nfunction nodeListContains(nodeList, canvas) {\n  for (const node of nodeList) {\n    if (node === canvas || node.contains(canvas)) {\n      return true;\n    }\n  }\n}\nfunction createAttachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.addedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.removedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nfunction createDetachObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const observer = new MutationObserver(entries => {\n    let trigger = false;\n    for (const entry of entries) {\n      trigger = trigger || nodeListContains(entry.removedNodes, canvas);\n      trigger = trigger && !nodeListContains(entry.addedNodes, canvas);\n    }\n    if (trigger) {\n      listener();\n    }\n  });\n  observer.observe(document, {childList: true, subtree: true});\n  return observer;\n}\nconst drpListeningCharts = new Map();\nlet oldDevicePixelRatio = 0;\nfunction onWindowResize() {\n  const dpr = window.devicePixelRatio;\n  if (dpr === oldDevicePixelRatio) {\n    return;\n  }\n  oldDevicePixelRatio = dpr;\n  drpListeningCharts.forEach((resize, chart) => {\n    if (chart.currentDevicePixelRatio !== dpr) {\n      resize();\n    }\n  });\n}\nfunction listenDevicePixelRatioChanges(chart, resize) {\n  if (!drpListeningCharts.size) {\n    window.addEventListener('resize', onWindowResize);\n  }\n  drpListeningCharts.set(chart, resize);\n}\nfunction unlistenDevicePixelRatioChanges(chart) {\n  drpListeningCharts.delete(chart);\n  if (!drpListeningCharts.size) {\n    window.removeEventListener('resize', onWindowResize);\n  }\n}\nfunction createResizeObserver(chart, type, listener) {\n  const canvas = chart.canvas;\n  const container = canvas && _getParentNode(canvas);\n  if (!container) {\n    return;\n  }\n  const resize = throttled((width, height) => {\n    const w = container.clientWidth;\n    listener(width, height);\n    if (w < container.clientWidth) {\n      listener();\n    }\n  }, window);\n  const observer = new ResizeObserver(entries => {\n    const entry = entries[0];\n    const width = entry.contentRect.width;\n    const height = entry.contentRect.height;\n    if (width === 0 && height === 0) {\n      return;\n    }\n    resize(width, height);\n  });\n  observer.observe(container);\n  listenDevicePixelRatioChanges(chart, resize);\n  return observer;\n}\nfunction releaseObserver(chart, type, observer) {\n  if (observer) {\n    observer.disconnect();\n  }\n  if (type === 'resize') {\n    unlistenDevicePixelRatioChanges(chart);\n  }\n}\nfunction createProxyAndListen(chart, type, listener) {\n  const canvas = chart.canvas;\n  const proxy = throttled((event) => {\n    if (chart.ctx !== null) {\n      listener(fromNativeEvent(event, chart));\n    }\n  }, chart, (args) => {\n    const event = args[0];\n    return [event, event.offsetX, event.offsetY];\n  });\n  addListener(canvas, type, proxy);\n  return proxy;\n}\nclass DomPlatform extends BasePlatform {\n  acquireContext(canvas, aspectRatio) {\n    const context = canvas && canvas.getContext && canvas.getContext('2d');\n    if (context && context.canvas === canvas) {\n      initCanvas(canvas, aspectRatio);\n      return context;\n    }\n    return null;\n  }\n  releaseContext(context) {\n    const canvas = context.canvas;\n    if (!canvas[EXPANDO_KEY]) {\n      return false;\n    }\n    const initial = canvas[EXPANDO_KEY].initial;\n    ['height', 'width'].forEach((prop) => {\n      const value = initial[prop];\n      if (isNullOrUndef(value)) {\n        canvas.removeAttribute(prop);\n      } else {\n        canvas.setAttribute(prop, value);\n      }\n    });\n    const style = initial.style || {};\n    Object.keys(style).forEach((key) => {\n      canvas.style[key] = style[key];\n    });\n    canvas.width = canvas.width;\n    delete canvas[EXPANDO_KEY];\n    return true;\n  }\n  addEventListener(chart, type, listener) {\n    this.removeEventListener(chart, type);\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const handlers = {\n      attach: createAttachObserver,\n      detach: createDetachObserver,\n      resize: createResizeObserver\n    };\n    const handler = handlers[type] || createProxyAndListen;\n    proxies[type] = handler(chart, type, listener);\n  }\n  removeEventListener(chart, type) {\n    const proxies = chart.$proxies || (chart.$proxies = {});\n    const proxy = proxies[type];\n    if (!proxy) {\n      return;\n    }\n    const handlers = {\n      attach: releaseObserver,\n      detach: releaseObserver,\n      resize: releaseObserver\n    };\n    const handler = handlers[type] || removeListener;\n    handler(chart, type, proxy);\n    proxies[type] = undefined;\n  }\n  getDevicePixelRatio() {\n    return window.devicePixelRatio;\n  }\n  getMaximumSize(canvas, width, height, aspectRatio) {\n    return getMaximumSize(canvas, width, height, aspectRatio);\n  }\n  isAttached(canvas) {\n    const container = _getParentNode(canvas);\n    return !!(container && container.isConnected);\n  }\n}\n\nfunction _detectPlatform(canvas) {\n  if (!_isDomSupported() || (typeof OffscreenCanvas !== 'undefined' && canvas instanceof OffscreenCanvas)) {\n    return BasicPlatform;\n  }\n  return DomPlatform;\n}\n\nclass Element {\n  constructor() {\n    this.x = undefined;\n    this.y = undefined;\n    this.active = false;\n    this.options = undefined;\n    this.$animations = undefined;\n  }\n  tooltipPosition(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  hasValue() {\n    return isNumber(this.x) && isNumber(this.y);\n  }\n  getProps(props, final) {\n    const anims = this.$animations;\n    if (!final || !anims) {\n      return this;\n    }\n    const ret = {};\n    props.forEach(prop => {\n      ret[prop] = anims[prop] && anims[prop].active() ? anims[prop]._to : this[prop];\n    });\n    return ret;\n  }\n}\nElement.defaults = {};\nElement.defaultRoutes = undefined;\n\nconst formatters = {\n  values(value) {\n    return isArray(value) ? value : '' + value;\n  },\n  numeric(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const locale = this.chart.options.locale;\n    let notation;\n    let delta = tickValue;\n    if (ticks.length > 1) {\n      const maxTick = Math.max(Math.abs(ticks[0].value), Math.abs(ticks[ticks.length - 1].value));\n      if (maxTick < 1e-4 || maxTick > 1e+15) {\n        notation = 'scientific';\n      }\n      delta = calculateDelta(tickValue, ticks);\n    }\n    const logDelta = log10(Math.abs(delta));\n    const numDecimal = Math.max(Math.min(-1 * Math.floor(logDelta), 20), 0);\n    const options = {notation, minimumFractionDigits: numDecimal, maximumFractionDigits: numDecimal};\n    Object.assign(options, this.options.ticks.format);\n    return formatNumber(tickValue, locale, options);\n  },\n  logarithmic(tickValue, index, ticks) {\n    if (tickValue === 0) {\n      return '0';\n    }\n    const remain = tickValue / (Math.pow(10, Math.floor(log10(tickValue))));\n    if (remain === 1 || remain === 2 || remain === 5) {\n      return formatters.numeric.call(this, tickValue, index, ticks);\n    }\n    return '';\n  }\n};\nfunction calculateDelta(tickValue, ticks) {\n  let delta = ticks.length > 3 ? ticks[2].value - ticks[1].value : ticks[1].value - ticks[0].value;\n  if (Math.abs(delta) >= 1 && tickValue !== Math.floor(tickValue)) {\n    delta = tickValue - Math.floor(tickValue);\n  }\n  return delta;\n}\nvar Ticks = {formatters};\n\ndefaults.set('scale', {\n  display: true,\n  offset: false,\n  reverse: false,\n  beginAtZero: false,\n  bounds: 'ticks',\n  grace: 0,\n  grid: {\n    display: true,\n    lineWidth: 1,\n    drawBorder: true,\n    drawOnChartArea: true,\n    drawTicks: true,\n    tickLength: 8,\n    tickWidth: (_ctx, options) => options.lineWidth,\n    tickColor: (_ctx, options) => options.color,\n    offset: false,\n    borderDash: [],\n    borderDashOffset: 0.0,\n    borderWidth: 1\n  },\n  title: {\n    display: false,\n    text: '',\n    padding: {\n      top: 4,\n      bottom: 4\n    }\n  },\n  ticks: {\n    minRotation: 0,\n    maxRotation: 50,\n    mirror: false,\n    textStrokeWidth: 0,\n    textStrokeColor: '',\n    padding: 3,\n    display: true,\n    autoSkip: true,\n    autoSkipPadding: 3,\n    labelOffset: 0,\n    callback: Ticks.formatters.values,\n    minor: {},\n    major: {},\n    align: 'center',\n    crossAlign: 'near',\n    showLabelBackdrop: false,\n    backdropColor: 'rgba(255, 255, 255, 0.75)',\n    backdropPadding: 2,\n  }\n});\ndefaults.route('scale.ticks', 'color', '', 'color');\ndefaults.route('scale.grid', 'color', '', 'borderColor');\ndefaults.route('scale.grid', 'borderColor', '', 'borderColor');\ndefaults.route('scale.title', 'color', '', 'color');\ndefaults.describe('scale', {\n  _fallback: false,\n  _scriptable: (name) => !name.startsWith('before') && !name.startsWith('after') && name !== 'callback' && name !== 'parser',\n  _indexable: (name) => name !== 'borderDash' && name !== 'tickBorderDash',\n});\ndefaults.describe('scales', {\n  _fallback: 'scale',\n});\ndefaults.describe('scale.ticks', {\n  _scriptable: (name) => name !== 'backdropPadding' && name !== 'callback',\n  _indexable: (name) => name !== 'backdropPadding',\n});\n\nfunction autoSkip(scale, ticks) {\n  const tickOpts = scale.options.ticks;\n  const ticksLimit = tickOpts.maxTicksLimit || determineMaxTicks(scale);\n  const majorIndices = tickOpts.major.enabled ? getMajorIndices(ticks) : [];\n  const numMajorIndices = majorIndices.length;\n  const first = majorIndices[0];\n  const last = majorIndices[numMajorIndices - 1];\n  const newTicks = [];\n  if (numMajorIndices > ticksLimit) {\n    skipMajors(ticks, newTicks, majorIndices, numMajorIndices / ticksLimit);\n    return newTicks;\n  }\n  const spacing = calculateSpacing(majorIndices, ticks, ticksLimit);\n  if (numMajorIndices > 0) {\n    let i, ilen;\n    const avgMajorSpacing = numMajorIndices > 1 ? Math.round((last - first) / (numMajorIndices - 1)) : null;\n    skip(ticks, newTicks, spacing, isNullOrUndef(avgMajorSpacing) ? 0 : first - avgMajorSpacing, first);\n    for (i = 0, ilen = numMajorIndices - 1; i < ilen; i++) {\n      skip(ticks, newTicks, spacing, majorIndices[i], majorIndices[i + 1]);\n    }\n    skip(ticks, newTicks, spacing, last, isNullOrUndef(avgMajorSpacing) ? ticks.length : last + avgMajorSpacing);\n    return newTicks;\n  }\n  skip(ticks, newTicks, spacing);\n  return newTicks;\n}\nfunction determineMaxTicks(scale) {\n  const offset = scale.options.offset;\n  const tickLength = scale._tickSize();\n  const maxScale = scale._length / tickLength + (offset ? 0 : 1);\n  const maxChart = scale._maxLength / tickLength;\n  return Math.floor(Math.min(maxScale, maxChart));\n}\nfunction calculateSpacing(majorIndices, ticks, ticksLimit) {\n  const evenMajorSpacing = getEvenSpacing(majorIndices);\n  const spacing = ticks.length / ticksLimit;\n  if (!evenMajorSpacing) {\n    return Math.max(spacing, 1);\n  }\n  const factors = _factorize(evenMajorSpacing);\n  for (let i = 0, ilen = factors.length - 1; i < ilen; i++) {\n    const factor = factors[i];\n    if (factor > spacing) {\n      return factor;\n    }\n  }\n  return Math.max(spacing, 1);\n}\nfunction getMajorIndices(ticks) {\n  const result = [];\n  let i, ilen;\n  for (i = 0, ilen = ticks.length; i < ilen; i++) {\n    if (ticks[i].major) {\n      result.push(i);\n    }\n  }\n  return result;\n}\nfunction skipMajors(ticks, newTicks, majorIndices, spacing) {\n  let count = 0;\n  let next = majorIndices[0];\n  let i;\n  spacing = Math.ceil(spacing);\n  for (i = 0; i < ticks.length; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = majorIndices[count * spacing];\n    }\n  }\n}\nfunction skip(ticks, newTicks, spacing, majorStart, majorEnd) {\n  const start = valueOrDefault(majorStart, 0);\n  const end = Math.min(valueOrDefault(majorEnd, ticks.length), ticks.length);\n  let count = 0;\n  let length, i, next;\n  spacing = Math.ceil(spacing);\n  if (majorEnd) {\n    length = majorEnd - majorStart;\n    spacing = length / Math.floor(length / spacing);\n  }\n  next = start;\n  while (next < 0) {\n    count++;\n    next = Math.round(start + count * spacing);\n  }\n  for (i = Math.max(start, 0); i < end; i++) {\n    if (i === next) {\n      newTicks.push(ticks[i]);\n      count++;\n      next = Math.round(start + count * spacing);\n    }\n  }\n}\nfunction getEvenSpacing(arr) {\n  const len = arr.length;\n  let i, diff;\n  if (len < 2) {\n    return false;\n  }\n  for (diff = arr[0], i = 1; i < len; ++i) {\n    if (arr[i] - arr[i - 1] !== diff) {\n      return false;\n    }\n  }\n  return diff;\n}\n\nconst reverseAlign = (align) => align === 'left' ? 'right' : align === 'right' ? 'left' : align;\nconst offsetFromEdge = (scale, edge, offset) => edge === 'top' || edge === 'left' ? scale[edge] + offset : scale[edge] - offset;\nfunction sample(arr, numItems) {\n  const result = [];\n  const increment = arr.length / numItems;\n  const len = arr.length;\n  let i = 0;\n  for (; i < len; i += increment) {\n    result.push(arr[Math.floor(i)]);\n  }\n  return result;\n}\nfunction getPixelForGridLine(scale, index, offsetGridLines) {\n  const length = scale.ticks.length;\n  const validIndex = Math.min(index, length - 1);\n  const start = scale._startPixel;\n  const end = scale._endPixel;\n  const epsilon = 1e-6;\n  let lineValue = scale.getPixelForTick(validIndex);\n  let offset;\n  if (offsetGridLines) {\n    if (length === 1) {\n      offset = Math.max(lineValue - start, end - lineValue);\n    } else if (index === 0) {\n      offset = (scale.getPixelForTick(1) - lineValue) / 2;\n    } else {\n      offset = (lineValue - scale.getPixelForTick(validIndex - 1)) / 2;\n    }\n    lineValue += validIndex < index ? offset : -offset;\n    if (lineValue < start - epsilon || lineValue > end + epsilon) {\n      return;\n    }\n  }\n  return lineValue;\n}\nfunction garbageCollect(caches, length) {\n  each(caches, (cache) => {\n    const gc = cache.gc;\n    const gcLen = gc.length / 2;\n    let i;\n    if (gcLen > length) {\n      for (i = 0; i < gcLen; ++i) {\n        delete cache.data[gc[i]];\n      }\n      gc.splice(0, gcLen);\n    }\n  });\n}\nfunction getTickMarkLength(options) {\n  return options.drawTicks ? options.tickLength : 0;\n}\nfunction getTitleHeight(options, fallback) {\n  if (!options.display) {\n    return 0;\n  }\n  const font = toFont(options.font, fallback);\n  const padding = toPadding(options.padding);\n  const lines = isArray(options.text) ? options.text.length : 1;\n  return (lines * font.lineHeight) + padding.height;\n}\nfunction createScaleContext(parent, scale) {\n  return createContext(parent, {\n    scale,\n    type: 'scale'\n  });\n}\nfunction createTickContext(parent, index, tick) {\n  return createContext(parent, {\n    tick,\n    index,\n    type: 'tick'\n  });\n}\nfunction titleAlign(align, position, reverse) {\n  let ret = _toLeftRightCenter(align);\n  if ((reverse && position !== 'right') || (!reverse && position === 'right')) {\n    ret = reverseAlign(ret);\n  }\n  return ret;\n}\nfunction titleArgs(scale, offset, position, align) {\n  const {top, left, bottom, right, chart} = scale;\n  const {chartArea, scales} = chart;\n  let rotation = 0;\n  let maxWidth, titleX, titleY;\n  const height = bottom - top;\n  const width = right - left;\n  if (scale.isHorizontal()) {\n    titleX = _alignStartEnd(align, left, right);\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleY = scales[positionAxisID].getPixelForValue(value) + height - offset;\n    } else if (position === 'center') {\n      titleY = (chartArea.bottom + chartArea.top) / 2 + height - offset;\n    } else {\n      titleY = offsetFromEdge(scale, position, offset);\n    }\n    maxWidth = right - left;\n  } else {\n    if (isObject(position)) {\n      const positionAxisID = Object.keys(position)[0];\n      const value = position[positionAxisID];\n      titleX = scales[positionAxisID].getPixelForValue(value) - width + offset;\n    } else if (position === 'center') {\n      titleX = (chartArea.left + chartArea.right) / 2 - width + offset;\n    } else {\n      titleX = offsetFromEdge(scale, position, offset);\n    }\n    titleY = _alignStartEnd(align, bottom, top);\n    rotation = position === 'left' ? -HALF_PI : HALF_PI;\n  }\n  return {titleX, titleY, maxWidth, rotation};\n}\nclass Scale extends Element {\n  constructor(cfg) {\n    super();\n    this.id = cfg.id;\n    this.type = cfg.type;\n    this.options = undefined;\n    this.ctx = cfg.ctx;\n    this.chart = cfg.chart;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this._margins = {\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    };\n    this.maxWidth = undefined;\n    this.maxHeight = undefined;\n    this.paddingTop = undefined;\n    this.paddingBottom = undefined;\n    this.paddingLeft = undefined;\n    this.paddingRight = undefined;\n    this.axis = undefined;\n    this.labelRotation = undefined;\n    this.min = undefined;\n    this.max = undefined;\n    this._range = undefined;\n    this.ticks = [];\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this._labelSizes = null;\n    this._length = 0;\n    this._maxLength = 0;\n    this._longestTextCache = {};\n    this._startPixel = undefined;\n    this._endPixel = undefined;\n    this._reversePixels = false;\n    this._userMax = undefined;\n    this._userMin = undefined;\n    this._suggestedMax = undefined;\n    this._suggestedMin = undefined;\n    this._ticksLength = 0;\n    this._borderValue = 0;\n    this._cache = {};\n    this._dataLimitsCached = false;\n    this.$context = undefined;\n  }\n  init(options) {\n    this.options = options.setContext(this.getContext());\n    this.axis = options.axis;\n    this._userMin = this.parse(options.min);\n    this._userMax = this.parse(options.max);\n    this._suggestedMin = this.parse(options.suggestedMin);\n    this._suggestedMax = this.parse(options.suggestedMax);\n  }\n  parse(raw, index) {\n    return raw;\n  }\n  getUserBounds() {\n    let {_userMin, _userMax, _suggestedMin, _suggestedMax} = this;\n    _userMin = finiteOrDefault(_userMin, Number.POSITIVE_INFINITY);\n    _userMax = finiteOrDefault(_userMax, Number.NEGATIVE_INFINITY);\n    _suggestedMin = finiteOrDefault(_suggestedMin, Number.POSITIVE_INFINITY);\n    _suggestedMax = finiteOrDefault(_suggestedMax, Number.NEGATIVE_INFINITY);\n    return {\n      min: finiteOrDefault(_userMin, _suggestedMin),\n      max: finiteOrDefault(_userMax, _suggestedMax),\n      minDefined: isNumberFinite(_userMin),\n      maxDefined: isNumberFinite(_userMax)\n    };\n  }\n  getMinMax(canStack) {\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    let range;\n    if (minDefined && maxDefined) {\n      return {min, max};\n    }\n    const metas = this.getMatchingVisibleMetas();\n    for (let i = 0, ilen = metas.length; i < ilen; ++i) {\n      range = metas[i].controller.getMinMax(this, canStack);\n      if (!minDefined) {\n        min = Math.min(min, range.min);\n      }\n      if (!maxDefined) {\n        max = Math.max(max, range.max);\n      }\n    }\n    min = maxDefined && min > max ? max : min;\n    max = minDefined && min > max ? min : max;\n    return {\n      min: finiteOrDefault(min, finiteOrDefault(max, min)),\n      max: finiteOrDefault(max, finiteOrDefault(min, max))\n    };\n  }\n  getPadding() {\n    return {\n      left: this.paddingLeft || 0,\n      top: this.paddingTop || 0,\n      right: this.paddingRight || 0,\n      bottom: this.paddingBottom || 0\n    };\n  }\n  getTicks() {\n    return this.ticks;\n  }\n  getLabels() {\n    const data = this.chart.data;\n    return this.options.labels || (this.isHorizontal() ? data.xLabels : data.yLabels) || data.labels || [];\n  }\n  beforeLayout() {\n    this._cache = {};\n    this._dataLimitsCached = false;\n  }\n  beforeUpdate() {\n    callback(this.options.beforeUpdate, [this]);\n  }\n  update(maxWidth, maxHeight, margins) {\n    const {beginAtZero, grace, ticks: tickOpts} = this.options;\n    const sampleSize = tickOpts.sampleSize;\n    this.beforeUpdate();\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins = Object.assign({\n      left: 0,\n      right: 0,\n      top: 0,\n      bottom: 0\n    }, margins);\n    this.ticks = null;\n    this._labelSizes = null;\n    this._gridLineItems = null;\n    this._labelItems = null;\n    this.beforeSetDimensions();\n    this.setDimensions();\n    this.afterSetDimensions();\n    this._maxLength = this.isHorizontal()\n      ? this.width + margins.left + margins.right\n      : this.height + margins.top + margins.bottom;\n    if (!this._dataLimitsCached) {\n      this.beforeDataLimits();\n      this.determineDataLimits();\n      this.afterDataLimits();\n      this._range = _addGrace(this, grace, beginAtZero);\n      this._dataLimitsCached = true;\n    }\n    this.beforeBuildTicks();\n    this.ticks = this.buildTicks() || [];\n    this.afterBuildTicks();\n    const samplingEnabled = sampleSize < this.ticks.length;\n    this._convertTicksToLabels(samplingEnabled ? sample(this.ticks, sampleSize) : this.ticks);\n    this.configure();\n    this.beforeCalculateLabelRotation();\n    this.calculateLabelRotation();\n    this.afterCalculateLabelRotation();\n    if (tickOpts.display && (tickOpts.autoSkip || tickOpts.source === 'auto')) {\n      this.ticks = autoSkip(this, this.ticks);\n      this._labelSizes = null;\n    }\n    if (samplingEnabled) {\n      this._convertTicksToLabels(this.ticks);\n    }\n    this.beforeFit();\n    this.fit();\n    this.afterFit();\n    this.afterUpdate();\n  }\n  configure() {\n    let reversePixels = this.options.reverse;\n    let startPixel, endPixel;\n    if (this.isHorizontal()) {\n      startPixel = this.left;\n      endPixel = this.right;\n    } else {\n      startPixel = this.top;\n      endPixel = this.bottom;\n      reversePixels = !reversePixels;\n    }\n    this._startPixel = startPixel;\n    this._endPixel = endPixel;\n    this._reversePixels = reversePixels;\n    this._length = endPixel - startPixel;\n    this._alignToPixels = this.options.alignToPixels;\n  }\n  afterUpdate() {\n    callback(this.options.afterUpdate, [this]);\n  }\n  beforeSetDimensions() {\n    callback(this.options.beforeSetDimensions, [this]);\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = 0;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = 0;\n      this.bottom = this.height;\n    }\n    this.paddingLeft = 0;\n    this.paddingTop = 0;\n    this.paddingRight = 0;\n    this.paddingBottom = 0;\n  }\n  afterSetDimensions() {\n    callback(this.options.afterSetDimensions, [this]);\n  }\n  _callHooks(name) {\n    this.chart.notifyPlugins(name, this.getContext());\n    callback(this.options[name], [this]);\n  }\n  beforeDataLimits() {\n    this._callHooks('beforeDataLimits');\n  }\n  determineDataLimits() {}\n  afterDataLimits() {\n    this._callHooks('afterDataLimits');\n  }\n  beforeBuildTicks() {\n    this._callHooks('beforeBuildTicks');\n  }\n  buildTicks() {\n    return [];\n  }\n  afterBuildTicks() {\n    this._callHooks('afterBuildTicks');\n  }\n  beforeTickToLabelConversion() {\n    callback(this.options.beforeTickToLabelConversion, [this]);\n  }\n  generateTickLabels(ticks) {\n    const tickOpts = this.options.ticks;\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      tick = ticks[i];\n      tick.label = callback(tickOpts.callback, [tick.value, i, ticks], this);\n    }\n  }\n  afterTickToLabelConversion() {\n    callback(this.options.afterTickToLabelConversion, [this]);\n  }\n  beforeCalculateLabelRotation() {\n    callback(this.options.beforeCalculateLabelRotation, [this]);\n  }\n  calculateLabelRotation() {\n    const options = this.options;\n    const tickOpts = options.ticks;\n    const numTicks = this.ticks.length;\n    const minRotation = tickOpts.minRotation || 0;\n    const maxRotation = tickOpts.maxRotation;\n    let labelRotation = minRotation;\n    let tickWidth, maxHeight, maxLabelDiagonal;\n    if (!this._isVisible() || !tickOpts.display || minRotation >= maxRotation || numTicks <= 1 || !this.isHorizontal()) {\n      this.labelRotation = minRotation;\n      return;\n    }\n    const labelSizes = this._getLabelSizes();\n    const maxLabelWidth = labelSizes.widest.width;\n    const maxLabelHeight = labelSizes.highest.height;\n    const maxWidth = _limitValue(this.chart.width - maxLabelWidth, 0, this.maxWidth);\n    tickWidth = options.offset ? this.maxWidth / numTicks : maxWidth / (numTicks - 1);\n    if (maxLabelWidth + 6 > tickWidth) {\n      tickWidth = maxWidth / (numTicks - (options.offset ? 0.5 : 1));\n      maxHeight = this.maxHeight - getTickMarkLength(options.grid)\n\t\t\t\t- tickOpts.padding - getTitleHeight(options.title, this.chart.options.font);\n      maxLabelDiagonal = Math.sqrt(maxLabelWidth * maxLabelWidth + maxLabelHeight * maxLabelHeight);\n      labelRotation = toDegrees(Math.min(\n        Math.asin(_limitValue((labelSizes.highest.height + 6) / tickWidth, -1, 1)),\n        Math.asin(_limitValue(maxHeight / maxLabelDiagonal, -1, 1)) - Math.asin(_limitValue(maxLabelHeight / maxLabelDiagonal, -1, 1))\n      ));\n      labelRotation = Math.max(minRotation, Math.min(maxRotation, labelRotation));\n    }\n    this.labelRotation = labelRotation;\n  }\n  afterCalculateLabelRotation() {\n    callback(this.options.afterCalculateLabelRotation, [this]);\n  }\n  beforeFit() {\n    callback(this.options.beforeFit, [this]);\n  }\n  fit() {\n    const minSize = {\n      width: 0,\n      height: 0\n    };\n    const {chart, options: {ticks: tickOpts, title: titleOpts, grid: gridOpts}} = this;\n    const display = this._isVisible();\n    const isHorizontal = this.isHorizontal();\n    if (display) {\n      const titleHeight = getTitleHeight(titleOpts, chart.options.font);\n      if (isHorizontal) {\n        minSize.width = this.maxWidth;\n        minSize.height = getTickMarkLength(gridOpts) + titleHeight;\n      } else {\n        minSize.height = this.maxHeight;\n        minSize.width = getTickMarkLength(gridOpts) + titleHeight;\n      }\n      if (tickOpts.display && this.ticks.length) {\n        const {first, last, widest, highest} = this._getLabelSizes();\n        const tickPadding = tickOpts.padding * 2;\n        const angleRadians = toRadians(this.labelRotation);\n        const cos = Math.cos(angleRadians);\n        const sin = Math.sin(angleRadians);\n        if (isHorizontal) {\n          const labelHeight = tickOpts.mirror ? 0 : sin * widest.width + cos * highest.height;\n          minSize.height = Math.min(this.maxHeight, minSize.height + labelHeight + tickPadding);\n        } else {\n          const labelWidth = tickOpts.mirror ? 0 : cos * widest.width + sin * highest.height;\n          minSize.width = Math.min(this.maxWidth, minSize.width + labelWidth + tickPadding);\n        }\n        this._calculatePadding(first, last, sin, cos);\n      }\n    }\n    this._handleMargins();\n    if (isHorizontal) {\n      this.width = this._length = chart.width - this._margins.left - this._margins.right;\n      this.height = minSize.height;\n    } else {\n      this.width = minSize.width;\n      this.height = this._length = chart.height - this._margins.top - this._margins.bottom;\n    }\n  }\n  _calculatePadding(first, last, sin, cos) {\n    const {ticks: {align, padding}, position} = this.options;\n    const isRotated = this.labelRotation !== 0;\n    const labelsBelowTicks = position !== 'top' && this.axis === 'x';\n    if (this.isHorizontal()) {\n      const offsetLeft = this.getPixelForTick(0) - this.left;\n      const offsetRight = this.right - this.getPixelForTick(this.ticks.length - 1);\n      let paddingLeft = 0;\n      let paddingRight = 0;\n      if (isRotated) {\n        if (labelsBelowTicks) {\n          paddingLeft = cos * first.width;\n          paddingRight = sin * last.height;\n        } else {\n          paddingLeft = sin * first.height;\n          paddingRight = cos * last.width;\n        }\n      } else if (align === 'start') {\n        paddingRight = last.width;\n      } else if (align === 'end') {\n        paddingLeft = first.width;\n      } else {\n        paddingLeft = first.width / 2;\n        paddingRight = last.width / 2;\n      }\n      this.paddingLeft = Math.max((paddingLeft - offsetLeft + padding) * this.width / (this.width - offsetLeft), 0);\n      this.paddingRight = Math.max((paddingRight - offsetRight + padding) * this.width / (this.width - offsetRight), 0);\n    } else {\n      let paddingTop = last.height / 2;\n      let paddingBottom = first.height / 2;\n      if (align === 'start') {\n        paddingTop = 0;\n        paddingBottom = first.height;\n      } else if (align === 'end') {\n        paddingTop = last.height;\n        paddingBottom = 0;\n      }\n      this.paddingTop = paddingTop + padding;\n      this.paddingBottom = paddingBottom + padding;\n    }\n  }\n  _handleMargins() {\n    if (this._margins) {\n      this._margins.left = Math.max(this.paddingLeft, this._margins.left);\n      this._margins.top = Math.max(this.paddingTop, this._margins.top);\n      this._margins.right = Math.max(this.paddingRight, this._margins.right);\n      this._margins.bottom = Math.max(this.paddingBottom, this._margins.bottom);\n    }\n  }\n  afterFit() {\n    callback(this.options.afterFit, [this]);\n  }\n  isHorizontal() {\n    const {axis, position} = this.options;\n    return position === 'top' || position === 'bottom' || axis === 'x';\n  }\n  isFullSize() {\n    return this.options.fullSize;\n  }\n  _convertTicksToLabels(ticks) {\n    this.beforeTickToLabelConversion();\n    this.generateTickLabels(ticks);\n    let i, ilen;\n    for (i = 0, ilen = ticks.length; i < ilen; i++) {\n      if (isNullOrUndef(ticks[i].label)) {\n        ticks.splice(i, 1);\n        ilen--;\n        i--;\n      }\n    }\n    this.afterTickToLabelConversion();\n  }\n  _getLabelSizes() {\n    let labelSizes = this._labelSizes;\n    if (!labelSizes) {\n      const sampleSize = this.options.ticks.sampleSize;\n      let ticks = this.ticks;\n      if (sampleSize < ticks.length) {\n        ticks = sample(ticks, sampleSize);\n      }\n      this._labelSizes = labelSizes = this._computeLabelSizes(ticks, ticks.length);\n    }\n    return labelSizes;\n  }\n  _computeLabelSizes(ticks, length) {\n    const {ctx, _longestTextCache: caches} = this;\n    const widths = [];\n    const heights = [];\n    let widestLabelSize = 0;\n    let highestLabelSize = 0;\n    let i, j, jlen, label, tickFont, fontString, cache, lineHeight, width, height, nestedLabel;\n    for (i = 0; i < length; ++i) {\n      label = ticks[i].label;\n      tickFont = this._resolveTickFontOptions(i);\n      ctx.font = fontString = tickFont.string;\n      cache = caches[fontString] = caches[fontString] || {data: {}, gc: []};\n      lineHeight = tickFont.lineHeight;\n      width = height = 0;\n      if (!isNullOrUndef(label) && !isArray(label)) {\n        width = _measureText(ctx, cache.data, cache.gc, width, label);\n        height = lineHeight;\n      } else if (isArray(label)) {\n        for (j = 0, jlen = label.length; j < jlen; ++j) {\n          nestedLabel = label[j];\n          if (!isNullOrUndef(nestedLabel) && !isArray(nestedLabel)) {\n            width = _measureText(ctx, cache.data, cache.gc, width, nestedLabel);\n            height += lineHeight;\n          }\n        }\n      }\n      widths.push(width);\n      heights.push(height);\n      widestLabelSize = Math.max(width, widestLabelSize);\n      highestLabelSize = Math.max(height, highestLabelSize);\n    }\n    garbageCollect(caches, length);\n    const widest = widths.indexOf(widestLabelSize);\n    const highest = heights.indexOf(highestLabelSize);\n    const valueAt = (idx) => ({width: widths[idx] || 0, height: heights[idx] || 0});\n    return {\n      first: valueAt(0),\n      last: valueAt(length - 1),\n      widest: valueAt(widest),\n      highest: valueAt(highest),\n      widths,\n      heights,\n    };\n  }\n  getLabelForValue(value) {\n    return value;\n  }\n  getPixelForValue(value, index) {\n    return NaN;\n  }\n  getValueForPixel(pixel) {}\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getPixelForDecimal(decimal) {\n    if (this._reversePixels) {\n      decimal = 1 - decimal;\n    }\n    const pixel = this._startPixel + decimal * this._length;\n    return _int16Range(this._alignToPixels ? _alignPixel(this.chart, pixel, 0) : pixel);\n  }\n  getDecimalForPixel(pixel) {\n    const decimal = (pixel - this._startPixel) / this._length;\n    return this._reversePixels ? 1 - decimal : decimal;\n  }\n  getBasePixel() {\n    return this.getPixelForValue(this.getBaseValue());\n  }\n  getBaseValue() {\n    const {min, max} = this;\n    return min < 0 && max < 0 ? max :\n      min > 0 && max > 0 ? min :\n      0;\n  }\n  getContext(index) {\n    const ticks = this.ticks || [];\n    if (index >= 0 && index < ticks.length) {\n      const tick = ticks[index];\n      return tick.$context ||\n\t\t\t\t(tick.$context = createTickContext(this.getContext(), index, tick));\n    }\n    return this.$context ||\n\t\t\t(this.$context = createScaleContext(this.chart.getContext(), this));\n  }\n  _tickSize() {\n    const optionTicks = this.options.ticks;\n    const rot = toRadians(this.labelRotation);\n    const cos = Math.abs(Math.cos(rot));\n    const sin = Math.abs(Math.sin(rot));\n    const labelSizes = this._getLabelSizes();\n    const padding = optionTicks.autoSkipPadding || 0;\n    const w = labelSizes ? labelSizes.widest.width + padding : 0;\n    const h = labelSizes ? labelSizes.highest.height + padding : 0;\n    return this.isHorizontal()\n      ? h * cos > w * sin ? w / cos : h / sin\n      : h * sin < w * cos ? h / cos : w / sin;\n  }\n  _isVisible() {\n    const display = this.options.display;\n    if (display !== 'auto') {\n      return !!display;\n    }\n    return this.getMatchingVisibleMetas().length > 0;\n  }\n  _computeGridLineItems(chartArea) {\n    const axis = this.axis;\n    const chart = this.chart;\n    const options = this.options;\n    const {grid, position} = options;\n    const offset = grid.offset;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const ticksLength = ticks.length + (offset ? 1 : 0);\n    const tl = getTickMarkLength(grid);\n    const items = [];\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = borderOpts.drawBorder ? borderOpts.borderWidth : 0;\n    const axisHalfWidth = axisWidth / 2;\n    const alignBorderValue = function(pixel) {\n      return _alignPixel(chart, pixel, axisWidth);\n    };\n    let borderValue, i, lineValue, alignedLineValue;\n    let tx1, ty1, tx2, ty2, x1, y1, x2, y2;\n    if (position === 'top') {\n      borderValue = alignBorderValue(this.bottom);\n      ty1 = this.bottom - tl;\n      ty2 = borderValue - axisHalfWidth;\n      y1 = alignBorderValue(chartArea.top) + axisHalfWidth;\n      y2 = chartArea.bottom;\n    } else if (position === 'bottom') {\n      borderValue = alignBorderValue(this.top);\n      y1 = chartArea.top;\n      y2 = alignBorderValue(chartArea.bottom) - axisHalfWidth;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = this.top + tl;\n    } else if (position === 'left') {\n      borderValue = alignBorderValue(this.right);\n      tx1 = this.right - tl;\n      tx2 = borderValue - axisHalfWidth;\n      x1 = alignBorderValue(chartArea.left) + axisHalfWidth;\n      x2 = chartArea.right;\n    } else if (position === 'right') {\n      borderValue = alignBorderValue(this.left);\n      x1 = chartArea.left;\n      x2 = alignBorderValue(chartArea.right) - axisHalfWidth;\n      tx1 = borderValue + axisHalfWidth;\n      tx2 = this.left + tl;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.top + chartArea.bottom) / 2 + 0.5);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      y1 = chartArea.top;\n      y2 = chartArea.bottom;\n      ty1 = borderValue + axisHalfWidth;\n      ty2 = ty1 + tl;\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        borderValue = alignBorderValue((chartArea.left + chartArea.right) / 2);\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        borderValue = alignBorderValue(this.chart.scales[positionAxisID].getPixelForValue(value));\n      }\n      tx1 = borderValue - axisHalfWidth;\n      tx2 = tx1 - tl;\n      x1 = chartArea.left;\n      x2 = chartArea.right;\n    }\n    const limit = valueOrDefault(options.ticks.maxTicksLimit, ticksLength);\n    const step = Math.max(1, Math.ceil(ticksLength / limit));\n    for (i = 0; i < ticksLength; i += step) {\n      const optsAtIndex = grid.setContext(this.getContext(i));\n      const lineWidth = optsAtIndex.lineWidth;\n      const lineColor = optsAtIndex.color;\n      const borderDash = grid.borderDash || [];\n      const borderDashOffset = optsAtIndex.borderDashOffset;\n      const tickWidth = optsAtIndex.tickWidth;\n      const tickColor = optsAtIndex.tickColor;\n      const tickBorderDash = optsAtIndex.tickBorderDash || [];\n      const tickBorderDashOffset = optsAtIndex.tickBorderDashOffset;\n      lineValue = getPixelForGridLine(this, i, offset);\n      if (lineValue === undefined) {\n        continue;\n      }\n      alignedLineValue = _alignPixel(chart, lineValue, lineWidth);\n      if (isHorizontal) {\n        tx1 = tx2 = x1 = x2 = alignedLineValue;\n      } else {\n        ty1 = ty2 = y1 = y2 = alignedLineValue;\n      }\n      items.push({\n        tx1,\n        ty1,\n        tx2,\n        ty2,\n        x1,\n        y1,\n        x2,\n        y2,\n        width: lineWidth,\n        color: lineColor,\n        borderDash,\n        borderDashOffset,\n        tickWidth,\n        tickColor,\n        tickBorderDash,\n        tickBorderDashOffset,\n      });\n    }\n    this._ticksLength = ticksLength;\n    this._borderValue = borderValue;\n    return items;\n  }\n  _computeLabelItems(chartArea) {\n    const axis = this.axis;\n    const options = this.options;\n    const {position, ticks: optionTicks} = options;\n    const isHorizontal = this.isHorizontal();\n    const ticks = this.ticks;\n    const {align, crossAlign, padding, mirror} = optionTicks;\n    const tl = getTickMarkLength(options.grid);\n    const tickAndPadding = tl + padding;\n    const hTickAndPadding = mirror ? -padding : tickAndPadding;\n    const rotation = -toRadians(this.labelRotation);\n    const items = [];\n    let i, ilen, tick, label, x, y, textAlign, pixel, font, lineHeight, lineCount, textOffset;\n    let textBaseline = 'middle';\n    if (position === 'top') {\n      y = this.bottom - hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'bottom') {\n      y = this.top + hTickAndPadding;\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (position === 'left') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (position === 'right') {\n      const ret = this._getYAxisLabelAlignment(tl);\n      textAlign = ret.textAlign;\n      x = ret.x;\n    } else if (axis === 'x') {\n      if (position === 'center') {\n        y = ((chartArea.top + chartArea.bottom) / 2) + tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        y = this.chart.scales[positionAxisID].getPixelForValue(value) + tickAndPadding;\n      }\n      textAlign = this._getXAxisLabelAlignment();\n    } else if (axis === 'y') {\n      if (position === 'center') {\n        x = ((chartArea.left + chartArea.right) / 2) - tickAndPadding;\n      } else if (isObject(position)) {\n        const positionAxisID = Object.keys(position)[0];\n        const value = position[positionAxisID];\n        x = this.chart.scales[positionAxisID].getPixelForValue(value);\n      }\n      textAlign = this._getYAxisLabelAlignment(tl).textAlign;\n    }\n    if (axis === 'y') {\n      if (align === 'start') {\n        textBaseline = 'top';\n      } else if (align === 'end') {\n        textBaseline = 'bottom';\n      }\n    }\n    const labelSizes = this._getLabelSizes();\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      label = tick.label;\n      const optsAtIndex = optionTicks.setContext(this.getContext(i));\n      pixel = this.getPixelForTick(i) + optionTicks.labelOffset;\n      font = this._resolveTickFontOptions(i);\n      lineHeight = font.lineHeight;\n      lineCount = isArray(label) ? label.length : 1;\n      const halfCount = lineCount / 2;\n      const color = optsAtIndex.color;\n      const strokeColor = optsAtIndex.textStrokeColor;\n      const strokeWidth = optsAtIndex.textStrokeWidth;\n      if (isHorizontal) {\n        x = pixel;\n        if (position === 'top') {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = -lineCount * lineHeight + lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = -labelSizes.highest.height / 2 - halfCount * lineHeight + lineHeight;\n          } else {\n            textOffset = -labelSizes.highest.height + lineHeight / 2;\n          }\n        } else {\n          if (crossAlign === 'near' || rotation !== 0) {\n            textOffset = lineHeight / 2;\n          } else if (crossAlign === 'center') {\n            textOffset = labelSizes.highest.height / 2 - halfCount * lineHeight;\n          } else {\n            textOffset = labelSizes.highest.height - lineCount * lineHeight;\n          }\n        }\n        if (mirror) {\n          textOffset *= -1;\n        }\n      } else {\n        y = pixel;\n        textOffset = (1 - lineCount) * lineHeight / 2;\n      }\n      let backdrop;\n      if (optsAtIndex.showLabelBackdrop) {\n        const labelPadding = toPadding(optsAtIndex.backdropPadding);\n        const height = labelSizes.heights[i];\n        const width = labelSizes.widths[i];\n        let top = y + textOffset - labelPadding.top;\n        let left = x - labelPadding.left;\n        switch (textBaseline) {\n        case 'middle':\n          top -= height / 2;\n          break;\n        case 'bottom':\n          top -= height;\n          break;\n        }\n        switch (textAlign) {\n        case 'center':\n          left -= width / 2;\n          break;\n        case 'right':\n          left -= width;\n          break;\n        }\n        backdrop = {\n          left,\n          top,\n          width: width + labelPadding.width,\n          height: height + labelPadding.height,\n          color: optsAtIndex.backdropColor,\n        };\n      }\n      items.push({\n        rotation,\n        label,\n        font,\n        color,\n        strokeColor,\n        strokeWidth,\n        textOffset,\n        textAlign,\n        textBaseline,\n        translation: [x, y],\n        backdrop,\n      });\n    }\n    return items;\n  }\n  _getXAxisLabelAlignment() {\n    const {position, ticks} = this.options;\n    const rotation = -toRadians(this.labelRotation);\n    if (rotation) {\n      return position === 'top' ? 'left' : 'right';\n    }\n    let align = 'center';\n    if (ticks.align === 'start') {\n      align = 'left';\n    } else if (ticks.align === 'end') {\n      align = 'right';\n    }\n    return align;\n  }\n  _getYAxisLabelAlignment(tl) {\n    const {position, ticks: {crossAlign, mirror, padding}} = this.options;\n    const labelSizes = this._getLabelSizes();\n    const tickAndPadding = tl + padding;\n    const widest = labelSizes.widest.width;\n    let textAlign;\n    let x;\n    if (position === 'left') {\n      if (mirror) {\n        x = this.right + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += (widest / 2);\n        } else {\n          textAlign = 'right';\n          x += widest;\n        }\n      } else {\n        x = this.right - tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x = this.left;\n        }\n      }\n    } else if (position === 'right') {\n      if (mirror) {\n        x = this.left + padding;\n        if (crossAlign === 'near') {\n          textAlign = 'right';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x -= (widest / 2);\n        } else {\n          textAlign = 'left';\n          x -= widest;\n        }\n      } else {\n        x = this.left + tickAndPadding;\n        if (crossAlign === 'near') {\n          textAlign = 'left';\n        } else if (crossAlign === 'center') {\n          textAlign = 'center';\n          x += widest / 2;\n        } else {\n          textAlign = 'right';\n          x = this.right;\n        }\n      }\n    } else {\n      textAlign = 'right';\n    }\n    return {textAlign, x};\n  }\n  _computeLabelArea() {\n    if (this.options.ticks.mirror) {\n      return;\n    }\n    const chart = this.chart;\n    const position = this.options.position;\n    if (position === 'left' || position === 'right') {\n      return {top: 0, left: this.left, bottom: chart.height, right: this.right};\n    } if (position === 'top' || position === 'bottom') {\n      return {top: this.top, left: 0, bottom: this.bottom, right: chart.width};\n    }\n  }\n  drawBackground() {\n    const {ctx, options: {backgroundColor}, left, top, width, height} = this;\n    if (backgroundColor) {\n      ctx.save();\n      ctx.fillStyle = backgroundColor;\n      ctx.fillRect(left, top, width, height);\n      ctx.restore();\n    }\n  }\n  getLineWidthForValue(value) {\n    const grid = this.options.grid;\n    if (!this._isVisible() || !grid.display) {\n      return 0;\n    }\n    const ticks = this.ticks;\n    const index = ticks.findIndex(t => t.value === value);\n    if (index >= 0) {\n      const opts = grid.setContext(this.getContext(index));\n      return opts.lineWidth;\n    }\n    return 0;\n  }\n  drawGrid(chartArea) {\n    const grid = this.options.grid;\n    const ctx = this.ctx;\n    const items = this._gridLineItems || (this._gridLineItems = this._computeGridLineItems(chartArea));\n    let i, ilen;\n    const drawLine = (p1, p2, style) => {\n      if (!style.width || !style.color) {\n        return;\n      }\n      ctx.save();\n      ctx.lineWidth = style.width;\n      ctx.strokeStyle = style.color;\n      ctx.setLineDash(style.borderDash || []);\n      ctx.lineDashOffset = style.borderDashOffset;\n      ctx.beginPath();\n      ctx.moveTo(p1.x, p1.y);\n      ctx.lineTo(p2.x, p2.y);\n      ctx.stroke();\n      ctx.restore();\n    };\n    if (grid.display) {\n      for (i = 0, ilen = items.length; i < ilen; ++i) {\n        const item = items[i];\n        if (grid.drawOnChartArea) {\n          drawLine(\n            {x: item.x1, y: item.y1},\n            {x: item.x2, y: item.y2},\n            item\n          );\n        }\n        if (grid.drawTicks) {\n          drawLine(\n            {x: item.tx1, y: item.ty1},\n            {x: item.tx2, y: item.ty2},\n            {\n              color: item.tickColor,\n              width: item.tickWidth,\n              borderDash: item.tickBorderDash,\n              borderDashOffset: item.tickBorderDashOffset\n            }\n          );\n        }\n      }\n    }\n  }\n  drawBorder() {\n    const {chart, ctx, options: {grid}} = this;\n    const borderOpts = grid.setContext(this.getContext());\n    const axisWidth = grid.drawBorder ? borderOpts.borderWidth : 0;\n    if (!axisWidth) {\n      return;\n    }\n    const lastLineWidth = grid.setContext(this.getContext(0)).lineWidth;\n    const borderValue = this._borderValue;\n    let x1, x2, y1, y2;\n    if (this.isHorizontal()) {\n      x1 = _alignPixel(chart, this.left, axisWidth) - axisWidth / 2;\n      x2 = _alignPixel(chart, this.right, lastLineWidth) + lastLineWidth / 2;\n      y1 = y2 = borderValue;\n    } else {\n      y1 = _alignPixel(chart, this.top, axisWidth) - axisWidth / 2;\n      y2 = _alignPixel(chart, this.bottom, lastLineWidth) + lastLineWidth / 2;\n      x1 = x2 = borderValue;\n    }\n    ctx.save();\n    ctx.lineWidth = borderOpts.borderWidth;\n    ctx.strokeStyle = borderOpts.borderColor;\n    ctx.beginPath();\n    ctx.moveTo(x1, y1);\n    ctx.lineTo(x2, y2);\n    ctx.stroke();\n    ctx.restore();\n  }\n  drawLabels(chartArea) {\n    const optionTicks = this.options.ticks;\n    if (!optionTicks.display) {\n      return;\n    }\n    const ctx = this.ctx;\n    const area = this._computeLabelArea();\n    if (area) {\n      clipArea(ctx, area);\n    }\n    const items = this._labelItems || (this._labelItems = this._computeLabelItems(chartArea));\n    let i, ilen;\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      const item = items[i];\n      const tickFont = item.font;\n      const label = item.label;\n      if (item.backdrop) {\n        ctx.fillStyle = item.backdrop.color;\n        ctx.fillRect(item.backdrop.left, item.backdrop.top, item.backdrop.width, item.backdrop.height);\n      }\n      let y = item.textOffset;\n      renderText(ctx, label, 0, y, tickFont, item);\n    }\n    if (area) {\n      unclipArea(ctx);\n    }\n  }\n  drawTitle() {\n    const {ctx, options: {position, title, reverse}} = this;\n    if (!title.display) {\n      return;\n    }\n    const font = toFont(title.font);\n    const padding = toPadding(title.padding);\n    const align = title.align;\n    let offset = font.lineHeight / 2;\n    if (position === 'bottom' || position === 'center' || isObject(position)) {\n      offset += padding.bottom;\n      if (isArray(title.text)) {\n        offset += font.lineHeight * (title.text.length - 1);\n      }\n    } else {\n      offset += padding.top;\n    }\n    const {titleX, titleY, maxWidth, rotation} = titleArgs(this, offset, position, align);\n    renderText(ctx, title.text, 0, 0, font, {\n      color: title.color,\n      maxWidth,\n      rotation,\n      textAlign: titleAlign(align, position, reverse),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n  draw(chartArea) {\n    if (!this._isVisible()) {\n      return;\n    }\n    this.drawBackground();\n    this.drawGrid(chartArea);\n    this.drawBorder();\n    this.drawTitle();\n    this.drawLabels(chartArea);\n  }\n  _layers() {\n    const opts = this.options;\n    const tz = opts.ticks && opts.ticks.z || 0;\n    const gz = valueOrDefault(opts.grid && opts.grid.z, -1);\n    if (!this._isVisible() || this.draw !== Scale.prototype.draw) {\n      return [{\n        z: tz,\n        draw: (chartArea) => {\n          this.draw(chartArea);\n        }\n      }];\n    }\n    return [{\n      z: gz,\n      draw: (chartArea) => {\n        this.drawBackground();\n        this.drawGrid(chartArea);\n        this.drawTitle();\n      }\n    }, {\n      z: gz + 1,\n      draw: () => {\n        this.drawBorder();\n      }\n    }, {\n      z: tz,\n      draw: (chartArea) => {\n        this.drawLabels(chartArea);\n      }\n    }];\n  }\n  getMatchingVisibleMetas(type) {\n    const metas = this.chart.getSortedVisibleDatasetMetas();\n    const axisID = this.axis + 'AxisID';\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      const meta = metas[i];\n      if (meta[axisID] === this.id && (!type || meta.type === type)) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  _resolveTickFontOptions(index) {\n    const opts = this.options.ticks.setContext(this.getContext(index));\n    return toFont(opts.font);\n  }\n  _maxDigits() {\n    const fontSize = this._resolveTickFontOptions(0).lineHeight;\n    return (this.isHorizontal() ? this.width : this.height) / fontSize;\n  }\n}\n\nclass TypedRegistry {\n  constructor(type, scope, override) {\n    this.type = type;\n    this.scope = scope;\n    this.override = override;\n    this.items = Object.create(null);\n  }\n  isForType(type) {\n    return Object.prototype.isPrototypeOf.call(this.type.prototype, type.prototype);\n  }\n  register(item) {\n    const proto = Object.getPrototypeOf(item);\n    let parentScope;\n    if (isIChartComponent(proto)) {\n      parentScope = this.register(proto);\n    }\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope + '.' + id;\n    if (!id) {\n      throw new Error('class does not have id: ' + item);\n    }\n    if (id in items) {\n      return scope;\n    }\n    items[id] = item;\n    registerDefaults(item, scope, parentScope);\n    if (this.override) {\n      defaults.override(item.id, item.overrides);\n    }\n    return scope;\n  }\n  get(id) {\n    return this.items[id];\n  }\n  unregister(item) {\n    const items = this.items;\n    const id = item.id;\n    const scope = this.scope;\n    if (id in items) {\n      delete items[id];\n    }\n    if (scope && id in defaults[scope]) {\n      delete defaults[scope][id];\n      if (this.override) {\n        delete overrides[id];\n      }\n    }\n  }\n}\nfunction registerDefaults(item, scope, parentScope) {\n  const itemDefaults = merge(Object.create(null), [\n    parentScope ? defaults.get(parentScope) : {},\n    defaults.get(scope),\n    item.defaults\n  ]);\n  defaults.set(scope, itemDefaults);\n  if (item.defaultRoutes) {\n    routeDefaults(scope, item.defaultRoutes);\n  }\n  if (item.descriptors) {\n    defaults.describe(scope, item.descriptors);\n  }\n}\nfunction routeDefaults(scope, routes) {\n  Object.keys(routes).forEach(property => {\n    const propertyParts = property.split('.');\n    const sourceName = propertyParts.pop();\n    const sourceScope = [scope].concat(propertyParts).join('.');\n    const parts = routes[property].split('.');\n    const targetName = parts.pop();\n    const targetScope = parts.join('.');\n    defaults.route(sourceScope, sourceName, targetScope, targetName);\n  });\n}\nfunction isIChartComponent(proto) {\n  return 'id' in proto && 'defaults' in proto;\n}\n\nclass Registry {\n  constructor() {\n    this.controllers = new TypedRegistry(DatasetController, 'datasets', true);\n    this.elements = new TypedRegistry(Element, 'elements');\n    this.plugins = new TypedRegistry(Object, 'plugins');\n    this.scales = new TypedRegistry(Scale, 'scales');\n    this._typedRegistries = [this.controllers, this.scales, this.elements];\n  }\n  add(...args) {\n    this._each('register', args);\n  }\n  remove(...args) {\n    this._each('unregister', args);\n  }\n  addControllers(...args) {\n    this._each('register', args, this.controllers);\n  }\n  addElements(...args) {\n    this._each('register', args, this.elements);\n  }\n  addPlugins(...args) {\n    this._each('register', args, this.plugins);\n  }\n  addScales(...args) {\n    this._each('register', args, this.scales);\n  }\n  getController(id) {\n    return this._get(id, this.controllers, 'controller');\n  }\n  getElement(id) {\n    return this._get(id, this.elements, 'element');\n  }\n  getPlugin(id) {\n    return this._get(id, this.plugins, 'plugin');\n  }\n  getScale(id) {\n    return this._get(id, this.scales, 'scale');\n  }\n  removeControllers(...args) {\n    this._each('unregister', args, this.controllers);\n  }\n  removeElements(...args) {\n    this._each('unregister', args, this.elements);\n  }\n  removePlugins(...args) {\n    this._each('unregister', args, this.plugins);\n  }\n  removeScales(...args) {\n    this._each('unregister', args, this.scales);\n  }\n  _each(method, args, typedRegistry) {\n    [...args].forEach(arg => {\n      const reg = typedRegistry || this._getRegistryForType(arg);\n      if (typedRegistry || reg.isForType(arg) || (reg === this.plugins && arg.id)) {\n        this._exec(method, reg, arg);\n      } else {\n        each(arg, item => {\n          const itemReg = typedRegistry || this._getRegistryForType(item);\n          this._exec(method, itemReg, item);\n        });\n      }\n    });\n  }\n  _exec(method, registry, component) {\n    const camelMethod = _capitalize(method);\n    callback(component['before' + camelMethod], [], component);\n    registry[method](component);\n    callback(component['after' + camelMethod], [], component);\n  }\n  _getRegistryForType(type) {\n    for (let i = 0; i < this._typedRegistries.length; i++) {\n      const reg = this._typedRegistries[i];\n      if (reg.isForType(type)) {\n        return reg;\n      }\n    }\n    return this.plugins;\n  }\n  _get(id, typedRegistry, type) {\n    const item = typedRegistry.get(id);\n    if (item === undefined) {\n      throw new Error('\"' + id + '\" is not a registered ' + type + '.');\n    }\n    return item;\n  }\n}\nvar registry = new Registry();\n\nclass PluginService {\n  constructor() {\n    this._init = [];\n  }\n  notify(chart, hook, args, filter) {\n    if (hook === 'beforeInit') {\n      this._init = this._createDescriptors(chart, true);\n      this._notify(this._init, chart, 'install');\n    }\n    const descriptors = filter ? this._descriptors(chart).filter(filter) : this._descriptors(chart);\n    const result = this._notify(descriptors, chart, hook, args);\n    if (hook === 'afterDestroy') {\n      this._notify(descriptors, chart, 'stop');\n      this._notify(this._init, chart, 'uninstall');\n    }\n    return result;\n  }\n  _notify(descriptors, chart, hook, args) {\n    args = args || {};\n    for (const descriptor of descriptors) {\n      const plugin = descriptor.plugin;\n      const method = plugin[hook];\n      const params = [chart, args, descriptor.options];\n      if (callback(method, params, plugin) === false && args.cancelable) {\n        return false;\n      }\n    }\n    return true;\n  }\n  invalidate() {\n    if (!isNullOrUndef(this._cache)) {\n      this._oldCache = this._cache;\n      this._cache = undefined;\n    }\n  }\n  _descriptors(chart) {\n    if (this._cache) {\n      return this._cache;\n    }\n    const descriptors = this._cache = this._createDescriptors(chart);\n    this._notifyStateChanges(chart);\n    return descriptors;\n  }\n  _createDescriptors(chart, all) {\n    const config = chart && chart.config;\n    const options = valueOrDefault(config.options && config.options.plugins, {});\n    const plugins = allPlugins(config);\n    return options === false && !all ? [] : createDescriptors(chart, plugins, options, all);\n  }\n  _notifyStateChanges(chart) {\n    const previousDescriptors = this._oldCache || [];\n    const descriptors = this._cache;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.plugin.id === y.plugin.id));\n    this._notify(diff(previousDescriptors, descriptors), chart, 'stop');\n    this._notify(diff(descriptors, previousDescriptors), chart, 'start');\n  }\n}\nfunction allPlugins(config) {\n  const plugins = [];\n  const keys = Object.keys(registry.plugins.items);\n  for (let i = 0; i < keys.length; i++) {\n    plugins.push(registry.getPlugin(keys[i]));\n  }\n  const local = config.plugins || [];\n  for (let i = 0; i < local.length; i++) {\n    const plugin = local[i];\n    if (plugins.indexOf(plugin) === -1) {\n      plugins.push(plugin);\n    }\n  }\n  return plugins;\n}\nfunction getOpts(options, all) {\n  if (!all && options === false) {\n    return null;\n  }\n  if (options === true) {\n    return {};\n  }\n  return options;\n}\nfunction createDescriptors(chart, plugins, options, all) {\n  const result = [];\n  const context = chart.getContext();\n  for (let i = 0; i < plugins.length; i++) {\n    const plugin = plugins[i];\n    const id = plugin.id;\n    const opts = getOpts(options[id], all);\n    if (opts === null) {\n      continue;\n    }\n    result.push({\n      plugin,\n      options: pluginOpts(chart.config, plugin, opts, context)\n    });\n  }\n  return result;\n}\nfunction pluginOpts(config, plugin, opts, context) {\n  const keys = config.pluginScopeKeys(plugin);\n  const scopes = config.getOptionScopes(opts, keys);\n  return config.createResolver(scopes, context, [''], {scriptable: false, indexable: false, allKeys: true});\n}\n\nfunction getIndexAxis(type, options) {\n  const datasetDefaults = defaults.datasets[type] || {};\n  const datasetOptions = (options.datasets || {})[type] || {};\n  return datasetOptions.indexAxis || options.indexAxis || datasetDefaults.indexAxis || 'x';\n}\nfunction getAxisFromDefaultScaleID(id, indexAxis) {\n  let axis = id;\n  if (id === '_index_') {\n    axis = indexAxis;\n  } else if (id === '_value_') {\n    axis = indexAxis === 'x' ? 'y' : 'x';\n  }\n  return axis;\n}\nfunction getDefaultScaleIDFromAxis(axis, indexAxis) {\n  return axis === indexAxis ? '_index_' : '_value_';\n}\nfunction axisFromPosition(position) {\n  if (position === 'top' || position === 'bottom') {\n    return 'x';\n  }\n  if (position === 'left' || position === 'right') {\n    return 'y';\n  }\n}\nfunction determineAxis(id, scaleOptions) {\n  if (id === 'x' || id === 'y') {\n    return id;\n  }\n  return scaleOptions.axis || axisFromPosition(scaleOptions.position) || id.charAt(0).toLowerCase();\n}\nfunction mergeScaleConfig(config, options) {\n  const chartDefaults = overrides[config.type] || {scales: {}};\n  const configScales = options.scales || {};\n  const chartIndexAxis = getIndexAxis(config.type, options);\n  const firstIDs = Object.create(null);\n  const scales = Object.create(null);\n  Object.keys(configScales).forEach(id => {\n    const scaleConf = configScales[id];\n    if (!isObject(scaleConf)) {\n      return console.error(`Invalid scale configuration for scale: ${id}`);\n    }\n    if (scaleConf._proxy) {\n      return console.warn(`Ignoring resolver passed as options for scale: ${id}`);\n    }\n    const axis = determineAxis(id, scaleConf);\n    const defaultId = getDefaultScaleIDFromAxis(axis, chartIndexAxis);\n    const defaultScaleOptions = chartDefaults.scales || {};\n    firstIDs[axis] = firstIDs[axis] || id;\n    scales[id] = mergeIf(Object.create(null), [{axis}, scaleConf, defaultScaleOptions[axis], defaultScaleOptions[defaultId]]);\n  });\n  config.data.datasets.forEach(dataset => {\n    const type = dataset.type || config.type;\n    const indexAxis = dataset.indexAxis || getIndexAxis(type, options);\n    const datasetDefaults = overrides[type] || {};\n    const defaultScaleOptions = datasetDefaults.scales || {};\n    Object.keys(defaultScaleOptions).forEach(defaultID => {\n      const axis = getAxisFromDefaultScaleID(defaultID, indexAxis);\n      const id = dataset[axis + 'AxisID'] || firstIDs[axis] || axis;\n      scales[id] = scales[id] || Object.create(null);\n      mergeIf(scales[id], [{axis}, configScales[id], defaultScaleOptions[defaultID]]);\n    });\n  });\n  Object.keys(scales).forEach(key => {\n    const scale = scales[key];\n    mergeIf(scale, [defaults.scales[scale.type], defaults.scale]);\n  });\n  return scales;\n}\nfunction initOptions(config) {\n  const options = config.options || (config.options = {});\n  options.plugins = valueOrDefault(options.plugins, {});\n  options.scales = mergeScaleConfig(config, options);\n}\nfunction initData(data) {\n  data = data || {};\n  data.datasets = data.datasets || [];\n  data.labels = data.labels || [];\n  return data;\n}\nfunction initConfig(config) {\n  config = config || {};\n  config.data = initData(config.data);\n  initOptions(config);\n  return config;\n}\nconst keyCache = new Map();\nconst keysCached = new Set();\nfunction cachedKeys(cacheKey, generate) {\n  let keys = keyCache.get(cacheKey);\n  if (!keys) {\n    keys = generate();\n    keyCache.set(cacheKey, keys);\n    keysCached.add(keys);\n  }\n  return keys;\n}\nconst addIfFound = (set, obj, key) => {\n  const opts = resolveObjectKey(obj, key);\n  if (opts !== undefined) {\n    set.add(opts);\n  }\n};\nclass Config {\n  constructor(config) {\n    this._config = initConfig(config);\n    this._scopeCache = new Map();\n    this._resolverCache = new Map();\n  }\n  get platform() {\n    return this._config.platform;\n  }\n  get type() {\n    return this._config.type;\n  }\n  set type(type) {\n    this._config.type = type;\n  }\n  get data() {\n    return this._config.data;\n  }\n  set data(data) {\n    this._config.data = initData(data);\n  }\n  get options() {\n    return this._config.options;\n  }\n  set options(options) {\n    this._config.options = options;\n  }\n  get plugins() {\n    return this._config.plugins;\n  }\n  update() {\n    const config = this._config;\n    this.clearCache();\n    initOptions(config);\n  }\n  clearCache() {\n    this._scopeCache.clear();\n    this._resolverCache.clear();\n  }\n  datasetScopeKeys(datasetType) {\n    return cachedKeys(datasetType,\n      () => [[\n        `datasets.${datasetType}`,\n        ''\n      ]]);\n  }\n  datasetAnimationScopeKeys(datasetType, transition) {\n    return cachedKeys(`${datasetType}.transition.${transition}`,\n      () => [\n        [\n          `datasets.${datasetType}.transitions.${transition}`,\n          `transitions.${transition}`,\n        ],\n        [\n          `datasets.${datasetType}`,\n          ''\n        ]\n      ]);\n  }\n  datasetElementScopeKeys(datasetType, elementType) {\n    return cachedKeys(`${datasetType}-${elementType}`,\n      () => [[\n        `datasets.${datasetType}.elements.${elementType}`,\n        `datasets.${datasetType}`,\n        `elements.${elementType}`,\n        ''\n      ]]);\n  }\n  pluginScopeKeys(plugin) {\n    const id = plugin.id;\n    const type = this.type;\n    return cachedKeys(`${type}-plugin-${id}`,\n      () => [[\n        `plugins.${id}`,\n        ...plugin.additionalOptionScopes || [],\n      ]]);\n  }\n  _cachedScopes(mainScope, resetCache) {\n    const _scopeCache = this._scopeCache;\n    let cache = _scopeCache.get(mainScope);\n    if (!cache || resetCache) {\n      cache = new Map();\n      _scopeCache.set(mainScope, cache);\n    }\n    return cache;\n  }\n  getOptionScopes(mainScope, keyLists, resetCache) {\n    const {options, type} = this;\n    const cache = this._cachedScopes(mainScope, resetCache);\n    const cached = cache.get(keyLists);\n    if (cached) {\n      return cached;\n    }\n    const scopes = new Set();\n    keyLists.forEach(keys => {\n      if (mainScope) {\n        scopes.add(mainScope);\n        keys.forEach(key => addIfFound(scopes, mainScope, key));\n      }\n      keys.forEach(key => addIfFound(scopes, options, key));\n      keys.forEach(key => addIfFound(scopes, overrides[type] || {}, key));\n      keys.forEach(key => addIfFound(scopes, defaults, key));\n      keys.forEach(key => addIfFound(scopes, descriptors, key));\n    });\n    const array = Array.from(scopes);\n    if (array.length === 0) {\n      array.push(Object.create(null));\n    }\n    if (keysCached.has(keyLists)) {\n      cache.set(keyLists, array);\n    }\n    return array;\n  }\n  chartOptionScopes() {\n    const {options, type} = this;\n    return [\n      options,\n      overrides[type] || {},\n      defaults.datasets[type] || {},\n      {type},\n      defaults,\n      descriptors\n    ];\n  }\n  resolveNamedOptions(scopes, names, context, prefixes = ['']) {\n    const result = {$shared: true};\n    const {resolver, subPrefixes} = getResolver(this._resolverCache, scopes, prefixes);\n    let options = resolver;\n    if (needContext(resolver, names)) {\n      result.$shared = false;\n      context = isFunction(context) ? context() : context;\n      const subResolver = this.createResolver(scopes, context, subPrefixes);\n      options = _attachContext(resolver, context, subResolver);\n    }\n    for (const prop of names) {\n      result[prop] = options[prop];\n    }\n    return result;\n  }\n  createResolver(scopes, context, prefixes = [''], descriptorDefaults) {\n    const {resolver} = getResolver(this._resolverCache, scopes, prefixes);\n    return isObject(context)\n      ? _attachContext(resolver, context, undefined, descriptorDefaults)\n      : resolver;\n  }\n}\nfunction getResolver(resolverCache, scopes, prefixes) {\n  let cache = resolverCache.get(scopes);\n  if (!cache) {\n    cache = new Map();\n    resolverCache.set(scopes, cache);\n  }\n  const cacheKey = prefixes.join();\n  let cached = cache.get(cacheKey);\n  if (!cached) {\n    const resolver = _createResolver(scopes, prefixes);\n    cached = {\n      resolver,\n      subPrefixes: prefixes.filter(p => !p.toLowerCase().includes('hover'))\n    };\n    cache.set(cacheKey, cached);\n  }\n  return cached;\n}\nconst hasFunction = value => isObject(value)\n  && Object.getOwnPropertyNames(value).reduce((acc, key) => acc || isFunction(value[key]), false);\nfunction needContext(proxy, names) {\n  const {isScriptable, isIndexable} = _descriptors(proxy);\n  for (const prop of names) {\n    const scriptable = isScriptable(prop);\n    const indexable = isIndexable(prop);\n    const value = (indexable || scriptable) && proxy[prop];\n    if ((scriptable && (isFunction(value) || hasFunction(value)))\n      || (indexable && isArray(value))) {\n      return true;\n    }\n  }\n  return false;\n}\n\nvar version = \"3.7.1\";\n\nconst KNOWN_POSITIONS = ['top', 'bottom', 'left', 'right', 'chartArea'];\nfunction positionIsHorizontal(position, axis) {\n  return position === 'top' || position === 'bottom' || (KNOWN_POSITIONS.indexOf(position) === -1 && axis === 'x');\n}\nfunction compare2Level(l1, l2) {\n  return function(a, b) {\n    return a[l1] === b[l1]\n      ? a[l2] - b[l2]\n      : a[l1] - b[l1];\n  };\n}\nfunction onAnimationsComplete(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  chart.notifyPlugins('afterRender');\n  callback(animationOptions && animationOptions.onComplete, [context], chart);\n}\nfunction onAnimationProgress(context) {\n  const chart = context.chart;\n  const animationOptions = chart.options.animation;\n  callback(animationOptions && animationOptions.onProgress, [context], chart);\n}\nfunction getCanvas(item) {\n  if (_isDomSupported() && typeof item === 'string') {\n    item = document.getElementById(item);\n  } else if (item && item.length) {\n    item = item[0];\n  }\n  if (item && item.canvas) {\n    item = item.canvas;\n  }\n  return item;\n}\nconst instances = {};\nconst getChart = (key) => {\n  const canvas = getCanvas(key);\n  return Object.values(instances).filter((c) => c.canvas === canvas).pop();\n};\nfunction moveNumericKeys(obj, start, move) {\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    const intKey = +key;\n    if (intKey >= start) {\n      const value = obj[key];\n      delete obj[key];\n      if (move > 0 || intKey > start) {\n        obj[intKey + move] = value;\n      }\n    }\n  }\n}\nfunction determineLastEvent(e, lastEvent, inChartArea, isClick) {\n  if (!inChartArea || e.type === 'mouseout') {\n    return null;\n  }\n  if (isClick) {\n    return lastEvent;\n  }\n  return e;\n}\nclass Chart {\n  constructor(item, userConfig) {\n    const config = this.config = new Config(userConfig);\n    const initialCanvas = getCanvas(item);\n    const existingChart = getChart(initialCanvas);\n    if (existingChart) {\n      throw new Error(\n        'Canvas is already in use. Chart with ID \\'' + existingChart.id + '\\'' +\n\t\t\t\t' must be destroyed before the canvas can be reused.'\n      );\n    }\n    const options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    this.platform = new (config.platform || _detectPlatform(initialCanvas))();\n    this.platform.updateConfig(config);\n    const context = this.platform.acquireContext(initialCanvas, options.aspectRatio);\n    const canvas = context && context.canvas;\n    const height = canvas && canvas.height;\n    const width = canvas && canvas.width;\n    this.id = uid();\n    this.ctx = context;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this._options = options;\n    this._aspectRatio = this.aspectRatio;\n    this._layers = [];\n    this._metasets = [];\n    this._stacks = undefined;\n    this.boxes = [];\n    this.currentDevicePixelRatio = undefined;\n    this.chartArea = undefined;\n    this._active = [];\n    this._lastEvent = undefined;\n    this._listeners = {};\n    this._responsiveListeners = undefined;\n    this._sortedMetasets = [];\n    this.scales = {};\n    this._plugins = new PluginService();\n    this.$proxies = {};\n    this._hiddenIndices = {};\n    this.attached = false;\n    this._animationsDisabled = undefined;\n    this.$context = undefined;\n    this._doResize = debounce(mode => this.update(mode), options.resizeDelay || 0);\n    this._dataChanges = [];\n    instances[this.id] = this;\n    if (!context || !canvas) {\n      console.error(\"Failed to create chart: can't acquire context from the given item\");\n      return;\n    }\n    animator.listen(this, 'complete', onAnimationsComplete);\n    animator.listen(this, 'progress', onAnimationProgress);\n    this._initialize();\n    if (this.attached) {\n      this.update();\n    }\n  }\n  get aspectRatio() {\n    const {options: {aspectRatio, maintainAspectRatio}, width, height, _aspectRatio} = this;\n    if (!isNullOrUndef(aspectRatio)) {\n      return aspectRatio;\n    }\n    if (maintainAspectRatio && _aspectRatio) {\n      return _aspectRatio;\n    }\n    return height ? width / height : null;\n  }\n  get data() {\n    return this.config.data;\n  }\n  set data(data) {\n    this.config.data = data;\n  }\n  get options() {\n    return this._options;\n  }\n  set options(options) {\n    this.config.options = options;\n  }\n  _initialize() {\n    this.notifyPlugins('beforeInit');\n    if (this.options.responsive) {\n      this.resize();\n    } else {\n      retinaScale(this, this.options.devicePixelRatio);\n    }\n    this.bindEvents();\n    this.notifyPlugins('afterInit');\n    return this;\n  }\n  clear() {\n    clearCanvas(this.canvas, this.ctx);\n    return this;\n  }\n  stop() {\n    animator.stop(this);\n    return this;\n  }\n  resize(width, height) {\n    if (!animator.running(this)) {\n      this._resize(width, height);\n    } else {\n      this._resizeBeforeDraw = {width, height};\n    }\n  }\n  _resize(width, height) {\n    const options = this.options;\n    const canvas = this.canvas;\n    const aspectRatio = options.maintainAspectRatio && this.aspectRatio;\n    const newSize = this.platform.getMaximumSize(canvas, width, height, aspectRatio);\n    const newRatio = options.devicePixelRatio || this.platform.getDevicePixelRatio();\n    const mode = this.width ? 'resize' : 'attach';\n    this.width = newSize.width;\n    this.height = newSize.height;\n    this._aspectRatio = this.aspectRatio;\n    if (!retinaScale(this, newRatio, true)) {\n      return;\n    }\n    this.notifyPlugins('resize', {size: newSize});\n    callback(options.onResize, [this, newSize], this);\n    if (this.attached) {\n      if (this._doResize(mode)) {\n        this.render();\n      }\n    }\n  }\n  ensureScalesHaveIDs() {\n    const options = this.options;\n    const scalesOptions = options.scales || {};\n    each(scalesOptions, (axisOptions, axisID) => {\n      axisOptions.id = axisID;\n    });\n  }\n  buildOrUpdateScales() {\n    const options = this.options;\n    const scaleOpts = options.scales;\n    const scales = this.scales;\n    const updated = Object.keys(scales).reduce((obj, id) => {\n      obj[id] = false;\n      return obj;\n    }, {});\n    let items = [];\n    if (scaleOpts) {\n      items = items.concat(\n        Object.keys(scaleOpts).map((id) => {\n          const scaleOptions = scaleOpts[id];\n          const axis = determineAxis(id, scaleOptions);\n          const isRadial = axis === 'r';\n          const isHorizontal = axis === 'x';\n          return {\n            options: scaleOptions,\n            dposition: isRadial ? 'chartArea' : isHorizontal ? 'bottom' : 'left',\n            dtype: isRadial ? 'radialLinear' : isHorizontal ? 'category' : 'linear'\n          };\n        })\n      );\n    }\n    each(items, (item) => {\n      const scaleOptions = item.options;\n      const id = scaleOptions.id;\n      const axis = determineAxis(id, scaleOptions);\n      const scaleType = valueOrDefault(scaleOptions.type, item.dtype);\n      if (scaleOptions.position === undefined || positionIsHorizontal(scaleOptions.position, axis) !== positionIsHorizontal(item.dposition)) {\n        scaleOptions.position = item.dposition;\n      }\n      updated[id] = true;\n      let scale = null;\n      if (id in scales && scales[id].type === scaleType) {\n        scale = scales[id];\n      } else {\n        const scaleClass = registry.getScale(scaleType);\n        scale = new scaleClass({\n          id,\n          type: scaleType,\n          ctx: this.ctx,\n          chart: this\n        });\n        scales[scale.id] = scale;\n      }\n      scale.init(scaleOptions, options);\n    });\n    each(updated, (hasUpdated, id) => {\n      if (!hasUpdated) {\n        delete scales[id];\n      }\n    });\n    each(scales, (scale) => {\n      layouts.configure(this, scale, scale.options);\n      layouts.addBox(this, scale);\n    });\n  }\n  _updateMetasets() {\n    const metasets = this._metasets;\n    const numData = this.data.datasets.length;\n    const numMeta = metasets.length;\n    metasets.sort((a, b) => a.index - b.index);\n    if (numMeta > numData) {\n      for (let i = numData; i < numMeta; ++i) {\n        this._destroyDatasetMeta(i);\n      }\n      metasets.splice(numData, numMeta - numData);\n    }\n    this._sortedMetasets = metasets.slice(0).sort(compare2Level('order', 'index'));\n  }\n  _removeUnreferencedMetasets() {\n    const {_metasets: metasets, data: {datasets}} = this;\n    if (metasets.length > datasets.length) {\n      delete this._stacks;\n    }\n    metasets.forEach((meta, index) => {\n      if (datasets.filter(x => x === meta._dataset).length === 0) {\n        this._destroyDatasetMeta(index);\n      }\n    });\n  }\n  buildOrUpdateControllers() {\n    const newControllers = [];\n    const datasets = this.data.datasets;\n    let i, ilen;\n    this._removeUnreferencedMetasets();\n    for (i = 0, ilen = datasets.length; i < ilen; i++) {\n      const dataset = datasets[i];\n      let meta = this.getDatasetMeta(i);\n      const type = dataset.type || this.config.type;\n      if (meta.type && meta.type !== type) {\n        this._destroyDatasetMeta(i);\n        meta = this.getDatasetMeta(i);\n      }\n      meta.type = type;\n      meta.indexAxis = dataset.indexAxis || getIndexAxis(type, this.options);\n      meta.order = dataset.order || 0;\n      meta.index = i;\n      meta.label = '' + dataset.label;\n      meta.visible = this.isDatasetVisible(i);\n      if (meta.controller) {\n        meta.controller.updateIndex(i);\n        meta.controller.linkScales();\n      } else {\n        const ControllerClass = registry.getController(type);\n        const {datasetElementType, dataElementType} = defaults.datasets[type];\n        Object.assign(ControllerClass.prototype, {\n          dataElementType: registry.getElement(dataElementType),\n          datasetElementType: datasetElementType && registry.getElement(datasetElementType)\n        });\n        meta.controller = new ControllerClass(this, i);\n        newControllers.push(meta.controller);\n      }\n    }\n    this._updateMetasets();\n    return newControllers;\n  }\n  _resetElements() {\n    each(this.data.datasets, (dataset, datasetIndex) => {\n      this.getDatasetMeta(datasetIndex).controller.reset();\n    }, this);\n  }\n  reset() {\n    this._resetElements();\n    this.notifyPlugins('reset');\n  }\n  update(mode) {\n    const config = this.config;\n    config.update();\n    const options = this._options = config.createResolver(config.chartOptionScopes(), this.getContext());\n    const animsDisabled = this._animationsDisabled = !options.animation;\n    this._updateScales();\n    this._checkEventBindings();\n    this._updateHiddenIndices();\n    this._plugins.invalidate();\n    if (this.notifyPlugins('beforeUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    const newControllers = this.buildOrUpdateControllers();\n    this.notifyPlugins('beforeElementsUpdate');\n    let minPadding = 0;\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; i++) {\n      const {controller} = this.getDatasetMeta(i);\n      const reset = !animsDisabled && newControllers.indexOf(controller) === -1;\n      controller.buildOrUpdateElements(reset);\n      minPadding = Math.max(+controller.getMaxOverflow(), minPadding);\n    }\n    minPadding = this._minPadding = options.layout.autoPadding ? minPadding : 0;\n    this._updateLayout(minPadding);\n    if (!animsDisabled) {\n      each(newControllers, (controller) => {\n        controller.reset();\n      });\n    }\n    this._updateDatasets(mode);\n    this.notifyPlugins('afterUpdate', {mode});\n    this._layers.sort(compare2Level('z', '_idx'));\n    const {_active, _lastEvent} = this;\n    if (_lastEvent) {\n      this._eventHandler(_lastEvent, true);\n    } else if (_active.length) {\n      this._updateHoverStyles(_active, _active, true);\n    }\n    this.render();\n  }\n  _updateScales() {\n    each(this.scales, (scale) => {\n      layouts.removeBox(this, scale);\n    });\n    this.ensureScalesHaveIDs();\n    this.buildOrUpdateScales();\n  }\n  _checkEventBindings() {\n    const options = this.options;\n    const existingEvents = new Set(Object.keys(this._listeners));\n    const newEvents = new Set(options.events);\n    if (!setsEqual(existingEvents, newEvents) || !!this._responsiveListeners !== options.responsive) {\n      this.unbindEvents();\n      this.bindEvents();\n    }\n  }\n  _updateHiddenIndices() {\n    const {_hiddenIndices} = this;\n    const changes = this._getUniformDataChanges() || [];\n    for (const {method, start, count} of changes) {\n      const move = method === '_removeElements' ? -count : count;\n      moveNumericKeys(_hiddenIndices, start, move);\n    }\n  }\n  _getUniformDataChanges() {\n    const _dataChanges = this._dataChanges;\n    if (!_dataChanges || !_dataChanges.length) {\n      return;\n    }\n    this._dataChanges = [];\n    const datasetCount = this.data.datasets.length;\n    const makeSet = (idx) => new Set(\n      _dataChanges\n        .filter(c => c[0] === idx)\n        .map((c, i) => i + ',' + c.splice(1).join(','))\n    );\n    const changeSet = makeSet(0);\n    for (let i = 1; i < datasetCount; i++) {\n      if (!setsEqual(changeSet, makeSet(i))) {\n        return;\n      }\n    }\n    return Array.from(changeSet)\n      .map(c => c.split(','))\n      .map(a => ({method: a[1], start: +a[2], count: +a[3]}));\n  }\n  _updateLayout(minPadding) {\n    if (this.notifyPlugins('beforeLayout', {cancelable: true}) === false) {\n      return;\n    }\n    layouts.update(this, this.width, this.height, minPadding);\n    const area = this.chartArea;\n    const noArea = area.width <= 0 || area.height <= 0;\n    this._layers = [];\n    each(this.boxes, (box) => {\n      if (noArea && box.position === 'chartArea') {\n        return;\n      }\n      if (box.configure) {\n        box.configure();\n      }\n      this._layers.push(...box._layers());\n    }, this);\n    this._layers.forEach((item, index) => {\n      item._idx = index;\n    });\n    this.notifyPlugins('afterLayout');\n  }\n  _updateDatasets(mode) {\n    if (this.notifyPlugins('beforeDatasetsUpdate', {mode, cancelable: true}) === false) {\n      return;\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this.getDatasetMeta(i).controller.configure();\n    }\n    for (let i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._updateDataset(i, isFunction(mode) ? mode({datasetIndex: i}) : mode);\n    }\n    this.notifyPlugins('afterDatasetsUpdate', {mode});\n  }\n  _updateDataset(index, mode) {\n    const meta = this.getDatasetMeta(index);\n    const args = {meta, index, mode, cancelable: true};\n    if (this.notifyPlugins('beforeDatasetUpdate', args) === false) {\n      return;\n    }\n    meta.controller._update(mode);\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetUpdate', args);\n  }\n  render() {\n    if (this.notifyPlugins('beforeRender', {cancelable: true}) === false) {\n      return;\n    }\n    if (animator.has(this)) {\n      if (this.attached && !animator.running(this)) {\n        animator.start(this);\n      }\n    } else {\n      this.draw();\n      onAnimationsComplete({chart: this});\n    }\n  }\n  draw() {\n    let i;\n    if (this._resizeBeforeDraw) {\n      const {width, height} = this._resizeBeforeDraw;\n      this._resize(width, height);\n      this._resizeBeforeDraw = null;\n    }\n    this.clear();\n    if (this.width <= 0 || this.height <= 0) {\n      return;\n    }\n    if (this.notifyPlugins('beforeDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const layers = this._layers;\n    for (i = 0; i < layers.length && layers[i].z <= 0; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this._drawDatasets();\n    for (; i < layers.length; ++i) {\n      layers[i].draw(this.chartArea);\n    }\n    this.notifyPlugins('afterDraw');\n  }\n  _getSortedDatasetMetas(filterVisible) {\n    const metasets = this._sortedMetasets;\n    const result = [];\n    let i, ilen;\n    for (i = 0, ilen = metasets.length; i < ilen; ++i) {\n      const meta = metasets[i];\n      if (!filterVisible || meta.visible) {\n        result.push(meta);\n      }\n    }\n    return result;\n  }\n  getSortedVisibleDatasetMetas() {\n    return this._getSortedDatasetMetas(true);\n  }\n  _drawDatasets() {\n    if (this.notifyPlugins('beforeDatasetsDraw', {cancelable: true}) === false) {\n      return;\n    }\n    const metasets = this.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      this._drawDataset(metasets[i]);\n    }\n    this.notifyPlugins('afterDatasetsDraw');\n  }\n  _drawDataset(meta) {\n    const ctx = this.ctx;\n    const clip = meta._clip;\n    const useClip = !clip.disabled;\n    const area = this.chartArea;\n    const args = {\n      meta,\n      index: meta.index,\n      cancelable: true\n    };\n    if (this.notifyPlugins('beforeDatasetDraw', args) === false) {\n      return;\n    }\n    if (useClip) {\n      clipArea(ctx, {\n        left: clip.left === false ? 0 : area.left - clip.left,\n        right: clip.right === false ? this.width : area.right + clip.right,\n        top: clip.top === false ? 0 : area.top - clip.top,\n        bottom: clip.bottom === false ? this.height : area.bottom + clip.bottom\n      });\n    }\n    meta.controller.draw();\n    if (useClip) {\n      unclipArea(ctx);\n    }\n    args.cancelable = false;\n    this.notifyPlugins('afterDatasetDraw', args);\n  }\n  getElementsAtEventForMode(e, mode, options, useFinalPosition) {\n    const method = Interaction.modes[mode];\n    if (typeof method === 'function') {\n      return method(this, e, options, useFinalPosition);\n    }\n    return [];\n  }\n  getDatasetMeta(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    const metasets = this._metasets;\n    let meta = metasets.filter(x => x && x._dataset === dataset).pop();\n    if (!meta) {\n      meta = {\n        type: null,\n        data: [],\n        dataset: null,\n        controller: null,\n        hidden: null,\n        xAxisID: null,\n        yAxisID: null,\n        order: dataset && dataset.order || 0,\n        index: datasetIndex,\n        _dataset: dataset,\n        _parsed: [],\n        _sorted: false\n      };\n      metasets.push(meta);\n    }\n    return meta;\n  }\n  getContext() {\n    return this.$context || (this.$context = createContext(null, {chart: this, type: 'chart'}));\n  }\n  getVisibleDatasetCount() {\n    return this.getSortedVisibleDatasetMetas().length;\n  }\n  isDatasetVisible(datasetIndex) {\n    const dataset = this.data.datasets[datasetIndex];\n    if (!dataset) {\n      return false;\n    }\n    const meta = this.getDatasetMeta(datasetIndex);\n    return typeof meta.hidden === 'boolean' ? !meta.hidden : !dataset.hidden;\n  }\n  setDatasetVisibility(datasetIndex, visible) {\n    const meta = this.getDatasetMeta(datasetIndex);\n    meta.hidden = !visible;\n  }\n  toggleDataVisibility(index) {\n    this._hiddenIndices[index] = !this._hiddenIndices[index];\n  }\n  getDataVisibility(index) {\n    return !this._hiddenIndices[index];\n  }\n  _updateVisibility(datasetIndex, dataIndex, visible) {\n    const mode = visible ? 'show' : 'hide';\n    const meta = this.getDatasetMeta(datasetIndex);\n    const anims = meta.controller._resolveAnimations(undefined, mode);\n    if (defined(dataIndex)) {\n      meta.data[dataIndex].hidden = !visible;\n      this.update();\n    } else {\n      this.setDatasetVisibility(datasetIndex, visible);\n      anims.update(meta, {visible});\n      this.update((ctx) => ctx.datasetIndex === datasetIndex ? mode : undefined);\n    }\n  }\n  hide(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, false);\n  }\n  show(datasetIndex, dataIndex) {\n    this._updateVisibility(datasetIndex, dataIndex, true);\n  }\n  _destroyDatasetMeta(datasetIndex) {\n    const meta = this._metasets[datasetIndex];\n    if (meta && meta.controller) {\n      meta.controller._destroy();\n    }\n    delete this._metasets[datasetIndex];\n  }\n  _stop() {\n    let i, ilen;\n    this.stop();\n    animator.remove(this);\n    for (i = 0, ilen = this.data.datasets.length; i < ilen; ++i) {\n      this._destroyDatasetMeta(i);\n    }\n  }\n  destroy() {\n    this.notifyPlugins('beforeDestroy');\n    const {canvas, ctx} = this;\n    this._stop();\n    this.config.clearCache();\n    if (canvas) {\n      this.unbindEvents();\n      clearCanvas(canvas, ctx);\n      this.platform.releaseContext(ctx);\n      this.canvas = null;\n      this.ctx = null;\n    }\n    this.notifyPlugins('destroy');\n    delete instances[this.id];\n    this.notifyPlugins('afterDestroy');\n  }\n  toBase64Image(...args) {\n    return this.canvas.toDataURL(...args);\n  }\n  bindEvents() {\n    this.bindUserEvents();\n    if (this.options.responsive) {\n      this.bindResponsiveEvents();\n    } else {\n      this.attached = true;\n    }\n  }\n  bindUserEvents() {\n    const listeners = this._listeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const listener = (e, x, y) => {\n      e.offsetX = x;\n      e.offsetY = y;\n      this._eventHandler(e);\n    };\n    each(this.options.events, (type) => _add(type, listener));\n  }\n  bindResponsiveEvents() {\n    if (!this._responsiveListeners) {\n      this._responsiveListeners = {};\n    }\n    const listeners = this._responsiveListeners;\n    const platform = this.platform;\n    const _add = (type, listener) => {\n      platform.addEventListener(this, type, listener);\n      listeners[type] = listener;\n    };\n    const _remove = (type, listener) => {\n      if (listeners[type]) {\n        platform.removeEventListener(this, type, listener);\n        delete listeners[type];\n      }\n    };\n    const listener = (width, height) => {\n      if (this.canvas) {\n        this.resize(width, height);\n      }\n    };\n    let detached;\n    const attached = () => {\n      _remove('attach', attached);\n      this.attached = true;\n      this.resize();\n      _add('resize', listener);\n      _add('detach', detached);\n    };\n    detached = () => {\n      this.attached = false;\n      _remove('resize', listener);\n      this._stop();\n      this._resize(0, 0);\n      _add('attach', attached);\n    };\n    if (platform.isAttached(this.canvas)) {\n      attached();\n    } else {\n      detached();\n    }\n  }\n  unbindEvents() {\n    each(this._listeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._listeners = {};\n    each(this._responsiveListeners, (listener, type) => {\n      this.platform.removeEventListener(this, type, listener);\n    });\n    this._responsiveListeners = undefined;\n  }\n  updateHoverStyle(items, mode, enabled) {\n    const prefix = enabled ? 'set' : 'remove';\n    let meta, item, i, ilen;\n    if (mode === 'dataset') {\n      meta = this.getDatasetMeta(items[0].datasetIndex);\n      meta.controller['_' + prefix + 'DatasetHoverStyle']();\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      item = items[i];\n      const controller = item && this.getDatasetMeta(item.datasetIndex).controller;\n      if (controller) {\n        controller[prefix + 'HoverStyle'](item.element, item.datasetIndex, item.index);\n      }\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements) {\n    const lastActive = this._active || [];\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('No dataset found at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed) {\n      this._active = active;\n      this._lastEvent = null;\n      this._updateHoverStyles(active, lastActive);\n    }\n  }\n  notifyPlugins(hook, args, filter) {\n    return this._plugins.notify(this, hook, args, filter);\n  }\n  _updateHoverStyles(active, lastActive, replay) {\n    const hoverOptions = this.options.hover;\n    const diff = (a, b) => a.filter(x => !b.some(y => x.datasetIndex === y.datasetIndex && x.index === y.index));\n    const deactivated = diff(lastActive, active);\n    const activated = replay ? active : diff(active, lastActive);\n    if (deactivated.length) {\n      this.updateHoverStyle(deactivated, hoverOptions.mode, false);\n    }\n    if (activated.length && hoverOptions.mode) {\n      this.updateHoverStyle(activated, hoverOptions.mode, true);\n    }\n  }\n  _eventHandler(e, replay) {\n    const args = {\n      event: e,\n      replay,\n      cancelable: true,\n      inChartArea: _isPointInArea(e, this.chartArea, this._minPadding)\n    };\n    const eventFilter = (plugin) => (plugin.options.events || this.options.events).includes(e.native.type);\n    if (this.notifyPlugins('beforeEvent', args, eventFilter) === false) {\n      return;\n    }\n    const changed = this._handleEvent(e, replay, args.inChartArea);\n    args.cancelable = false;\n    this.notifyPlugins('afterEvent', args, eventFilter);\n    if (changed || args.changed) {\n      this.render();\n    }\n    return this;\n  }\n  _handleEvent(e, replay, inChartArea) {\n    const {_active: lastActive = [], options} = this;\n    const useFinalPosition = replay;\n    const active = this._getActiveElements(e, lastActive, inChartArea, useFinalPosition);\n    const isClick = _isClickEvent(e);\n    const lastEvent = determineLastEvent(e, this._lastEvent, inChartArea, isClick);\n    if (inChartArea) {\n      this._lastEvent = null;\n      callback(options.onHover, [e, active, this], this);\n      if (isClick) {\n        callback(options.onClick, [e, active, this], this);\n      }\n    }\n    const changed = !_elementsEqual(active, lastActive);\n    if (changed || replay) {\n      this._active = active;\n      this._updateHoverStyles(active, lastActive, replay);\n    }\n    this._lastEvent = lastEvent;\n    return changed;\n  }\n  _getActiveElements(e, lastActive, inChartArea, useFinalPosition) {\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const hoverOptions = this.options.hover;\n    return this.getElementsAtEventForMode(e, hoverOptions.mode, hoverOptions, useFinalPosition);\n  }\n}\nconst invalidatePlugins = () => each(Chart.instances, (chart) => chart._plugins.invalidate());\nconst enumerable = true;\nObject.defineProperties(Chart, {\n  defaults: {\n    enumerable,\n    value: defaults\n  },\n  instances: {\n    enumerable,\n    value: instances\n  },\n  overrides: {\n    enumerable,\n    value: overrides\n  },\n  registry: {\n    enumerable,\n    value: registry\n  },\n  version: {\n    enumerable,\n    value: version\n  },\n  getChart: {\n    enumerable,\n    value: getChart\n  },\n  register: {\n    enumerable,\n    value: (...items) => {\n      registry.add(...items);\n      invalidatePlugins();\n    }\n  },\n  unregister: {\n    enumerable,\n    value: (...items) => {\n      registry.remove(...items);\n      invalidatePlugins();\n    }\n  }\n});\n\nfunction clipArc(ctx, element, endAngle) {\n  const {startAngle, pixelMargin, x, y, outerRadius, innerRadius} = element;\n  let angleMargin = pixelMargin / outerRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle - angleMargin, endAngle + angleMargin);\n  if (innerRadius > pixelMargin) {\n    angleMargin = pixelMargin / innerRadius;\n    ctx.arc(x, y, innerRadius, endAngle + angleMargin, startAngle - angleMargin, true);\n  } else {\n    ctx.arc(x, y, pixelMargin, endAngle + HALF_PI, startAngle - HALF_PI);\n  }\n  ctx.closePath();\n  ctx.clip();\n}\nfunction toRadiusCorners(value) {\n  return _readValueToProps(value, ['outerStart', 'outerEnd', 'innerStart', 'innerEnd']);\n}\nfunction parseBorderRadius$1(arc, innerRadius, outerRadius, angleDelta) {\n  const o = toRadiusCorners(arc.options.borderRadius);\n  const halfThickness = (outerRadius - innerRadius) / 2;\n  const innerLimit = Math.min(halfThickness, angleDelta * innerRadius / 2);\n  const computeOuterLimit = (val) => {\n    const outerArcLimit = (outerRadius - Math.min(halfThickness, val)) * angleDelta / 2;\n    return _limitValue(val, 0, Math.min(halfThickness, outerArcLimit));\n  };\n  return {\n    outerStart: computeOuterLimit(o.outerStart),\n    outerEnd: computeOuterLimit(o.outerEnd),\n    innerStart: _limitValue(o.innerStart, 0, innerLimit),\n    innerEnd: _limitValue(o.innerEnd, 0, innerLimit),\n  };\n}\nfunction rThetaToXY(r, theta, x, y) {\n  return {\n    x: x + r * Math.cos(theta),\n    y: y + r * Math.sin(theta),\n  };\n}\nfunction pathArc(ctx, element, offset, spacing, end) {\n  const {x, y, startAngle: start, pixelMargin, innerRadius: innerR} = element;\n  const outerRadius = Math.max(element.outerRadius + spacing + offset - pixelMargin, 0);\n  const innerRadius = innerR > 0 ? innerR + spacing + offset + pixelMargin : 0;\n  let spacingOffset = 0;\n  const alpha = end - start;\n  if (spacing) {\n    const noSpacingInnerRadius = innerR > 0 ? innerR - spacing : 0;\n    const noSpacingOuterRadius = outerRadius > 0 ? outerRadius - spacing : 0;\n    const avNogSpacingRadius = (noSpacingInnerRadius + noSpacingOuterRadius) / 2;\n    const adjustedAngle = avNogSpacingRadius !== 0 ? (alpha * avNogSpacingRadius) / (avNogSpacingRadius + spacing) : alpha;\n    spacingOffset = (alpha - adjustedAngle) / 2;\n  }\n  const beta = Math.max(0.001, alpha * outerRadius - offset / PI) / outerRadius;\n  const angleOffset = (alpha - beta) / 2;\n  const startAngle = start + angleOffset + spacingOffset;\n  const endAngle = end - angleOffset - spacingOffset;\n  const {outerStart, outerEnd, innerStart, innerEnd} = parseBorderRadius$1(element, innerRadius, outerRadius, endAngle - startAngle);\n  const outerStartAdjustedRadius = outerRadius - outerStart;\n  const outerEndAdjustedRadius = outerRadius - outerEnd;\n  const outerStartAdjustedAngle = startAngle + outerStart / outerStartAdjustedRadius;\n  const outerEndAdjustedAngle = endAngle - outerEnd / outerEndAdjustedRadius;\n  const innerStartAdjustedRadius = innerRadius + innerStart;\n  const innerEndAdjustedRadius = innerRadius + innerEnd;\n  const innerStartAdjustedAngle = startAngle + innerStart / innerStartAdjustedRadius;\n  const innerEndAdjustedAngle = endAngle - innerEnd / innerEndAdjustedRadius;\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, outerStartAdjustedAngle, outerEndAdjustedAngle);\n  if (outerEnd > 0) {\n    const pCenter = rThetaToXY(outerEndAdjustedRadius, outerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerEnd, outerEndAdjustedAngle, endAngle + HALF_PI);\n  }\n  const p4 = rThetaToXY(innerEndAdjustedRadius, endAngle, x, y);\n  ctx.lineTo(p4.x, p4.y);\n  if (innerEnd > 0) {\n    const pCenter = rThetaToXY(innerEndAdjustedRadius, innerEndAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerEnd, endAngle + HALF_PI, innerEndAdjustedAngle + Math.PI);\n  }\n  ctx.arc(x, y, innerRadius, endAngle - (innerEnd / innerRadius), startAngle + (innerStart / innerRadius), true);\n  if (innerStart > 0) {\n    const pCenter = rThetaToXY(innerStartAdjustedRadius, innerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, innerStart, innerStartAdjustedAngle + Math.PI, startAngle - HALF_PI);\n  }\n  const p8 = rThetaToXY(outerStartAdjustedRadius, startAngle, x, y);\n  ctx.lineTo(p8.x, p8.y);\n  if (outerStart > 0) {\n    const pCenter = rThetaToXY(outerStartAdjustedRadius, outerStartAdjustedAngle, x, y);\n    ctx.arc(pCenter.x, pCenter.y, outerStart, startAngle - HALF_PI, outerStartAdjustedAngle);\n  }\n  ctx.closePath();\n}\nfunction drawArc(ctx, element, offset, spacing) {\n  const {fullCircles, startAngle, circumference} = element;\n  let endAngle = element.endAngle;\n  if (fullCircles) {\n    pathArc(ctx, element, offset, spacing, startAngle + TAU);\n    for (let i = 0; i < fullCircles; ++i) {\n      ctx.fill();\n    }\n    if (!isNaN(circumference)) {\n      endAngle = startAngle + circumference % TAU;\n      if (circumference % TAU === 0) {\n        endAngle += TAU;\n      }\n    }\n  }\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.fill();\n  return endAngle;\n}\nfunction drawFullCircleBorders(ctx, element, inner) {\n  const {x, y, startAngle, pixelMargin, fullCircles} = element;\n  const outerRadius = Math.max(element.outerRadius - pixelMargin, 0);\n  const innerRadius = element.innerRadius + pixelMargin;\n  let i;\n  if (inner) {\n    clipArc(ctx, element, startAngle + TAU);\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, innerRadius, startAngle + TAU, startAngle, true);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n  ctx.beginPath();\n  ctx.arc(x, y, outerRadius, startAngle, startAngle + TAU);\n  for (i = 0; i < fullCircles; ++i) {\n    ctx.stroke();\n  }\n}\nfunction drawBorder(ctx, element, offset, spacing, endAngle) {\n  const {options} = element;\n  const {borderWidth, borderJoinStyle} = options;\n  const inner = options.borderAlign === 'inner';\n  if (!borderWidth) {\n    return;\n  }\n  if (inner) {\n    ctx.lineWidth = borderWidth * 2;\n    ctx.lineJoin = borderJoinStyle || 'round';\n  } else {\n    ctx.lineWidth = borderWidth;\n    ctx.lineJoin = borderJoinStyle || 'bevel';\n  }\n  if (element.fullCircles) {\n    drawFullCircleBorders(ctx, element, inner);\n  }\n  if (inner) {\n    clipArc(ctx, element, endAngle);\n  }\n  pathArc(ctx, element, offset, spacing, endAngle);\n  ctx.stroke();\n}\nclass ArcElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.circumference = undefined;\n    this.startAngle = undefined;\n    this.endAngle = undefined;\n    this.innerRadius = undefined;\n    this.outerRadius = undefined;\n    this.pixelMargin = 0;\n    this.fullCircles = 0;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(chartX, chartY, useFinalPosition) {\n    const point = this.getProps(['x', 'y'], useFinalPosition);\n    const {angle, distance} = getAngleFromPoint(point, {x: chartX, y: chartY});\n    const {startAngle, endAngle, innerRadius, outerRadius, circumference} = this.getProps([\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference'\n    ], useFinalPosition);\n    const rAdjust = this.options.spacing / 2;\n    const _circumference = valueOrDefault(circumference, endAngle - startAngle);\n    const betweenAngles = _circumference >= TAU || _angleBetween(angle, startAngle, endAngle);\n    const withinRadius = _isBetween(distance, innerRadius + rAdjust, outerRadius + rAdjust);\n    return (betweenAngles && withinRadius);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, startAngle, endAngle, innerRadius, outerRadius} = this.getProps([\n      'x',\n      'y',\n      'startAngle',\n      'endAngle',\n      'innerRadius',\n      'outerRadius',\n      'circumference',\n    ], useFinalPosition);\n    const {offset, spacing} = this.options;\n    const halfAngle = (startAngle + endAngle) / 2;\n    const halfRadius = (innerRadius + outerRadius + spacing + offset) / 2;\n    return {\n      x: x + Math.cos(halfAngle) * halfRadius,\n      y: y + Math.sin(halfAngle) * halfRadius\n    };\n  }\n  tooltipPosition(useFinalPosition) {\n    return this.getCenterPoint(useFinalPosition);\n  }\n  draw(ctx) {\n    const {options, circumference} = this;\n    const offset = (options.offset || 0) / 2;\n    const spacing = (options.spacing || 0) / 2;\n    this.pixelMargin = (options.borderAlign === 'inner') ? 0.33 : 0;\n    this.fullCircles = circumference > TAU ? Math.floor(circumference / TAU) : 0;\n    if (circumference === 0 || this.innerRadius < 0 || this.outerRadius < 0) {\n      return;\n    }\n    ctx.save();\n    let radiusOffset = 0;\n    if (offset) {\n      radiusOffset = offset / 2;\n      const halfAngle = (this.startAngle + this.endAngle) / 2;\n      ctx.translate(Math.cos(halfAngle) * radiusOffset, Math.sin(halfAngle) * radiusOffset);\n      if (this.circumference >= PI) {\n        radiusOffset = offset;\n      }\n    }\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    const endAngle = drawArc(ctx, this, radiusOffset, spacing);\n    drawBorder(ctx, this, radiusOffset, spacing, endAngle);\n    ctx.restore();\n  }\n}\nArcElement.id = 'arc';\nArcElement.defaults = {\n  borderAlign: 'center',\n  borderColor: '#fff',\n  borderJoinStyle: undefined,\n  borderRadius: 0,\n  borderWidth: 2,\n  offset: 0,\n  spacing: 0,\n  angle: undefined,\n};\nArcElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor'\n};\n\nfunction setStyle(ctx, options, style = options) {\n  ctx.lineCap = valueOrDefault(style.borderCapStyle, options.borderCapStyle);\n  ctx.setLineDash(valueOrDefault(style.borderDash, options.borderDash));\n  ctx.lineDashOffset = valueOrDefault(style.borderDashOffset, options.borderDashOffset);\n  ctx.lineJoin = valueOrDefault(style.borderJoinStyle, options.borderJoinStyle);\n  ctx.lineWidth = valueOrDefault(style.borderWidth, options.borderWidth);\n  ctx.strokeStyle = valueOrDefault(style.borderColor, options.borderColor);\n}\nfunction lineTo(ctx, previous, target) {\n  ctx.lineTo(target.x, target.y);\n}\nfunction getLineMethod(options) {\n  if (options.stepped) {\n    return _steppedLineTo;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierCurveTo;\n  }\n  return lineTo;\n}\nfunction pathVars(points, segment, params = {}) {\n  const count = points.length;\n  const {start: paramsStart = 0, end: paramsEnd = count - 1} = params;\n  const {start: segmentStart, end: segmentEnd} = segment;\n  const start = Math.max(paramsStart, segmentStart);\n  const end = Math.min(paramsEnd, segmentEnd);\n  const outside = paramsStart < segmentStart && paramsEnd < segmentStart || paramsStart > segmentEnd && paramsEnd > segmentEnd;\n  return {\n    count,\n    start,\n    loop: segment.loop,\n    ilen: end < start && !outside ? count + end - start : end - start\n  };\n}\nfunction pathSegment(ctx, line, segment, params) {\n  const {points, options} = line;\n  const {count, start, loop, ilen} = pathVars(points, segment, params);\n  const lineMethod = getLineMethod(options);\n  let {move = true, reverse} = params || {};\n  let i, point, prev;\n  for (i = 0; i <= ilen; ++i) {\n    point = points[(start + (reverse ? ilen - i : i)) % count];\n    if (point.skip) {\n      continue;\n    } else if (move) {\n      ctx.moveTo(point.x, point.y);\n      move = false;\n    } else {\n      lineMethod(ctx, prev, point, reverse, options.stepped);\n    }\n    prev = point;\n  }\n  if (loop) {\n    point = points[(start + (reverse ? ilen : 0)) % count];\n    lineMethod(ctx, prev, point, reverse, options.stepped);\n  }\n  return !!loop;\n}\nfunction fastPathSegment(ctx, line, segment, params) {\n  const points = line.points;\n  const {count, start, ilen} = pathVars(points, segment, params);\n  const {move = true, reverse} = params || {};\n  let avgX = 0;\n  let countX = 0;\n  let i, point, prevX, minY, maxY, lastY;\n  const pointIndex = (index) => (start + (reverse ? ilen - index : index)) % count;\n  const drawX = () => {\n    if (minY !== maxY) {\n      ctx.lineTo(avgX, maxY);\n      ctx.lineTo(avgX, minY);\n      ctx.lineTo(avgX, lastY);\n    }\n  };\n  if (move) {\n    point = points[pointIndex(0)];\n    ctx.moveTo(point.x, point.y);\n  }\n  for (i = 0; i <= ilen; ++i) {\n    point = points[pointIndex(i)];\n    if (point.skip) {\n      continue;\n    }\n    const x = point.x;\n    const y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n      } else if (y > maxY) {\n        maxY = y;\n      }\n      avgX = (countX * avgX + x) / ++countX;\n    } else {\n      drawX();\n      ctx.lineTo(x, y);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n    }\n    lastY = y;\n  }\n  drawX();\n}\nfunction _getSegmentMethod(line) {\n  const opts = line.options;\n  const borderDash = opts.borderDash && opts.borderDash.length;\n  const useFastPath = !line._decimated && !line._loop && !opts.tension && opts.cubicInterpolationMode !== 'monotone' && !opts.stepped && !borderDash;\n  return useFastPath ? fastPathSegment : pathSegment;\n}\nfunction _getInterpolationMethod(options) {\n  if (options.stepped) {\n    return _steppedInterpolation;\n  }\n  if (options.tension || options.cubicInterpolationMode === 'monotone') {\n    return _bezierInterpolation;\n  }\n  return _pointInLine;\n}\nfunction strokePathWithCache(ctx, line, start, count) {\n  let path = line._path;\n  if (!path) {\n    path = line._path = new Path2D();\n    if (line.path(path, start, count)) {\n      path.closePath();\n    }\n  }\n  setStyle(ctx, line.options);\n  ctx.stroke(path);\n}\nfunction strokePathDirect(ctx, line, start, count) {\n  const {segments, options} = line;\n  const segmentMethod = _getSegmentMethod(line);\n  for (const segment of segments) {\n    setStyle(ctx, options, segment.style);\n    ctx.beginPath();\n    if (segmentMethod(ctx, line, segment, {start, end: start + count - 1})) {\n      ctx.closePath();\n    }\n    ctx.stroke();\n  }\n}\nconst usePath2D = typeof Path2D === 'function';\nfunction draw(ctx, line, start, count) {\n  if (usePath2D && !line.options.segment) {\n    strokePathWithCache(ctx, line, start, count);\n  } else {\n    strokePathDirect(ctx, line, start, count);\n  }\n}\nclass LineElement extends Element {\n  constructor(cfg) {\n    super();\n    this.animated = true;\n    this.options = undefined;\n    this._chart = undefined;\n    this._loop = undefined;\n    this._fullLoop = undefined;\n    this._path = undefined;\n    this._points = undefined;\n    this._segments = undefined;\n    this._decimated = false;\n    this._pointsUpdated = false;\n    this._datasetIndex = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  updateControlPoints(chartArea, indexAxis) {\n    const options = this.options;\n    if ((options.tension || options.cubicInterpolationMode === 'monotone') && !options.stepped && !this._pointsUpdated) {\n      const loop = options.spanGaps ? this._loop : this._fullLoop;\n      _updateBezierControlPoints(this._points, options, chartArea, loop, indexAxis);\n      this._pointsUpdated = true;\n    }\n  }\n  set points(points) {\n    this._points = points;\n    delete this._segments;\n    delete this._path;\n    this._pointsUpdated = false;\n  }\n  get points() {\n    return this._points;\n  }\n  get segments() {\n    return this._segments || (this._segments = _computeSegments(this, this.options.segment));\n  }\n  first() {\n    const segments = this.segments;\n    const points = this.points;\n    return segments.length && points[segments[0].start];\n  }\n  last() {\n    const segments = this.segments;\n    const points = this.points;\n    const count = segments.length;\n    return count && points[segments[count - 1].end];\n  }\n  interpolate(point, property) {\n    const options = this.options;\n    const value = point[property];\n    const points = this.points;\n    const segments = _boundSegments(this, {property, start: value, end: value});\n    if (!segments.length) {\n      return;\n    }\n    const result = [];\n    const _interpolate = _getInterpolationMethod(options);\n    let i, ilen;\n    for (i = 0, ilen = segments.length; i < ilen; ++i) {\n      const {start, end} = segments[i];\n      const p1 = points[start];\n      const p2 = points[end];\n      if (p1 === p2) {\n        result.push(p1);\n        continue;\n      }\n      const t = Math.abs((value - p1[property]) / (p2[property] - p1[property]));\n      const interpolated = _interpolate(p1, p2, t, options.stepped);\n      interpolated[property] = point[property];\n      result.push(interpolated);\n    }\n    return result.length === 1 ? result[0] : result;\n  }\n  pathSegment(ctx, segment, params) {\n    const segmentMethod = _getSegmentMethod(this);\n    return segmentMethod(ctx, this, segment, params);\n  }\n  path(ctx, start, count) {\n    const segments = this.segments;\n    const segmentMethod = _getSegmentMethod(this);\n    let loop = this._loop;\n    start = start || 0;\n    count = count || (this.points.length - start);\n    for (const segment of segments) {\n      loop &= segmentMethod(ctx, this, segment, {start, end: start + count - 1});\n    }\n    return !!loop;\n  }\n  draw(ctx, chartArea, start, count) {\n    const options = this.options || {};\n    const points = this.points || [];\n    if (points.length && options.borderWidth) {\n      ctx.save();\n      draw(ctx, this, start, count);\n      ctx.restore();\n    }\n    if (this.animated) {\n      this._pointsUpdated = false;\n      this._path = undefined;\n    }\n  }\n}\nLineElement.id = 'line';\nLineElement.defaults = {\n  borderCapStyle: 'butt',\n  borderDash: [],\n  borderDashOffset: 0,\n  borderJoinStyle: 'miter',\n  borderWidth: 3,\n  capBezierPoints: true,\n  cubicInterpolationMode: 'default',\n  fill: false,\n  spanGaps: false,\n  stepped: false,\n  tension: 0,\n};\nLineElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\nLineElement.descriptors = {\n  _scriptable: true,\n  _indexable: (name) => name !== 'borderDash' && name !== 'fill',\n};\n\nfunction inRange$1(el, pos, axis, useFinalPosition) {\n  const options = el.options;\n  const {[axis]: value} = el.getProps([axis], useFinalPosition);\n  return (Math.abs(pos - value) < options.radius + options.hitRadius);\n}\nclass PointElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.parsed = undefined;\n    this.skip = undefined;\n    this.stop = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    const options = this.options;\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return ((Math.pow(mouseX - x, 2) + Math.pow(mouseY - y, 2)) < Math.pow(options.hitRadius + options.radius, 2));\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange$1(this, mouseX, 'x', useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange$1(this, mouseY, 'y', useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y} = this.getProps(['x', 'y'], useFinalPosition);\n    return {x, y};\n  }\n  size(options) {\n    options = options || this.options || {};\n    let radius = options.radius || 0;\n    radius = Math.max(radius, radius && options.hoverRadius || 0);\n    const borderWidth = radius && options.borderWidth || 0;\n    return (radius + borderWidth) * 2;\n  }\n  draw(ctx, area) {\n    const options = this.options;\n    if (this.skip || options.radius < 0.1 || !_isPointInArea(this, area, this.size(options) / 2)) {\n      return;\n    }\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.fillStyle = options.backgroundColor;\n    drawPoint(ctx, options, this.x, this.y);\n  }\n  getRange() {\n    const options = this.options || {};\n    return options.radius + options.hitRadius;\n  }\n}\nPointElement.id = 'point';\nPointElement.defaults = {\n  borderWidth: 1,\n  hitRadius: 1,\n  hoverBorderWidth: 1,\n  hoverRadius: 4,\n  pointStyle: 'circle',\n  radius: 3,\n  rotation: 0\n};\nPointElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nfunction getBarBounds(bar, useFinalPosition) {\n  const {x, y, base, width, height} = bar.getProps(['x', 'y', 'base', 'width', 'height'], useFinalPosition);\n  let left, right, top, bottom, half;\n  if (bar.horizontal) {\n    half = height / 2;\n    left = Math.min(x, base);\n    right = Math.max(x, base);\n    top = y - half;\n    bottom = y + half;\n  } else {\n    half = width / 2;\n    left = x - half;\n    right = x + half;\n    top = Math.min(y, base);\n    bottom = Math.max(y, base);\n  }\n  return {left, top, right, bottom};\n}\nfunction skipOrLimit(skip, value, min, max) {\n  return skip ? 0 : _limitValue(value, min, max);\n}\nfunction parseBorderWidth(bar, maxW, maxH) {\n  const value = bar.options.borderWidth;\n  const skip = bar.borderSkipped;\n  const o = toTRBL(value);\n  return {\n    t: skipOrLimit(skip.top, o.top, 0, maxH),\n    r: skipOrLimit(skip.right, o.right, 0, maxW),\n    b: skipOrLimit(skip.bottom, o.bottom, 0, maxH),\n    l: skipOrLimit(skip.left, o.left, 0, maxW)\n  };\n}\nfunction parseBorderRadius(bar, maxW, maxH) {\n  const {enableBorderRadius} = bar.getProps(['enableBorderRadius']);\n  const value = bar.options.borderRadius;\n  const o = toTRBLCorners(value);\n  const maxR = Math.min(maxW, maxH);\n  const skip = bar.borderSkipped;\n  const enableBorder = enableBorderRadius || isObject(value);\n  return {\n    topLeft: skipOrLimit(!enableBorder || skip.top || skip.left, o.topLeft, 0, maxR),\n    topRight: skipOrLimit(!enableBorder || skip.top || skip.right, o.topRight, 0, maxR),\n    bottomLeft: skipOrLimit(!enableBorder || skip.bottom || skip.left, o.bottomLeft, 0, maxR),\n    bottomRight: skipOrLimit(!enableBorder || skip.bottom || skip.right, o.bottomRight, 0, maxR)\n  };\n}\nfunction boundingRects(bar) {\n  const bounds = getBarBounds(bar);\n  const width = bounds.right - bounds.left;\n  const height = bounds.bottom - bounds.top;\n  const border = parseBorderWidth(bar, width / 2, height / 2);\n  const radius = parseBorderRadius(bar, width / 2, height / 2);\n  return {\n    outer: {\n      x: bounds.left,\n      y: bounds.top,\n      w: width,\n      h: height,\n      radius\n    },\n    inner: {\n      x: bounds.left + border.l,\n      y: bounds.top + border.t,\n      w: width - border.l - border.r,\n      h: height - border.t - border.b,\n      radius: {\n        topLeft: Math.max(0, radius.topLeft - Math.max(border.t, border.l)),\n        topRight: Math.max(0, radius.topRight - Math.max(border.t, border.r)),\n        bottomLeft: Math.max(0, radius.bottomLeft - Math.max(border.b, border.l)),\n        bottomRight: Math.max(0, radius.bottomRight - Math.max(border.b, border.r)),\n      }\n    }\n  };\n}\nfunction inRange(bar, x, y, useFinalPosition) {\n  const skipX = x === null;\n  const skipY = y === null;\n  const skipBoth = skipX && skipY;\n  const bounds = bar && !skipBoth && getBarBounds(bar, useFinalPosition);\n  return bounds\n\t\t&& (skipX || _isBetween(x, bounds.left, bounds.right))\n\t\t&& (skipY || _isBetween(y, bounds.top, bounds.bottom));\n}\nfunction hasRadius(radius) {\n  return radius.topLeft || radius.topRight || radius.bottomLeft || radius.bottomRight;\n}\nfunction addNormalRectPath(ctx, rect) {\n  ctx.rect(rect.x, rect.y, rect.w, rect.h);\n}\nfunction inflateRect(rect, amount, refRect = {}) {\n  const x = rect.x !== refRect.x ? -amount : 0;\n  const y = rect.y !== refRect.y ? -amount : 0;\n  const w = (rect.x + rect.w !== refRect.x + refRect.w ? amount : 0) - x;\n  const h = (rect.y + rect.h !== refRect.y + refRect.h ? amount : 0) - y;\n  return {\n    x: rect.x + x,\n    y: rect.y + y,\n    w: rect.w + w,\n    h: rect.h + h,\n    radius: rect.radius\n  };\n}\nclass BarElement extends Element {\n  constructor(cfg) {\n    super();\n    this.options = undefined;\n    this.horizontal = undefined;\n    this.base = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.inflateAmount = undefined;\n    if (cfg) {\n      Object.assign(this, cfg);\n    }\n  }\n  draw(ctx) {\n    const {inflateAmount, options: {borderColor, backgroundColor}} = this;\n    const {inner, outer} = boundingRects(this);\n    const addRectPath = hasRadius(outer.radius) ? addRoundedRectPath : addNormalRectPath;\n    ctx.save();\n    if (outer.w !== inner.w || outer.h !== inner.h) {\n      ctx.beginPath();\n      addRectPath(ctx, inflateRect(outer, inflateAmount, inner));\n      ctx.clip();\n      addRectPath(ctx, inflateRect(inner, -inflateAmount, outer));\n      ctx.fillStyle = borderColor;\n      ctx.fill('evenodd');\n    }\n    ctx.beginPath();\n    addRectPath(ctx, inflateRect(inner, inflateAmount));\n    ctx.fillStyle = backgroundColor;\n    ctx.fill();\n    ctx.restore();\n  }\n  inRange(mouseX, mouseY, useFinalPosition) {\n    return inRange(this, mouseX, mouseY, useFinalPosition);\n  }\n  inXRange(mouseX, useFinalPosition) {\n    return inRange(this, mouseX, null, useFinalPosition);\n  }\n  inYRange(mouseY, useFinalPosition) {\n    return inRange(this, null, mouseY, useFinalPosition);\n  }\n  getCenterPoint(useFinalPosition) {\n    const {x, y, base, horizontal} = this.getProps(['x', 'y', 'base', 'horizontal'], useFinalPosition);\n    return {\n      x: horizontal ? (x + base) / 2 : x,\n      y: horizontal ? y : (y + base) / 2\n    };\n  }\n  getRange(axis) {\n    return axis === 'x' ? this.width / 2 : this.height / 2;\n  }\n}\nBarElement.id = 'bar';\nBarElement.defaults = {\n  borderSkipped: 'start',\n  borderWidth: 0,\n  borderRadius: 0,\n  inflateAmount: 'auto',\n  pointStyle: undefined\n};\nBarElement.defaultRoutes = {\n  backgroundColor: 'backgroundColor',\n  borderColor: 'borderColor'\n};\n\nvar elements = /*#__PURE__*/Object.freeze({\n__proto__: null,\nArcElement: ArcElement,\nLineElement: LineElement,\nPointElement: PointElement,\nBarElement: BarElement\n});\n\nfunction lttbDecimation(data, start, count, availableWidth, options) {\n  const samples = options.samples || availableWidth;\n  if (samples >= count) {\n    return data.slice(start, start + count);\n  }\n  const decimated = [];\n  const bucketWidth = (count - 2) / (samples - 2);\n  let sampledIndex = 0;\n  const endIndex = start + count - 1;\n  let a = start;\n  let i, maxAreaPoint, maxArea, area, nextA;\n  decimated[sampledIndex++] = data[a];\n  for (i = 0; i < samples - 2; i++) {\n    let avgX = 0;\n    let avgY = 0;\n    let j;\n    const avgRangeStart = Math.floor((i + 1) * bucketWidth) + 1 + start;\n    const avgRangeEnd = Math.min(Math.floor((i + 2) * bucketWidth) + 1, count) + start;\n    const avgRangeLength = avgRangeEnd - avgRangeStart;\n    for (j = avgRangeStart; j < avgRangeEnd; j++) {\n      avgX += data[j].x;\n      avgY += data[j].y;\n    }\n    avgX /= avgRangeLength;\n    avgY /= avgRangeLength;\n    const rangeOffs = Math.floor(i * bucketWidth) + 1 + start;\n    const rangeTo = Math.min(Math.floor((i + 1) * bucketWidth) + 1, count) + start;\n    const {x: pointAx, y: pointAy} = data[a];\n    maxArea = area = -1;\n    for (j = rangeOffs; j < rangeTo; j++) {\n      area = 0.5 * Math.abs(\n        (pointAx - avgX) * (data[j].y - pointAy) -\n        (pointAx - data[j].x) * (avgY - pointAy)\n      );\n      if (area > maxArea) {\n        maxArea = area;\n        maxAreaPoint = data[j];\n        nextA = j;\n      }\n    }\n    decimated[sampledIndex++] = maxAreaPoint;\n    a = nextA;\n  }\n  decimated[sampledIndex++] = data[endIndex];\n  return decimated;\n}\nfunction minMaxDecimation(data, start, count, availableWidth) {\n  let avgX = 0;\n  let countX = 0;\n  let i, point, x, y, prevX, minIndex, maxIndex, startIndex, minY, maxY;\n  const decimated = [];\n  const endIndex = start + count - 1;\n  const xMin = data[start].x;\n  const xMax = data[endIndex].x;\n  const dx = xMax - xMin;\n  for (i = start; i < start + count; ++i) {\n    point = data[i];\n    x = (point.x - xMin) / dx * availableWidth;\n    y = point.y;\n    const truncX = x | 0;\n    if (truncX === prevX) {\n      if (y < minY) {\n        minY = y;\n        minIndex = i;\n      } else if (y > maxY) {\n        maxY = y;\n        maxIndex = i;\n      }\n      avgX = (countX * avgX + point.x) / ++countX;\n    } else {\n      const lastIndex = i - 1;\n      if (!isNullOrUndef(minIndex) && !isNullOrUndef(maxIndex)) {\n        const intermediateIndex1 = Math.min(minIndex, maxIndex);\n        const intermediateIndex2 = Math.max(minIndex, maxIndex);\n        if (intermediateIndex1 !== startIndex && intermediateIndex1 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex1],\n            x: avgX,\n          });\n        }\n        if (intermediateIndex2 !== startIndex && intermediateIndex2 !== lastIndex) {\n          decimated.push({\n            ...data[intermediateIndex2],\n            x: avgX\n          });\n        }\n      }\n      if (i > 0 && lastIndex !== startIndex) {\n        decimated.push(data[lastIndex]);\n      }\n      decimated.push(point);\n      prevX = truncX;\n      countX = 0;\n      minY = maxY = y;\n      minIndex = maxIndex = startIndex = i;\n    }\n  }\n  return decimated;\n}\nfunction cleanDecimatedDataset(dataset) {\n  if (dataset._decimated) {\n    const data = dataset._data;\n    delete dataset._decimated;\n    delete dataset._data;\n    Object.defineProperty(dataset, 'data', {value: data});\n  }\n}\nfunction cleanDecimatedData(chart) {\n  chart.data.datasets.forEach((dataset) => {\n    cleanDecimatedDataset(dataset);\n  });\n}\nfunction getStartAndCountOfVisiblePointsSimplified(meta, points) {\n  const pointCount = points.length;\n  let start = 0;\n  let count;\n  const {iScale} = meta;\n  const {min, max, minDefined, maxDefined} = iScale.getUserBounds();\n  if (minDefined) {\n    start = _limitValue(_lookupByKey(points, iScale.axis, min).lo, 0, pointCount - 1);\n  }\n  if (maxDefined) {\n    count = _limitValue(_lookupByKey(points, iScale.axis, max).hi + 1, start, pointCount) - start;\n  } else {\n    count = pointCount - start;\n  }\n  return {start, count};\n}\nvar plugin_decimation = {\n  id: 'decimation',\n  defaults: {\n    algorithm: 'min-max',\n    enabled: false,\n  },\n  beforeElementsUpdate: (chart, args, options) => {\n    if (!options.enabled) {\n      cleanDecimatedData(chart);\n      return;\n    }\n    const availableWidth = chart.width;\n    chart.data.datasets.forEach((dataset, datasetIndex) => {\n      const {_data, indexAxis} = dataset;\n      const meta = chart.getDatasetMeta(datasetIndex);\n      const data = _data || dataset.data;\n      if (resolve([indexAxis, chart.options.indexAxis]) === 'y') {\n        return;\n      }\n      if (meta.type !== 'line') {\n        return;\n      }\n      const xAxis = chart.scales[meta.xAxisID];\n      if (xAxis.type !== 'linear' && xAxis.type !== 'time') {\n        return;\n      }\n      if (chart.options.parsing) {\n        return;\n      }\n      let {start, count} = getStartAndCountOfVisiblePointsSimplified(meta, data);\n      const threshold = options.threshold || 4 * availableWidth;\n      if (count <= threshold) {\n        cleanDecimatedDataset(dataset);\n        return;\n      }\n      if (isNullOrUndef(_data)) {\n        dataset._data = data;\n        delete dataset.data;\n        Object.defineProperty(dataset, 'data', {\n          configurable: true,\n          enumerable: true,\n          get: function() {\n            return this._decimated;\n          },\n          set: function(d) {\n            this._data = d;\n          }\n        });\n      }\n      let decimated;\n      switch (options.algorithm) {\n      case 'lttb':\n        decimated = lttbDecimation(data, start, count, availableWidth, options);\n        break;\n      case 'min-max':\n        decimated = minMaxDecimation(data, start, count, availableWidth);\n        break;\n      default:\n        throw new Error(`Unsupported decimation algorithm '${options.algorithm}'`);\n      }\n      dataset._decimated = decimated;\n    });\n  },\n  destroy(chart) {\n    cleanDecimatedData(chart);\n  }\n};\n\nfunction getLineByIndex(chart, index) {\n  const meta = chart.getDatasetMeta(index);\n  const visible = meta && chart.isDatasetVisible(index);\n  return visible ? meta.dataset : null;\n}\nfunction parseFillOption(line) {\n  const options = line.options;\n  const fillOption = options.fill;\n  let fill = valueOrDefault(fillOption && fillOption.target, fillOption);\n  if (fill === undefined) {\n    fill = !!options.backgroundColor;\n  }\n  if (fill === false || fill === null) {\n    return false;\n  }\n  if (fill === true) {\n    return 'origin';\n  }\n  return fill;\n}\nfunction decodeFill(line, index, count) {\n  const fill = parseFillOption(line);\n  if (isObject(fill)) {\n    return isNaN(fill.value) ? false : fill;\n  }\n  let target = parseFloat(fill);\n  if (isNumberFinite(target) && Math.floor(target) === target) {\n    if (fill[0] === '-' || fill[0] === '+') {\n      target = index + target;\n    }\n    if (target === index || target < 0 || target >= count) {\n      return false;\n    }\n    return target;\n  }\n  return ['origin', 'start', 'end', 'stack', 'shape'].indexOf(fill) >= 0 && fill;\n}\nfunction computeLinearBoundary(source) {\n  const {scale = {}, fill} = source;\n  let target = null;\n  let horizontal;\n  if (fill === 'start') {\n    target = scale.bottom;\n  } else if (fill === 'end') {\n    target = scale.top;\n  } else if (isObject(fill)) {\n    target = scale.getPixelForValue(fill.value);\n  } else if (scale.getBasePixel) {\n    target = scale.getBasePixel();\n  }\n  if (isNumberFinite(target)) {\n    horizontal = scale.isHorizontal();\n    return {\n      x: horizontal ? target : null,\n      y: horizontal ? null : target\n    };\n  }\n  return null;\n}\nclass simpleArc {\n  constructor(opts) {\n    this.x = opts.x;\n    this.y = opts.y;\n    this.radius = opts.radius;\n  }\n  pathSegment(ctx, bounds, opts) {\n    const {x, y, radius} = this;\n    bounds = bounds || {start: 0, end: TAU};\n    ctx.arc(x, y, radius, bounds.end, bounds.start, true);\n    return !opts.bounds;\n  }\n  interpolate(point) {\n    const {x, y, radius} = this;\n    const angle = point.angle;\n    return {\n      x: x + Math.cos(angle) * radius,\n      y: y + Math.sin(angle) * radius,\n      angle\n    };\n  }\n}\nfunction computeCircularBoundary(source) {\n  const {scale, fill} = source;\n  const options = scale.options;\n  const length = scale.getLabels().length;\n  const target = [];\n  const start = options.reverse ? scale.max : scale.min;\n  const end = options.reverse ? scale.min : scale.max;\n  let i, center, value;\n  if (fill === 'start') {\n    value = start;\n  } else if (fill === 'end') {\n    value = end;\n  } else if (isObject(fill)) {\n    value = fill.value;\n  } else {\n    value = scale.getBaseValue();\n  }\n  if (options.grid.circular) {\n    center = scale.getPointPositionForValue(0, start);\n    return new simpleArc({\n      x: center.x,\n      y: center.y,\n      radius: scale.getDistanceFromCenterForValue(value)\n    });\n  }\n  for (i = 0; i < length; ++i) {\n    target.push(scale.getPointPositionForValue(i, value));\n  }\n  return target;\n}\nfunction computeBoundary(source) {\n  const scale = source.scale || {};\n  if (scale.getPointPositionForValue) {\n    return computeCircularBoundary(source);\n  }\n  return computeLinearBoundary(source);\n}\nfunction findSegmentEnd(start, end, points) {\n  for (;end > start; end--) {\n    const point = points[end];\n    if (!isNaN(point.x) && !isNaN(point.y)) {\n      break;\n    }\n  }\n  return end;\n}\nfunction pointsFromSegments(boundary, line) {\n  const {x = null, y = null} = boundary || {};\n  const linePoints = line.points;\n  const points = [];\n  line.segments.forEach(({start, end}) => {\n    end = findSegmentEnd(start, end, linePoints);\n    const first = linePoints[start];\n    const last = linePoints[end];\n    if (y !== null) {\n      points.push({x: first.x, y});\n      points.push({x: last.x, y});\n    } else if (x !== null) {\n      points.push({x, y: first.y});\n      points.push({x, y: last.y});\n    }\n  });\n  return points;\n}\nfunction buildStackLine(source) {\n  const {scale, index, line} = source;\n  const points = [];\n  const segments = line.segments;\n  const sourcePoints = line.points;\n  const linesBelow = getLinesBelow(scale, index);\n  linesBelow.push(createBoundaryLine({x: null, y: scale.bottom}, line));\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    for (let j = segment.start; j <= segment.end; j++) {\n      addPointsBelow(points, sourcePoints[j], linesBelow);\n    }\n  }\n  return new LineElement({points, options: {}});\n}\nfunction getLinesBelow(scale, index) {\n  const below = [];\n  const metas = scale.getMatchingVisibleMetas('line');\n  for (let i = 0; i < metas.length; i++) {\n    const meta = metas[i];\n    if (meta.index === index) {\n      break;\n    }\n    if (!meta.hidden) {\n      below.unshift(meta.dataset);\n    }\n  }\n  return below;\n}\nfunction addPointsBelow(points, sourcePoint, linesBelow) {\n  const postponed = [];\n  for (let j = 0; j < linesBelow.length; j++) {\n    const line = linesBelow[j];\n    const {first, last, point} = findPoint(line, sourcePoint, 'x');\n    if (!point || (first && last)) {\n      continue;\n    }\n    if (first) {\n      postponed.unshift(point);\n    } else {\n      points.push(point);\n      if (!last) {\n        break;\n      }\n    }\n  }\n  points.push(...postponed);\n}\nfunction findPoint(line, sourcePoint, property) {\n  const point = line.interpolate(sourcePoint, property);\n  if (!point) {\n    return {};\n  }\n  const pointValue = point[property];\n  const segments = line.segments;\n  const linePoints = line.points;\n  let first = false;\n  let last = false;\n  for (let i = 0; i < segments.length; i++) {\n    const segment = segments[i];\n    const firstValue = linePoints[segment.start][property];\n    const lastValue = linePoints[segment.end][property];\n    if (_isBetween(pointValue, firstValue, lastValue)) {\n      first = pointValue === firstValue;\n      last = pointValue === lastValue;\n      break;\n    }\n  }\n  return {first, last, point};\n}\nfunction getTarget(source) {\n  const {chart, fill, line} = source;\n  if (isNumberFinite(fill)) {\n    return getLineByIndex(chart, fill);\n  }\n  if (fill === 'stack') {\n    return buildStackLine(source);\n  }\n  if (fill === 'shape') {\n    return true;\n  }\n  const boundary = computeBoundary(source);\n  if (boundary instanceof simpleArc) {\n    return boundary;\n  }\n  return createBoundaryLine(boundary, line);\n}\nfunction createBoundaryLine(boundary, line) {\n  let points = [];\n  let _loop = false;\n  if (isArray(boundary)) {\n    _loop = true;\n    points = boundary;\n  } else {\n    points = pointsFromSegments(boundary, line);\n  }\n  return points.length ? new LineElement({\n    points,\n    options: {tension: 0},\n    _loop,\n    _fullLoop: _loop\n  }) : null;\n}\nfunction resolveTarget(sources, index, propagate) {\n  const source = sources[index];\n  let fill = source.fill;\n  const visited = [index];\n  let target;\n  if (!propagate) {\n    return fill;\n  }\n  while (fill !== false && visited.indexOf(fill) === -1) {\n    if (!isNumberFinite(fill)) {\n      return fill;\n    }\n    target = sources[fill];\n    if (!target) {\n      return false;\n    }\n    if (target.visible) {\n      return fill;\n    }\n    visited.push(fill);\n    fill = target.fill;\n  }\n  return false;\n}\nfunction _clip(ctx, target, clipY) {\n  const {segments, points} = target;\n  let first = true;\n  let lineLoop = false;\n  ctx.beginPath();\n  for (const segment of segments) {\n    const {start, end} = segment;\n    const firstPoint = points[start];\n    const lastPoint = points[findSegmentEnd(start, end, points)];\n    if (first) {\n      ctx.moveTo(firstPoint.x, firstPoint.y);\n      first = false;\n    } else {\n      ctx.lineTo(firstPoint.x, clipY);\n      ctx.lineTo(firstPoint.x, firstPoint.y);\n    }\n    lineLoop = !!target.pathSegment(ctx, segment, {move: lineLoop});\n    if (lineLoop) {\n      ctx.closePath();\n    } else {\n      ctx.lineTo(lastPoint.x, clipY);\n    }\n  }\n  ctx.lineTo(target.first().x, clipY);\n  ctx.closePath();\n  ctx.clip();\n}\nfunction getBounds(property, first, last, loop) {\n  if (loop) {\n    return;\n  }\n  let start = first[property];\n  let end = last[property];\n  if (property === 'angle') {\n    start = _normalizeAngle(start);\n    end = _normalizeAngle(end);\n  }\n  return {property, start, end};\n}\nfunction _getEdge(a, b, prop, fn) {\n  if (a && b) {\n    return fn(a[prop], b[prop]);\n  }\n  return a ? a[prop] : b ? b[prop] : 0;\n}\nfunction _segments(line, target, property) {\n  const segments = line.segments;\n  const points = line.points;\n  const tpoints = target.points;\n  const parts = [];\n  for (const segment of segments) {\n    let {start, end} = segment;\n    end = findSegmentEnd(start, end, points);\n    const bounds = getBounds(property, points[start], points[end], segment.loop);\n    if (!target.segments) {\n      parts.push({\n        source: segment,\n        target: bounds,\n        start: points[start],\n        end: points[end]\n      });\n      continue;\n    }\n    const targetSegments = _boundSegments(target, bounds);\n    for (const tgt of targetSegments) {\n      const subBounds = getBounds(property, tpoints[tgt.start], tpoints[tgt.end], tgt.loop);\n      const fillSources = _boundSegment(segment, points, subBounds);\n      for (const fillSource of fillSources) {\n        parts.push({\n          source: fillSource,\n          target: tgt,\n          start: {\n            [property]: _getEdge(bounds, subBounds, 'start', Math.max)\n          },\n          end: {\n            [property]: _getEdge(bounds, subBounds, 'end', Math.min)\n          }\n        });\n      }\n    }\n  }\n  return parts;\n}\nfunction clipBounds(ctx, scale, bounds) {\n  const {top, bottom} = scale.chart.chartArea;\n  const {property, start, end} = bounds || {};\n  if (property === 'x') {\n    ctx.beginPath();\n    ctx.rect(start, top, end - start, bottom - top);\n    ctx.clip();\n  }\n}\nfunction interpolatedLineTo(ctx, target, point, property) {\n  const interpolatedPoint = target.interpolate(point, property);\n  if (interpolatedPoint) {\n    ctx.lineTo(interpolatedPoint.x, interpolatedPoint.y);\n  }\n}\nfunction _fill(ctx, cfg) {\n  const {line, target, property, color, scale} = cfg;\n  const segments = _segments(line, target, property);\n  for (const {source: src, target: tgt, start, end} of segments) {\n    const {style: {backgroundColor = color} = {}} = src;\n    const notShape = target !== true;\n    ctx.save();\n    ctx.fillStyle = backgroundColor;\n    clipBounds(ctx, scale, notShape && getBounds(property, start, end));\n    ctx.beginPath();\n    const lineLoop = !!line.pathSegment(ctx, src);\n    let loop;\n    if (notShape) {\n      if (lineLoop) {\n        ctx.closePath();\n      } else {\n        interpolatedLineTo(ctx, target, end, property);\n      }\n      const targetLoop = !!target.pathSegment(ctx, tgt, {move: lineLoop, reverse: true});\n      loop = lineLoop && targetLoop;\n      if (!loop) {\n        interpolatedLineTo(ctx, target, start, property);\n      }\n    }\n    ctx.closePath();\n    ctx.fill(loop ? 'evenodd' : 'nonzero');\n    ctx.restore();\n  }\n}\nfunction doFill(ctx, cfg) {\n  const {line, target, above, below, area, scale} = cfg;\n  const property = line._loop ? 'angle' : cfg.axis;\n  ctx.save();\n  if (property === 'x' && below !== above) {\n    _clip(ctx, target, area.top);\n    _fill(ctx, {line, target, color: above, scale, property});\n    ctx.restore();\n    ctx.save();\n    _clip(ctx, target, area.bottom);\n  }\n  _fill(ctx, {line, target, color: below, scale, property});\n  ctx.restore();\n}\nfunction drawfill(ctx, source, area) {\n  const target = getTarget(source);\n  const {line, scale, axis} = source;\n  const lineOpts = line.options;\n  const fillOption = lineOpts.fill;\n  const color = lineOpts.backgroundColor;\n  const {above = color, below = color} = fillOption || {};\n  if (target && line.points.length) {\n    clipArea(ctx, area);\n    doFill(ctx, {line, target, above, below, area, scale, axis});\n    unclipArea(ctx);\n  }\n}\nvar plugin_filler = {\n  id: 'filler',\n  afterDatasetsUpdate(chart, _args, options) {\n    const count = (chart.data.datasets || []).length;\n    const sources = [];\n    let meta, i, line, source;\n    for (i = 0; i < count; ++i) {\n      meta = chart.getDatasetMeta(i);\n      line = meta.dataset;\n      source = null;\n      if (line && line.options && line instanceof LineElement) {\n        source = {\n          visible: chart.isDatasetVisible(i),\n          index: i,\n          fill: decodeFill(line, i, count),\n          chart,\n          axis: meta.controller.options.indexAxis,\n          scale: meta.vScale,\n          line,\n        };\n      }\n      meta.$filler = source;\n      sources.push(source);\n    }\n    for (i = 0; i < count; ++i) {\n      source = sources[i];\n      if (!source || source.fill === false) {\n        continue;\n      }\n      source.fill = resolveTarget(sources, i, options.propagate);\n    }\n  },\n  beforeDraw(chart, _args, options) {\n    const draw = options.drawTime === 'beforeDraw';\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    const area = chart.chartArea;\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (!source) {\n        continue;\n      }\n      source.line.updateControlPoints(area, source.axis);\n      if (draw) {\n        drawfill(chart.ctx, source, area);\n      }\n    }\n  },\n  beforeDatasetsDraw(chart, _args, options) {\n    if (options.drawTime !== 'beforeDatasetsDraw') {\n      return;\n    }\n    const metasets = chart.getSortedVisibleDatasetMetas();\n    for (let i = metasets.length - 1; i >= 0; --i) {\n      const source = metasets[i].$filler;\n      if (source) {\n        drawfill(chart.ctx, source, chart.chartArea);\n      }\n    }\n  },\n  beforeDatasetDraw(chart, args, options) {\n    const source = args.meta.$filler;\n    if (!source || source.fill === false || options.drawTime !== 'beforeDatasetDraw') {\n      return;\n    }\n    drawfill(chart.ctx, source, chart.chartArea);\n  },\n  defaults: {\n    propagate: true,\n    drawTime: 'beforeDatasetDraw'\n  }\n};\n\nconst getBoxSize = (labelOpts, fontSize) => {\n  let {boxHeight = fontSize, boxWidth = fontSize} = labelOpts;\n  if (labelOpts.usePointStyle) {\n    boxHeight = Math.min(boxHeight, fontSize);\n    boxWidth = Math.min(boxWidth, fontSize);\n  }\n  return {\n    boxWidth,\n    boxHeight,\n    itemHeight: Math.max(fontSize, boxHeight)\n  };\n};\nconst itemsEqual = (a, b) => a !== null && b !== null && a.datasetIndex === b.datasetIndex && a.index === b.index;\nclass Legend extends Element {\n  constructor(config) {\n    super();\n    this._added = false;\n    this.legendHitBoxes = [];\n    this._hoveredItem = null;\n    this.doughnutMode = false;\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this.legendItems = undefined;\n    this.columnSizes = undefined;\n    this.lineWidths = undefined;\n    this.maxHeight = undefined;\n    this.maxWidth = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this._margins = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight, margins) {\n    this.maxWidth = maxWidth;\n    this.maxHeight = maxHeight;\n    this._margins = margins;\n    this.setDimensions();\n    this.buildLabels();\n    this.fit();\n  }\n  setDimensions() {\n    if (this.isHorizontal()) {\n      this.width = this.maxWidth;\n      this.left = this._margins.left;\n      this.right = this.width;\n    } else {\n      this.height = this.maxHeight;\n      this.top = this._margins.top;\n      this.bottom = this.height;\n    }\n  }\n  buildLabels() {\n    const labelOpts = this.options.labels || {};\n    let legendItems = callback(labelOpts.generateLabels, [this.chart], this) || [];\n    if (labelOpts.filter) {\n      legendItems = legendItems.filter((item) => labelOpts.filter(item, this.chart.data));\n    }\n    if (labelOpts.sort) {\n      legendItems = legendItems.sort((a, b) => labelOpts.sort(a, b, this.chart.data));\n    }\n    if (this.options.reverse) {\n      legendItems.reverse();\n    }\n    this.legendItems = legendItems;\n  }\n  fit() {\n    const {options, ctx} = this;\n    if (!options.display) {\n      this.width = this.height = 0;\n      return;\n    }\n    const labelOpts = options.labels;\n    const labelFont = toFont(labelOpts.font);\n    const fontSize = labelFont.size;\n    const titleHeight = this._computeTitleHeight();\n    const {boxWidth, itemHeight} = getBoxSize(labelOpts, fontSize);\n    let width, height;\n    ctx.font = labelFont.string;\n    if (this.isHorizontal()) {\n      width = this.maxWidth;\n      height = this._fitRows(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    } else {\n      height = this.maxHeight;\n      width = this._fitCols(titleHeight, fontSize, boxWidth, itemHeight) + 10;\n    }\n    this.width = Math.min(width, options.maxWidth || this.maxWidth);\n    this.height = Math.min(height, options.maxHeight || this.maxHeight);\n  }\n  _fitRows(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxWidth, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const lineWidths = this.lineWidths = [0];\n    const lineHeight = itemHeight + padding;\n    let totalHeight = titleHeight;\n    ctx.textAlign = 'left';\n    ctx.textBaseline = 'middle';\n    let row = -1;\n    let top = -lineHeight;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i === 0 || lineWidths[lineWidths.length - 1] + itemWidth + 2 * padding > maxWidth) {\n        totalHeight += lineHeight;\n        lineWidths[lineWidths.length - (i > 0 ? 0 : 1)] = 0;\n        top += lineHeight;\n        row++;\n      }\n      hitboxes[i] = {left: 0, top, row, width: itemWidth, height: itemHeight};\n      lineWidths[lineWidths.length - 1] += itemWidth + padding;\n    });\n    return totalHeight;\n  }\n  _fitCols(titleHeight, fontSize, boxWidth, itemHeight) {\n    const {ctx, maxHeight, options: {labels: {padding}}} = this;\n    const hitboxes = this.legendHitBoxes = [];\n    const columnSizes = this.columnSizes = [];\n    const heightLimit = maxHeight - titleHeight;\n    let totalWidth = padding;\n    let currentColWidth = 0;\n    let currentColHeight = 0;\n    let left = 0;\n    let col = 0;\n    this.legendItems.forEach((legendItem, i) => {\n      const itemWidth = boxWidth + (fontSize / 2) + ctx.measureText(legendItem.text).width;\n      if (i > 0 && currentColHeight + itemHeight + 2 * padding > heightLimit) {\n        totalWidth += currentColWidth + padding;\n        columnSizes.push({width: currentColWidth, height: currentColHeight});\n        left += currentColWidth + padding;\n        col++;\n        currentColWidth = currentColHeight = 0;\n      }\n      hitboxes[i] = {left, top: currentColHeight, col, width: itemWidth, height: itemHeight};\n      currentColWidth = Math.max(currentColWidth, itemWidth);\n      currentColHeight += itemHeight + padding;\n    });\n    totalWidth += currentColWidth;\n    columnSizes.push({width: currentColWidth, height: currentColHeight});\n    return totalWidth;\n  }\n  adjustHitBoxes() {\n    if (!this.options.display) {\n      return;\n    }\n    const titleHeight = this._computeTitleHeight();\n    const {legendHitBoxes: hitboxes, options: {align, labels: {padding}, rtl}} = this;\n    const rtlHelper = getRtlAdapter(rtl, this.left, this.width);\n    if (this.isHorizontal()) {\n      let row = 0;\n      let left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n      for (const hitbox of hitboxes) {\n        if (row !== hitbox.row) {\n          row = hitbox.row;\n          left = _alignStartEnd(align, this.left + padding, this.right - this.lineWidths[row]);\n        }\n        hitbox.top += this.top + titleHeight + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(left), hitbox.width);\n        left += hitbox.width + padding;\n      }\n    } else {\n      let col = 0;\n      let top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n      for (const hitbox of hitboxes) {\n        if (hitbox.col !== col) {\n          col = hitbox.col;\n          top = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - this.columnSizes[col].height);\n        }\n        hitbox.top = top;\n        hitbox.left += this.left + padding;\n        hitbox.left = rtlHelper.leftForLtr(rtlHelper.x(hitbox.left), hitbox.width);\n        top += hitbox.height + padding;\n      }\n    }\n  }\n  isHorizontal() {\n    return this.options.position === 'top' || this.options.position === 'bottom';\n  }\n  draw() {\n    if (this.options.display) {\n      const ctx = this.ctx;\n      clipArea(ctx, this);\n      this._draw();\n      unclipArea(ctx);\n    }\n  }\n  _draw() {\n    const {options: opts, columnSizes, lineWidths, ctx} = this;\n    const {align, labels: labelOpts} = opts;\n    const defaultColor = defaults.color;\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const labelFont = toFont(labelOpts.font);\n    const {color: fontColor, padding} = labelOpts;\n    const fontSize = labelFont.size;\n    const halfFontSize = fontSize / 2;\n    let cursor;\n    this.drawTitle();\n    ctx.textAlign = rtlHelper.textAlign('left');\n    ctx.textBaseline = 'middle';\n    ctx.lineWidth = 0.5;\n    ctx.font = labelFont.string;\n    const {boxWidth, boxHeight, itemHeight} = getBoxSize(labelOpts, fontSize);\n    const drawLegendBox = function(x, y, legendItem) {\n      if (isNaN(boxWidth) || boxWidth <= 0 || isNaN(boxHeight) || boxHeight < 0) {\n        return;\n      }\n      ctx.save();\n      const lineWidth = valueOrDefault(legendItem.lineWidth, 1);\n      ctx.fillStyle = valueOrDefault(legendItem.fillStyle, defaultColor);\n      ctx.lineCap = valueOrDefault(legendItem.lineCap, 'butt');\n      ctx.lineDashOffset = valueOrDefault(legendItem.lineDashOffset, 0);\n      ctx.lineJoin = valueOrDefault(legendItem.lineJoin, 'miter');\n      ctx.lineWidth = lineWidth;\n      ctx.strokeStyle = valueOrDefault(legendItem.strokeStyle, defaultColor);\n      ctx.setLineDash(valueOrDefault(legendItem.lineDash, []));\n      if (labelOpts.usePointStyle) {\n        const drawOptions = {\n          radius: boxWidth * Math.SQRT2 / 2,\n          pointStyle: legendItem.pointStyle,\n          rotation: legendItem.rotation,\n          borderWidth: lineWidth\n        };\n        const centerX = rtlHelper.xPlus(x, boxWidth / 2);\n        const centerY = y + halfFontSize;\n        drawPoint(ctx, drawOptions, centerX, centerY);\n      } else {\n        const yBoxTop = y + Math.max((fontSize - boxHeight) / 2, 0);\n        const xBoxLeft = rtlHelper.leftForLtr(x, boxWidth);\n        const borderRadius = toTRBLCorners(legendItem.borderRadius);\n        ctx.beginPath();\n        if (Object.values(borderRadius).some(v => v !== 0)) {\n          addRoundedRectPath(ctx, {\n            x: xBoxLeft,\n            y: yBoxTop,\n            w: boxWidth,\n            h: boxHeight,\n            radius: borderRadius,\n          });\n        } else {\n          ctx.rect(xBoxLeft, yBoxTop, boxWidth, boxHeight);\n        }\n        ctx.fill();\n        if (lineWidth !== 0) {\n          ctx.stroke();\n        }\n      }\n      ctx.restore();\n    };\n    const fillText = function(x, y, legendItem) {\n      renderText(ctx, legendItem.text, x, y + (itemHeight / 2), labelFont, {\n        strikethrough: legendItem.hidden,\n        textAlign: rtlHelper.textAlign(legendItem.textAlign)\n      });\n    };\n    const isHorizontal = this.isHorizontal();\n    const titleHeight = this._computeTitleHeight();\n    if (isHorizontal) {\n      cursor = {\n        x: _alignStartEnd(align, this.left + padding, this.right - lineWidths[0]),\n        y: this.top + padding + titleHeight,\n        line: 0\n      };\n    } else {\n      cursor = {\n        x: this.left + padding,\n        y: _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[0].height),\n        line: 0\n      };\n    }\n    overrideTextDirection(this.ctx, opts.textDirection);\n    const lineHeight = itemHeight + padding;\n    this.legendItems.forEach((legendItem, i) => {\n      ctx.strokeStyle = legendItem.fontColor || fontColor;\n      ctx.fillStyle = legendItem.fontColor || fontColor;\n      const textWidth = ctx.measureText(legendItem.text).width;\n      const textAlign = rtlHelper.textAlign(legendItem.textAlign || (legendItem.textAlign = labelOpts.textAlign));\n      const width = boxWidth + halfFontSize + textWidth;\n      let x = cursor.x;\n      let y = cursor.y;\n      rtlHelper.setWidth(this.width);\n      if (isHorizontal) {\n        if (i > 0 && x + width + padding > this.right) {\n          y = cursor.y += lineHeight;\n          cursor.line++;\n          x = cursor.x = _alignStartEnd(align, this.left + padding, this.right - lineWidths[cursor.line]);\n        }\n      } else if (i > 0 && y + lineHeight > this.bottom) {\n        x = cursor.x = x + columnSizes[cursor.line].width + padding;\n        cursor.line++;\n        y = cursor.y = _alignStartEnd(align, this.top + titleHeight + padding, this.bottom - columnSizes[cursor.line].height);\n      }\n      const realX = rtlHelper.x(x);\n      drawLegendBox(realX, y, legendItem);\n      x = _textX(textAlign, x + boxWidth + halfFontSize, isHorizontal ? x + width : this.right, opts.rtl);\n      fillText(rtlHelper.x(x), y, legendItem);\n      if (isHorizontal) {\n        cursor.x += width + padding;\n      } else {\n        cursor.y += lineHeight;\n      }\n    });\n    restoreTextDirection(this.ctx, opts.textDirection);\n  }\n  drawTitle() {\n    const opts = this.options;\n    const titleOpts = opts.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    if (!titleOpts.display) {\n      return;\n    }\n    const rtlHelper = getRtlAdapter(opts.rtl, this.left, this.width);\n    const ctx = this.ctx;\n    const position = titleOpts.position;\n    const halfFontSize = titleFont.size / 2;\n    const topPaddingPlusHalfFontSize = titlePadding.top + halfFontSize;\n    let y;\n    let left = this.left;\n    let maxWidth = this.width;\n    if (this.isHorizontal()) {\n      maxWidth = Math.max(...this.lineWidths);\n      y = this.top + topPaddingPlusHalfFontSize;\n      left = _alignStartEnd(opts.align, left, this.right - maxWidth);\n    } else {\n      const maxHeight = this.columnSizes.reduce((acc, size) => Math.max(acc, size.height), 0);\n      y = topPaddingPlusHalfFontSize + _alignStartEnd(opts.align, this.top, this.bottom - maxHeight - opts.labels.padding - this._computeTitleHeight());\n    }\n    const x = _alignStartEnd(position, left, left + maxWidth);\n    ctx.textAlign = rtlHelper.textAlign(_toLeftRightCenter(position));\n    ctx.textBaseline = 'middle';\n    ctx.strokeStyle = titleOpts.color;\n    ctx.fillStyle = titleOpts.color;\n    ctx.font = titleFont.string;\n    renderText(ctx, titleOpts.text, x, y, titleFont);\n  }\n  _computeTitleHeight() {\n    const titleOpts = this.options.title;\n    const titleFont = toFont(titleOpts.font);\n    const titlePadding = toPadding(titleOpts.padding);\n    return titleOpts.display ? titleFont.lineHeight + titlePadding.height : 0;\n  }\n  _getLegendItemAt(x, y) {\n    let i, hitBox, lh;\n    if (_isBetween(x, this.left, this.right)\n      && _isBetween(y, this.top, this.bottom)) {\n      lh = this.legendHitBoxes;\n      for (i = 0; i < lh.length; ++i) {\n        hitBox = lh[i];\n        if (_isBetween(x, hitBox.left, hitBox.left + hitBox.width)\n          && _isBetween(y, hitBox.top, hitBox.top + hitBox.height)) {\n          return this.legendItems[i];\n        }\n      }\n    }\n    return null;\n  }\n  handleEvent(e) {\n    const opts = this.options;\n    if (!isListened(e.type, opts)) {\n      return;\n    }\n    const hoveredItem = this._getLegendItemAt(e.x, e.y);\n    if (e.type === 'mousemove') {\n      const previous = this._hoveredItem;\n      const sameItem = itemsEqual(previous, hoveredItem);\n      if (previous && !sameItem) {\n        callback(opts.onLeave, [e, previous, this], this);\n      }\n      this._hoveredItem = hoveredItem;\n      if (hoveredItem && !sameItem) {\n        callback(opts.onHover, [e, hoveredItem, this], this);\n      }\n    } else if (hoveredItem) {\n      callback(opts.onClick, [e, hoveredItem, this], this);\n    }\n  }\n}\nfunction isListened(type, opts) {\n  if (type === 'mousemove' && (opts.onHover || opts.onLeave)) {\n    return true;\n  }\n  if (opts.onClick && (type === 'click' || type === 'mouseup')) {\n    return true;\n  }\n  return false;\n}\nvar plugin_legend = {\n  id: 'legend',\n  _element: Legend,\n  start(chart, _args, options) {\n    const legend = chart.legend = new Legend({ctx: chart.ctx, options, chart});\n    layouts.configure(chart, legend, options);\n    layouts.addBox(chart, legend);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, chart.legend);\n    delete chart.legend;\n  },\n  beforeUpdate(chart, _args, options) {\n    const legend = chart.legend;\n    layouts.configure(chart, legend, options);\n    legend.options = options;\n  },\n  afterUpdate(chart) {\n    const legend = chart.legend;\n    legend.buildLabels();\n    legend.adjustHitBoxes();\n  },\n  afterEvent(chart, args) {\n    if (!args.replay) {\n      chart.legend.handleEvent(args.event);\n    }\n  },\n  defaults: {\n    display: true,\n    position: 'top',\n    align: 'center',\n    fullSize: true,\n    reverse: false,\n    weight: 1000,\n    onClick(e, legendItem, legend) {\n      const index = legendItem.datasetIndex;\n      const ci = legend.chart;\n      if (ci.isDatasetVisible(index)) {\n        ci.hide(index);\n        legendItem.hidden = true;\n      } else {\n        ci.show(index);\n        legendItem.hidden = false;\n      }\n    },\n    onHover: null,\n    onLeave: null,\n    labels: {\n      color: (ctx) => ctx.chart.options.color,\n      boxWidth: 40,\n      padding: 10,\n      generateLabels(chart) {\n        const datasets = chart.data.datasets;\n        const {labels: {usePointStyle, pointStyle, textAlign, color}} = chart.legend.options;\n        return chart._getSortedDatasetMetas().map((meta) => {\n          const style = meta.controller.getStyle(usePointStyle ? 0 : undefined);\n          const borderWidth = toPadding(style.borderWidth);\n          return {\n            text: datasets[meta.index].label,\n            fillStyle: style.backgroundColor,\n            fontColor: color,\n            hidden: !meta.visible,\n            lineCap: style.borderCapStyle,\n            lineDash: style.borderDash,\n            lineDashOffset: style.borderDashOffset,\n            lineJoin: style.borderJoinStyle,\n            lineWidth: (borderWidth.width + borderWidth.height) / 4,\n            strokeStyle: style.borderColor,\n            pointStyle: pointStyle || style.pointStyle,\n            rotation: style.rotation,\n            textAlign: textAlign || style.textAlign,\n            borderRadius: 0,\n            datasetIndex: meta.index\n          };\n        }, this);\n      }\n    },\n    title: {\n      color: (ctx) => ctx.chart.options.color,\n      display: false,\n      position: 'center',\n      text: '',\n    }\n  },\n  descriptors: {\n    _scriptable: (name) => !name.startsWith('on'),\n    labels: {\n      _scriptable: (name) => !['generateLabels', 'filter', 'sort'].includes(name),\n    }\n  },\n};\n\nclass Title extends Element {\n  constructor(config) {\n    super();\n    this.chart = config.chart;\n    this.options = config.options;\n    this.ctx = config.ctx;\n    this._padding = undefined;\n    this.top = undefined;\n    this.bottom = undefined;\n    this.left = undefined;\n    this.right = undefined;\n    this.width = undefined;\n    this.height = undefined;\n    this.position = undefined;\n    this.weight = undefined;\n    this.fullSize = undefined;\n  }\n  update(maxWidth, maxHeight) {\n    const opts = this.options;\n    this.left = 0;\n    this.top = 0;\n    if (!opts.display) {\n      this.width = this.height = this.right = this.bottom = 0;\n      return;\n    }\n    this.width = this.right = maxWidth;\n    this.height = this.bottom = maxHeight;\n    const lineCount = isArray(opts.text) ? opts.text.length : 1;\n    this._padding = toPadding(opts.padding);\n    const textSize = lineCount * toFont(opts.font).lineHeight + this._padding.height;\n    if (this.isHorizontal()) {\n      this.height = textSize;\n    } else {\n      this.width = textSize;\n    }\n  }\n  isHorizontal() {\n    const pos = this.options.position;\n    return pos === 'top' || pos === 'bottom';\n  }\n  _drawArgs(offset) {\n    const {top, left, bottom, right, options} = this;\n    const align = options.align;\n    let rotation = 0;\n    let maxWidth, titleX, titleY;\n    if (this.isHorizontal()) {\n      titleX = _alignStartEnd(align, left, right);\n      titleY = top + offset;\n      maxWidth = right - left;\n    } else {\n      if (options.position === 'left') {\n        titleX = left + offset;\n        titleY = _alignStartEnd(align, bottom, top);\n        rotation = PI * -0.5;\n      } else {\n        titleX = right - offset;\n        titleY = _alignStartEnd(align, top, bottom);\n        rotation = PI * 0.5;\n      }\n      maxWidth = bottom - top;\n    }\n    return {titleX, titleY, maxWidth, rotation};\n  }\n  draw() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    if (!opts.display) {\n      return;\n    }\n    const fontOpts = toFont(opts.font);\n    const lineHeight = fontOpts.lineHeight;\n    const offset = lineHeight / 2 + this._padding.top;\n    const {titleX, titleY, maxWidth, rotation} = this._drawArgs(offset);\n    renderText(ctx, opts.text, 0, 0, fontOpts, {\n      color: opts.color,\n      maxWidth,\n      rotation,\n      textAlign: _toLeftRightCenter(opts.align),\n      textBaseline: 'middle',\n      translation: [titleX, titleY],\n    });\n  }\n}\nfunction createTitle(chart, titleOpts) {\n  const title = new Title({\n    ctx: chart.ctx,\n    options: titleOpts,\n    chart\n  });\n  layouts.configure(chart, title, titleOpts);\n  layouts.addBox(chart, title);\n  chart.titleBlock = title;\n}\nvar plugin_title = {\n  id: 'title',\n  _element: Title,\n  start(chart, _args, options) {\n    createTitle(chart, options);\n  },\n  stop(chart) {\n    const titleBlock = chart.titleBlock;\n    layouts.removeBox(chart, titleBlock);\n    delete chart.titleBlock;\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = chart.titleBlock;\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'bold',\n    },\n    fullSize: true,\n    padding: 10,\n    position: 'top',\n    text: '',\n    weight: 2000\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst map = new WeakMap();\nvar plugin_subtitle = {\n  id: 'subtitle',\n  start(chart, _args, options) {\n    const title = new Title({\n      ctx: chart.ctx,\n      options,\n      chart\n    });\n    layouts.configure(chart, title, options);\n    layouts.addBox(chart, title);\n    map.set(chart, title);\n  },\n  stop(chart) {\n    layouts.removeBox(chart, map.get(chart));\n    map.delete(chart);\n  },\n  beforeUpdate(chart, _args, options) {\n    const title = map.get(chart);\n    layouts.configure(chart, title, options);\n    title.options = options;\n  },\n  defaults: {\n    align: 'center',\n    display: false,\n    font: {\n      weight: 'normal',\n    },\n    fullSize: true,\n    padding: 0,\n    position: 'top',\n    text: '',\n    weight: 1500\n  },\n  defaultRoutes: {\n    color: 'color'\n  },\n  descriptors: {\n    _scriptable: true,\n    _indexable: false,\n  },\n};\n\nconst positioners = {\n  average(items) {\n    if (!items.length) {\n      return false;\n    }\n    let i, len;\n    let x = 0;\n    let y = 0;\n    let count = 0;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const pos = el.tooltipPosition();\n        x += pos.x;\n        y += pos.y;\n        ++count;\n      }\n    }\n    return {\n      x: x / count,\n      y: y / count\n    };\n  },\n  nearest(items, eventPosition) {\n    if (!items.length) {\n      return false;\n    }\n    let x = eventPosition.x;\n    let y = eventPosition.y;\n    let minDistance = Number.POSITIVE_INFINITY;\n    let i, len, nearestElement;\n    for (i = 0, len = items.length; i < len; ++i) {\n      const el = items[i].element;\n      if (el && el.hasValue()) {\n        const center = el.getCenterPoint();\n        const d = distanceBetweenPoints(eventPosition, center);\n        if (d < minDistance) {\n          minDistance = d;\n          nearestElement = el;\n        }\n      }\n    }\n    if (nearestElement) {\n      const tp = nearestElement.tooltipPosition();\n      x = tp.x;\n      y = tp.y;\n    }\n    return {\n      x,\n      y\n    };\n  }\n};\nfunction pushOrConcat(base, toPush) {\n  if (toPush) {\n    if (isArray(toPush)) {\n      Array.prototype.push.apply(base, toPush);\n    } else {\n      base.push(toPush);\n    }\n  }\n  return base;\n}\nfunction splitNewlines(str) {\n  if ((typeof str === 'string' || str instanceof String) && str.indexOf('\\n') > -1) {\n    return str.split('\\n');\n  }\n  return str;\n}\nfunction createTooltipItem(chart, item) {\n  const {element, datasetIndex, index} = item;\n  const controller = chart.getDatasetMeta(datasetIndex).controller;\n  const {label, value} = controller.getLabelAndValue(index);\n  return {\n    chart,\n    label,\n    parsed: controller.getParsed(index),\n    raw: chart.data.datasets[datasetIndex].data[index],\n    formattedValue: value,\n    dataset: controller.getDataset(),\n    dataIndex: index,\n    datasetIndex,\n    element\n  };\n}\nfunction getTooltipSize(tooltip, options) {\n  const ctx = tooltip.chart.ctx;\n  const {body, footer, title} = tooltip;\n  const {boxWidth, boxHeight} = options;\n  const bodyFont = toFont(options.bodyFont);\n  const titleFont = toFont(options.titleFont);\n  const footerFont = toFont(options.footerFont);\n  const titleLineCount = title.length;\n  const footerLineCount = footer.length;\n  const bodyLineItemCount = body.length;\n  const padding = toPadding(options.padding);\n  let height = padding.height;\n  let width = 0;\n  let combinedBodyLength = body.reduce((count, bodyItem) => count + bodyItem.before.length + bodyItem.lines.length + bodyItem.after.length, 0);\n  combinedBodyLength += tooltip.beforeBody.length + tooltip.afterBody.length;\n  if (titleLineCount) {\n    height += titleLineCount * titleFont.lineHeight\n\t\t\t+ (titleLineCount - 1) * options.titleSpacing\n\t\t\t+ options.titleMarginBottom;\n  }\n  if (combinedBodyLength) {\n    const bodyLineHeight = options.displayColors ? Math.max(boxHeight, bodyFont.lineHeight) : bodyFont.lineHeight;\n    height += bodyLineItemCount * bodyLineHeight\n\t\t\t+ (combinedBodyLength - bodyLineItemCount) * bodyFont.lineHeight\n\t\t\t+ (combinedBodyLength - 1) * options.bodySpacing;\n  }\n  if (footerLineCount) {\n    height += options.footerMarginTop\n\t\t\t+ footerLineCount * footerFont.lineHeight\n\t\t\t+ (footerLineCount - 1) * options.footerSpacing;\n  }\n  let widthPadding = 0;\n  const maxLineWidth = function(line) {\n    width = Math.max(width, ctx.measureText(line).width + widthPadding);\n  };\n  ctx.save();\n  ctx.font = titleFont.string;\n  each(tooltip.title, maxLineWidth);\n  ctx.font = bodyFont.string;\n  each(tooltip.beforeBody.concat(tooltip.afterBody), maxLineWidth);\n  widthPadding = options.displayColors ? (boxWidth + 2 + options.boxPadding) : 0;\n  each(body, (bodyItem) => {\n    each(bodyItem.before, maxLineWidth);\n    each(bodyItem.lines, maxLineWidth);\n    each(bodyItem.after, maxLineWidth);\n  });\n  widthPadding = 0;\n  ctx.font = footerFont.string;\n  each(tooltip.footer, maxLineWidth);\n  ctx.restore();\n  width += padding.width;\n  return {width, height};\n}\nfunction determineYAlign(chart, size) {\n  const {y, height} = size;\n  if (y < height / 2) {\n    return 'top';\n  } else if (y > (chart.height - height / 2)) {\n    return 'bottom';\n  }\n  return 'center';\n}\nfunction doesNotFitWithAlign(xAlign, chart, options, size) {\n  const {x, width} = size;\n  const caret = options.caretSize + options.caretPadding;\n  if (xAlign === 'left' && x + width + caret > chart.width) {\n    return true;\n  }\n  if (xAlign === 'right' && x - width - caret < 0) {\n    return true;\n  }\n}\nfunction determineXAlign(chart, options, size, yAlign) {\n  const {x, width} = size;\n  const {width: chartWidth, chartArea: {left, right}} = chart;\n  let xAlign = 'center';\n  if (yAlign === 'center') {\n    xAlign = x <= (left + right) / 2 ? 'left' : 'right';\n  } else if (x <= width / 2) {\n    xAlign = 'left';\n  } else if (x >= chartWidth - width / 2) {\n    xAlign = 'right';\n  }\n  if (doesNotFitWithAlign(xAlign, chart, options, size)) {\n    xAlign = 'center';\n  }\n  return xAlign;\n}\nfunction determineAlignment(chart, options, size) {\n  const yAlign = size.yAlign || options.yAlign || determineYAlign(chart, size);\n  return {\n    xAlign: size.xAlign || options.xAlign || determineXAlign(chart, options, size, yAlign),\n    yAlign\n  };\n}\nfunction alignX(size, xAlign) {\n  let {x, width} = size;\n  if (xAlign === 'right') {\n    x -= width;\n  } else if (xAlign === 'center') {\n    x -= (width / 2);\n  }\n  return x;\n}\nfunction alignY(size, yAlign, paddingAndSize) {\n  let {y, height} = size;\n  if (yAlign === 'top') {\n    y += paddingAndSize;\n  } else if (yAlign === 'bottom') {\n    y -= height + paddingAndSize;\n  } else {\n    y -= (height / 2);\n  }\n  return y;\n}\nfunction getBackgroundPoint(options, size, alignment, chart) {\n  const {caretSize, caretPadding, cornerRadius} = options;\n  const {xAlign, yAlign} = alignment;\n  const paddingAndSize = caretSize + caretPadding;\n  const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n  let x = alignX(size, xAlign);\n  const y = alignY(size, yAlign, paddingAndSize);\n  if (yAlign === 'center') {\n    if (xAlign === 'left') {\n      x += paddingAndSize;\n    } else if (xAlign === 'right') {\n      x -= paddingAndSize;\n    }\n  } else if (xAlign === 'left') {\n    x -= Math.max(topLeft, bottomLeft) + caretSize;\n  } else if (xAlign === 'right') {\n    x += Math.max(topRight, bottomRight) + caretSize;\n  }\n  return {\n    x: _limitValue(x, 0, chart.width - size.width),\n    y: _limitValue(y, 0, chart.height - size.height)\n  };\n}\nfunction getAlignedX(tooltip, align, options) {\n  const padding = toPadding(options.padding);\n  return align === 'center'\n    ? tooltip.x + tooltip.width / 2\n    : align === 'right'\n      ? tooltip.x + tooltip.width - padding.right\n      : tooltip.x + padding.left;\n}\nfunction getBeforeAfterBodyLines(callback) {\n  return pushOrConcat([], splitNewlines(callback));\n}\nfunction createTooltipContext(parent, tooltip, tooltipItems) {\n  return createContext(parent, {\n    tooltip,\n    tooltipItems,\n    type: 'tooltip'\n  });\n}\nfunction overrideCallbacks(callbacks, context) {\n  const override = context && context.dataset && context.dataset.tooltip && context.dataset.tooltip.callbacks;\n  return override ? callbacks.override(override) : callbacks;\n}\nclass Tooltip extends Element {\n  constructor(config) {\n    super();\n    this.opacity = 0;\n    this._active = [];\n    this._eventPosition = undefined;\n    this._size = undefined;\n    this._cachedAnimations = undefined;\n    this._tooltipItems = [];\n    this.$animations = undefined;\n    this.$context = undefined;\n    this.chart = config.chart || config._chart;\n    this._chart = this.chart;\n    this.options = config.options;\n    this.dataPoints = undefined;\n    this.title = undefined;\n    this.beforeBody = undefined;\n    this.body = undefined;\n    this.afterBody = undefined;\n    this.footer = undefined;\n    this.xAlign = undefined;\n    this.yAlign = undefined;\n    this.x = undefined;\n    this.y = undefined;\n    this.height = undefined;\n    this.width = undefined;\n    this.caretX = undefined;\n    this.caretY = undefined;\n    this.labelColors = undefined;\n    this.labelPointStyles = undefined;\n    this.labelTextColors = undefined;\n  }\n  initialize(options) {\n    this.options = options;\n    this._cachedAnimations = undefined;\n    this.$context = undefined;\n  }\n  _resolveAnimations() {\n    const cached = this._cachedAnimations;\n    if (cached) {\n      return cached;\n    }\n    const chart = this.chart;\n    const options = this.options.setContext(this.getContext());\n    const opts = options.enabled && chart.options.animation && options.animations;\n    const animations = new Animations(this.chart, opts);\n    if (opts._cacheable) {\n      this._cachedAnimations = Object.freeze(animations);\n    }\n    return animations;\n  }\n  getContext() {\n    return this.$context ||\n\t\t\t(this.$context = createTooltipContext(this.chart.getContext(), this, this._tooltipItems));\n  }\n  getTitle(context, options) {\n    const {callbacks} = options;\n    const beforeTitle = callbacks.beforeTitle.apply(this, [context]);\n    const title = callbacks.title.apply(this, [context]);\n    const afterTitle = callbacks.afterTitle.apply(this, [context]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeTitle));\n    lines = pushOrConcat(lines, splitNewlines(title));\n    lines = pushOrConcat(lines, splitNewlines(afterTitle));\n    return lines;\n  }\n  getBeforeBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.beforeBody.apply(this, [tooltipItems]));\n  }\n  getBody(tooltipItems, options) {\n    const {callbacks} = options;\n    const bodyItems = [];\n    each(tooltipItems, (context) => {\n      const bodyItem = {\n        before: [],\n        lines: [],\n        after: []\n      };\n      const scoped = overrideCallbacks(callbacks, context);\n      pushOrConcat(bodyItem.before, splitNewlines(scoped.beforeLabel.call(this, context)));\n      pushOrConcat(bodyItem.lines, scoped.label.call(this, context));\n      pushOrConcat(bodyItem.after, splitNewlines(scoped.afterLabel.call(this, context)));\n      bodyItems.push(bodyItem);\n    });\n    return bodyItems;\n  }\n  getAfterBody(tooltipItems, options) {\n    return getBeforeAfterBodyLines(options.callbacks.afterBody.apply(this, [tooltipItems]));\n  }\n  getFooter(tooltipItems, options) {\n    const {callbacks} = options;\n    const beforeFooter = callbacks.beforeFooter.apply(this, [tooltipItems]);\n    const footer = callbacks.footer.apply(this, [tooltipItems]);\n    const afterFooter = callbacks.afterFooter.apply(this, [tooltipItems]);\n    let lines = [];\n    lines = pushOrConcat(lines, splitNewlines(beforeFooter));\n    lines = pushOrConcat(lines, splitNewlines(footer));\n    lines = pushOrConcat(lines, splitNewlines(afterFooter));\n    return lines;\n  }\n  _createItems(options) {\n    const active = this._active;\n    const data = this.chart.data;\n    const labelColors = [];\n    const labelPointStyles = [];\n    const labelTextColors = [];\n    let tooltipItems = [];\n    let i, len;\n    for (i = 0, len = active.length; i < len; ++i) {\n      tooltipItems.push(createTooltipItem(this.chart, active[i]));\n    }\n    if (options.filter) {\n      tooltipItems = tooltipItems.filter((element, index, array) => options.filter(element, index, array, data));\n    }\n    if (options.itemSort) {\n      tooltipItems = tooltipItems.sort((a, b) => options.itemSort(a, b, data));\n    }\n    each(tooltipItems, (context) => {\n      const scoped = overrideCallbacks(options.callbacks, context);\n      labelColors.push(scoped.labelColor.call(this, context));\n      labelPointStyles.push(scoped.labelPointStyle.call(this, context));\n      labelTextColors.push(scoped.labelTextColor.call(this, context));\n    });\n    this.labelColors = labelColors;\n    this.labelPointStyles = labelPointStyles;\n    this.labelTextColors = labelTextColors;\n    this.dataPoints = tooltipItems;\n    return tooltipItems;\n  }\n  update(changed, replay) {\n    const options = this.options.setContext(this.getContext());\n    const active = this._active;\n    let properties;\n    let tooltipItems = [];\n    if (!active.length) {\n      if (this.opacity !== 0) {\n        properties = {\n          opacity: 0\n        };\n      }\n    } else {\n      const position = positioners[options.position].call(this, active, this._eventPosition);\n      tooltipItems = this._createItems(options);\n      this.title = this.getTitle(tooltipItems, options);\n      this.beforeBody = this.getBeforeBody(tooltipItems, options);\n      this.body = this.getBody(tooltipItems, options);\n      this.afterBody = this.getAfterBody(tooltipItems, options);\n      this.footer = this.getFooter(tooltipItems, options);\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, size);\n      const alignment = determineAlignment(this.chart, options, positionAndSize);\n      const backgroundPoint = getBackgroundPoint(options, positionAndSize, alignment, this.chart);\n      this.xAlign = alignment.xAlign;\n      this.yAlign = alignment.yAlign;\n      properties = {\n        opacity: 1,\n        x: backgroundPoint.x,\n        y: backgroundPoint.y,\n        width: size.width,\n        height: size.height,\n        caretX: position.x,\n        caretY: position.y\n      };\n    }\n    this._tooltipItems = tooltipItems;\n    this.$context = undefined;\n    if (properties) {\n      this._resolveAnimations().update(this, properties);\n    }\n    if (changed && options.external) {\n      options.external.call(this, {chart: this.chart, tooltip: this, replay});\n    }\n  }\n  drawCaret(tooltipPoint, ctx, size, options) {\n    const caretPosition = this.getCaretPosition(tooltipPoint, size, options);\n    ctx.lineTo(caretPosition.x1, caretPosition.y1);\n    ctx.lineTo(caretPosition.x2, caretPosition.y2);\n    ctx.lineTo(caretPosition.x3, caretPosition.y3);\n  }\n  getCaretPosition(tooltipPoint, size, options) {\n    const {xAlign, yAlign} = this;\n    const {caretSize, cornerRadius} = options;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(cornerRadius);\n    const {x: ptX, y: ptY} = tooltipPoint;\n    const {width, height} = size;\n    let x1, x2, x3, y1, y2, y3;\n    if (yAlign === 'center') {\n      y2 = ptY + (height / 2);\n      if (xAlign === 'left') {\n        x1 = ptX;\n        x2 = x1 - caretSize;\n        y1 = y2 + caretSize;\n        y3 = y2 - caretSize;\n      } else {\n        x1 = ptX + width;\n        x2 = x1 + caretSize;\n        y1 = y2 - caretSize;\n        y3 = y2 + caretSize;\n      }\n      x3 = x1;\n    } else {\n      if (xAlign === 'left') {\n        x2 = ptX + Math.max(topLeft, bottomLeft) + (caretSize);\n      } else if (xAlign === 'right') {\n        x2 = ptX + width - Math.max(topRight, bottomRight) - caretSize;\n      } else {\n        x2 = this.caretX;\n      }\n      if (yAlign === 'top') {\n        y1 = ptY;\n        y2 = y1 - caretSize;\n        x1 = x2 - caretSize;\n        x3 = x2 + caretSize;\n      } else {\n        y1 = ptY + height;\n        y2 = y1 + caretSize;\n        x1 = x2 + caretSize;\n        x3 = x2 - caretSize;\n      }\n      y3 = y1;\n    }\n    return {x1, x2, x3, y1, y2, y3};\n  }\n  drawTitle(pt, ctx, options) {\n    const title = this.title;\n    const length = title.length;\n    let titleFont, titleSpacing, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.titleAlign, options);\n      ctx.textAlign = rtlHelper.textAlign(options.titleAlign);\n      ctx.textBaseline = 'middle';\n      titleFont = toFont(options.titleFont);\n      titleSpacing = options.titleSpacing;\n      ctx.fillStyle = options.titleColor;\n      ctx.font = titleFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(title[i], rtlHelper.x(pt.x), pt.y + titleFont.lineHeight / 2);\n        pt.y += titleFont.lineHeight + titleSpacing;\n        if (i + 1 === length) {\n          pt.y += options.titleMarginBottom - titleSpacing;\n        }\n      }\n    }\n  }\n  _drawColorBox(ctx, pt, i, rtlHelper, options) {\n    const labelColors = this.labelColors[i];\n    const labelPointStyle = this.labelPointStyles[i];\n    const {boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    const colorX = getAlignedX(this, 'left', options);\n    const rtlColorX = rtlHelper.x(colorX);\n    const yOffSet = boxHeight < bodyFont.lineHeight ? (bodyFont.lineHeight - boxHeight) / 2 : 0;\n    const colorY = pt.y + yOffSet;\n    if (options.usePointStyle) {\n      const drawOptions = {\n        radius: Math.min(boxWidth, boxHeight) / 2,\n        pointStyle: labelPointStyle.pointStyle,\n        rotation: labelPointStyle.rotation,\n        borderWidth: 1\n      };\n      const centerX = rtlHelper.leftForLtr(rtlColorX, boxWidth) + boxWidth / 2;\n      const centerY = colorY + boxHeight / 2;\n      ctx.strokeStyle = options.multiKeyBackground;\n      ctx.fillStyle = options.multiKeyBackground;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.fillStyle = labelColors.backgroundColor;\n      drawPoint(ctx, drawOptions, centerX, centerY);\n    } else {\n      ctx.lineWidth = labelColors.borderWidth || 1;\n      ctx.strokeStyle = labelColors.borderColor;\n      ctx.setLineDash(labelColors.borderDash || []);\n      ctx.lineDashOffset = labelColors.borderDashOffset || 0;\n      const outerX = rtlHelper.leftForLtr(rtlColorX, boxWidth - boxPadding);\n      const innerX = rtlHelper.leftForLtr(rtlHelper.xPlus(rtlColorX, 1), boxWidth - boxPadding - 2);\n      const borderRadius = toTRBLCorners(labelColors.borderRadius);\n      if (Object.values(borderRadius).some(v => v !== 0)) {\n        ctx.beginPath();\n        ctx.fillStyle = options.multiKeyBackground;\n        addRoundedRectPath(ctx, {\n          x: outerX,\n          y: colorY,\n          w: boxWidth,\n          h: boxHeight,\n          radius: borderRadius,\n        });\n        ctx.fill();\n        ctx.stroke();\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.beginPath();\n        addRoundedRectPath(ctx, {\n          x: innerX,\n          y: colorY + 1,\n          w: boxWidth - 2,\n          h: boxHeight - 2,\n          radius: borderRadius,\n        });\n        ctx.fill();\n      } else {\n        ctx.fillStyle = options.multiKeyBackground;\n        ctx.fillRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.strokeRect(outerX, colorY, boxWidth, boxHeight);\n        ctx.fillStyle = labelColors.backgroundColor;\n        ctx.fillRect(innerX, colorY + 1, boxWidth - 2, boxHeight - 2);\n      }\n    }\n    ctx.fillStyle = this.labelTextColors[i];\n  }\n  drawBody(pt, ctx, options) {\n    const {body} = this;\n    const {bodySpacing, bodyAlign, displayColors, boxHeight, boxWidth, boxPadding} = options;\n    const bodyFont = toFont(options.bodyFont);\n    let bodyLineHeight = bodyFont.lineHeight;\n    let xLinePadding = 0;\n    const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n    const fillLineOfText = function(line) {\n      ctx.fillText(line, rtlHelper.x(pt.x + xLinePadding), pt.y + bodyLineHeight / 2);\n      pt.y += bodyLineHeight + bodySpacing;\n    };\n    const bodyAlignForCalculation = rtlHelper.textAlign(bodyAlign);\n    let bodyItem, textColor, lines, i, j, ilen, jlen;\n    ctx.textAlign = bodyAlign;\n    ctx.textBaseline = 'middle';\n    ctx.font = bodyFont.string;\n    pt.x = getAlignedX(this, bodyAlignForCalculation, options);\n    ctx.fillStyle = options.bodyColor;\n    each(this.beforeBody, fillLineOfText);\n    xLinePadding = displayColors && bodyAlignForCalculation !== 'right'\n      ? bodyAlign === 'center' ? (boxWidth / 2 + boxPadding) : (boxWidth + 2 + boxPadding)\n      : 0;\n    for (i = 0, ilen = body.length; i < ilen; ++i) {\n      bodyItem = body[i];\n      textColor = this.labelTextColors[i];\n      ctx.fillStyle = textColor;\n      each(bodyItem.before, fillLineOfText);\n      lines = bodyItem.lines;\n      if (displayColors && lines.length) {\n        this._drawColorBox(ctx, pt, i, rtlHelper, options);\n        bodyLineHeight = Math.max(bodyFont.lineHeight, boxHeight);\n      }\n      for (j = 0, jlen = lines.length; j < jlen; ++j) {\n        fillLineOfText(lines[j]);\n        bodyLineHeight = bodyFont.lineHeight;\n      }\n      each(bodyItem.after, fillLineOfText);\n    }\n    xLinePadding = 0;\n    bodyLineHeight = bodyFont.lineHeight;\n    each(this.afterBody, fillLineOfText);\n    pt.y -= bodySpacing;\n  }\n  drawFooter(pt, ctx, options) {\n    const footer = this.footer;\n    const length = footer.length;\n    let footerFont, i;\n    if (length) {\n      const rtlHelper = getRtlAdapter(options.rtl, this.x, this.width);\n      pt.x = getAlignedX(this, options.footerAlign, options);\n      pt.y += options.footerMarginTop;\n      ctx.textAlign = rtlHelper.textAlign(options.footerAlign);\n      ctx.textBaseline = 'middle';\n      footerFont = toFont(options.footerFont);\n      ctx.fillStyle = options.footerColor;\n      ctx.font = footerFont.string;\n      for (i = 0; i < length; ++i) {\n        ctx.fillText(footer[i], rtlHelper.x(pt.x), pt.y + footerFont.lineHeight / 2);\n        pt.y += footerFont.lineHeight + options.footerSpacing;\n      }\n    }\n  }\n  drawBackground(pt, ctx, tooltipSize, options) {\n    const {xAlign, yAlign} = this;\n    const {x, y} = pt;\n    const {width, height} = tooltipSize;\n    const {topLeft, topRight, bottomLeft, bottomRight} = toTRBLCorners(options.cornerRadius);\n    ctx.fillStyle = options.backgroundColor;\n    ctx.strokeStyle = options.borderColor;\n    ctx.lineWidth = options.borderWidth;\n    ctx.beginPath();\n    ctx.moveTo(x + topLeft, y);\n    if (yAlign === 'top') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width - topRight, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + topRight);\n    if (yAlign === 'center' && xAlign === 'right') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + width, y + height - bottomRight);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - bottomRight, y + height);\n    if (yAlign === 'bottom') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x + bottomLeft, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - bottomLeft);\n    if (yAlign === 'center' && xAlign === 'left') {\n      this.drawCaret(pt, ctx, tooltipSize, options);\n    }\n    ctx.lineTo(x, y + topLeft);\n    ctx.quadraticCurveTo(x, y, x + topLeft, y);\n    ctx.closePath();\n    ctx.fill();\n    if (options.borderWidth > 0) {\n      ctx.stroke();\n    }\n  }\n  _updateAnimationTarget(options) {\n    const chart = this.chart;\n    const anims = this.$animations;\n    const animX = anims && anims.x;\n    const animY = anims && anims.y;\n    if (animX || animY) {\n      const position = positioners[options.position].call(this, this._active, this._eventPosition);\n      if (!position) {\n        return;\n      }\n      const size = this._size = getTooltipSize(this, options);\n      const positionAndSize = Object.assign({}, position, this._size);\n      const alignment = determineAlignment(chart, options, positionAndSize);\n      const point = getBackgroundPoint(options, positionAndSize, alignment, chart);\n      if (animX._to !== point.x || animY._to !== point.y) {\n        this.xAlign = alignment.xAlign;\n        this.yAlign = alignment.yAlign;\n        this.width = size.width;\n        this.height = size.height;\n        this.caretX = position.x;\n        this.caretY = position.y;\n        this._resolveAnimations().update(this, point);\n      }\n    }\n  }\n  draw(ctx) {\n    const options = this.options.setContext(this.getContext());\n    let opacity = this.opacity;\n    if (!opacity) {\n      return;\n    }\n    this._updateAnimationTarget(options);\n    const tooltipSize = {\n      width: this.width,\n      height: this.height\n    };\n    const pt = {\n      x: this.x,\n      y: this.y\n    };\n    opacity = Math.abs(opacity) < 1e-3 ? 0 : opacity;\n    const padding = toPadding(options.padding);\n    const hasTooltipContent = this.title.length || this.beforeBody.length || this.body.length || this.afterBody.length || this.footer.length;\n    if (options.enabled && hasTooltipContent) {\n      ctx.save();\n      ctx.globalAlpha = opacity;\n      this.drawBackground(pt, ctx, tooltipSize, options);\n      overrideTextDirection(ctx, options.textDirection);\n      pt.y += padding.top;\n      this.drawTitle(pt, ctx, options);\n      this.drawBody(pt, ctx, options);\n      this.drawFooter(pt, ctx, options);\n      restoreTextDirection(ctx, options.textDirection);\n      ctx.restore();\n    }\n  }\n  getActiveElements() {\n    return this._active || [];\n  }\n  setActiveElements(activeElements, eventPosition) {\n    const lastActive = this._active;\n    const active = activeElements.map(({datasetIndex, index}) => {\n      const meta = this.chart.getDatasetMeta(datasetIndex);\n      if (!meta) {\n        throw new Error('Cannot find a dataset at index ' + datasetIndex);\n      }\n      return {\n        datasetIndex,\n        element: meta.data[index],\n        index,\n      };\n    });\n    const changed = !_elementsEqual(lastActive, active);\n    const positionChanged = this._positionChanged(active, eventPosition);\n    if (changed || positionChanged) {\n      this._active = active;\n      this._eventPosition = eventPosition;\n      this._ignoreReplayEvents = true;\n      this.update(true);\n    }\n  }\n  handleEvent(e, replay, inChartArea = true) {\n    if (replay && this._ignoreReplayEvents) {\n      return false;\n    }\n    this._ignoreReplayEvents = false;\n    const options = this.options;\n    const lastActive = this._active || [];\n    const active = this._getActiveElements(e, lastActive, replay, inChartArea);\n    const positionChanged = this._positionChanged(active, e);\n    const changed = replay || !_elementsEqual(active, lastActive) || positionChanged;\n    if (changed) {\n      this._active = active;\n      if (options.enabled || options.external) {\n        this._eventPosition = {\n          x: e.x,\n          y: e.y\n        };\n        this.update(true, replay);\n      }\n    }\n    return changed;\n  }\n  _getActiveElements(e, lastActive, replay, inChartArea) {\n    const options = this.options;\n    if (e.type === 'mouseout') {\n      return [];\n    }\n    if (!inChartArea) {\n      return lastActive;\n    }\n    const active = this.chart.getElementsAtEventForMode(e, options.mode, options, replay);\n    if (options.reverse) {\n      active.reverse();\n    }\n    return active;\n  }\n  _positionChanged(active, e) {\n    const {caretX, caretY, options} = this;\n    const position = positioners[options.position].call(this, active, e);\n    return position !== false && (caretX !== position.x || caretY !== position.y);\n  }\n}\nTooltip.positioners = positioners;\nvar plugin_tooltip = {\n  id: 'tooltip',\n  _element: Tooltip,\n  positioners,\n  afterInit(chart, _args, options) {\n    if (options) {\n      chart.tooltip = new Tooltip({chart, options});\n    }\n  },\n  beforeUpdate(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  reset(chart, _args, options) {\n    if (chart.tooltip) {\n      chart.tooltip.initialize(options);\n    }\n  },\n  afterDraw(chart) {\n    const tooltip = chart.tooltip;\n    const args = {\n      tooltip\n    };\n    if (chart.notifyPlugins('beforeTooltipDraw', args) === false) {\n      return;\n    }\n    if (tooltip) {\n      tooltip.draw(chart.ctx);\n    }\n    chart.notifyPlugins('afterTooltipDraw', args);\n  },\n  afterEvent(chart, args) {\n    if (chart.tooltip) {\n      const useFinalPosition = args.replay;\n      if (chart.tooltip.handleEvent(args.event, useFinalPosition, args.inChartArea)) {\n        args.changed = true;\n      }\n    }\n  },\n  defaults: {\n    enabled: true,\n    external: null,\n    position: 'average',\n    backgroundColor: 'rgba(0,0,0,0.8)',\n    titleColor: '#fff',\n    titleFont: {\n      weight: 'bold',\n    },\n    titleSpacing: 2,\n    titleMarginBottom: 6,\n    titleAlign: 'left',\n    bodyColor: '#fff',\n    bodySpacing: 2,\n    bodyFont: {\n    },\n    bodyAlign: 'left',\n    footerColor: '#fff',\n    footerSpacing: 2,\n    footerMarginTop: 6,\n    footerFont: {\n      weight: 'bold',\n    },\n    footerAlign: 'left',\n    padding: 6,\n    caretPadding: 2,\n    caretSize: 5,\n    cornerRadius: 6,\n    boxHeight: (ctx, opts) => opts.bodyFont.size,\n    boxWidth: (ctx, opts) => opts.bodyFont.size,\n    multiKeyBackground: '#fff',\n    displayColors: true,\n    boxPadding: 0,\n    borderColor: 'rgba(0,0,0,0)',\n    borderWidth: 0,\n    animation: {\n      duration: 400,\n      easing: 'easeOutQuart',\n    },\n    animations: {\n      numbers: {\n        type: 'number',\n        properties: ['x', 'y', 'width', 'height', 'caretX', 'caretY'],\n      },\n      opacity: {\n        easing: 'linear',\n        duration: 200\n      }\n    },\n    callbacks: {\n      beforeTitle: noop,\n      title(tooltipItems) {\n        if (tooltipItems.length > 0) {\n          const item = tooltipItems[0];\n          const labels = item.chart.data.labels;\n          const labelCount = labels ? labels.length : 0;\n          if (this && this.options && this.options.mode === 'dataset') {\n            return item.dataset.label || '';\n          } else if (item.label) {\n            return item.label;\n          } else if (labelCount > 0 && item.dataIndex < labelCount) {\n            return labels[item.dataIndex];\n          }\n        }\n        return '';\n      },\n      afterTitle: noop,\n      beforeBody: noop,\n      beforeLabel: noop,\n      label(tooltipItem) {\n        if (this && this.options && this.options.mode === 'dataset') {\n          return tooltipItem.label + ': ' + tooltipItem.formattedValue || tooltipItem.formattedValue;\n        }\n        let label = tooltipItem.dataset.label || '';\n        if (label) {\n          label += ': ';\n        }\n        const value = tooltipItem.formattedValue;\n        if (!isNullOrUndef(value)) {\n          label += value;\n        }\n        return label;\n      },\n      labelColor(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          borderColor: options.borderColor,\n          backgroundColor: options.backgroundColor,\n          borderWidth: options.borderWidth,\n          borderDash: options.borderDash,\n          borderDashOffset: options.borderDashOffset,\n          borderRadius: 0,\n        };\n      },\n      labelTextColor() {\n        return this.options.bodyColor;\n      },\n      labelPointStyle(tooltipItem) {\n        const meta = tooltipItem.chart.getDatasetMeta(tooltipItem.datasetIndex);\n        const options = meta.controller.getStyle(tooltipItem.dataIndex);\n        return {\n          pointStyle: options.pointStyle,\n          rotation: options.rotation,\n        };\n      },\n      afterLabel: noop,\n      afterBody: noop,\n      beforeFooter: noop,\n      footer: noop,\n      afterFooter: noop\n    }\n  },\n  defaultRoutes: {\n    bodyFont: 'font',\n    footerFont: 'font',\n    titleFont: 'font'\n  },\n  descriptors: {\n    _scriptable: (name) => name !== 'filter' && name !== 'itemSort' && name !== 'external',\n    _indexable: false,\n    callbacks: {\n      _scriptable: false,\n      _indexable: false,\n    },\n    animation: {\n      _fallback: false\n    },\n    animations: {\n      _fallback: 'animation'\n    }\n  },\n  additionalOptionScopes: ['interaction']\n};\n\nvar plugins = /*#__PURE__*/Object.freeze({\n__proto__: null,\nDecimation: plugin_decimation,\nFiller: plugin_filler,\nLegend: plugin_legend,\nSubTitle: plugin_subtitle,\nTitle: plugin_title,\nTooltip: plugin_tooltip\n});\n\nconst addIfString = (labels, raw, index, addedLabels) => {\n  if (typeof raw === 'string') {\n    index = labels.push(raw) - 1;\n    addedLabels.unshift({index, label: raw});\n  } else if (isNaN(raw)) {\n    index = null;\n  }\n  return index;\n};\nfunction findOrAddLabel(labels, raw, index, addedLabels) {\n  const first = labels.indexOf(raw);\n  if (first === -1) {\n    return addIfString(labels, raw, index, addedLabels);\n  }\n  const last = labels.lastIndexOf(raw);\n  return first !== last ? index : first;\n}\nconst validIndex = (index, max) => index === null ? null : _limitValue(Math.round(index), 0, max);\nclass CategoryScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this._startValue = undefined;\n    this._valueRange = 0;\n    this._addedLabels = [];\n  }\n  init(scaleOptions) {\n    const added = this._addedLabels;\n    if (added.length) {\n      const labels = this.getLabels();\n      for (const {index, label} of added) {\n        if (labels[index] === label) {\n          labels.splice(index, 1);\n        }\n      }\n      this._addedLabels = [];\n    }\n    super.init(scaleOptions);\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    const labels = this.getLabels();\n    index = isFinite(index) && labels[index] === raw ? index\n      : findOrAddLabel(labels, raw, valueOrDefault(index, raw), this._addedLabels);\n    return validIndex(index, labels.length - 1);\n  }\n  determineDataLimits() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this.getMinMax(true);\n    if (this.options.bounds === 'ticks') {\n      if (!minDefined) {\n        min = 0;\n      }\n      if (!maxDefined) {\n        max = this.getLabels().length - 1;\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const min = this.min;\n    const max = this.max;\n    const offset = this.options.offset;\n    const ticks = [];\n    let labels = this.getLabels();\n    labels = (min === 0 && max === labels.length - 1) ? labels : labels.slice(min, max + 1);\n    this._valueRange = Math.max(labels.length - (offset ? 0 : 1), 1);\n    this._startValue = this.min - (offset ? 0.5 : 0);\n    for (let value = min; value <= max; value++) {\n      ticks.push({value});\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    const labels = this.getLabels();\n    if (value >= 0 && value < labels.length) {\n      return labels[value];\n    }\n    return value;\n  }\n  configure() {\n    super.configure();\n    if (!this.isHorizontal()) {\n      this._reversePixels = !this._reversePixels;\n    }\n  }\n  getPixelForValue(value) {\n    if (typeof value !== 'number') {\n      value = this.parse(value);\n    }\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getPixelForTick(index) {\n    const ticks = this.ticks;\n    if (index < 0 || index > ticks.length - 1) {\n      return null;\n    }\n    return this.getPixelForValue(ticks[index].value);\n  }\n  getValueForPixel(pixel) {\n    return Math.round(this._startValue + this.getDecimalForPixel(pixel) * this._valueRange);\n  }\n  getBasePixel() {\n    return this.bottom;\n  }\n}\nCategoryScale.id = 'category';\nCategoryScale.defaults = {\n  ticks: {\n    callback: CategoryScale.prototype.getLabelForValue\n  }\n};\n\nfunction generateTicks$1(generationOptions, dataRange) {\n  const ticks = [];\n  const MIN_SPACING = 1e-14;\n  const {bounds, step, min, max, precision, count, maxTicks, maxDigits, includeBounds} = generationOptions;\n  const unit = step || 1;\n  const maxSpaces = maxTicks - 1;\n  const {min: rmin, max: rmax} = dataRange;\n  const minDefined = !isNullOrUndef(min);\n  const maxDefined = !isNullOrUndef(max);\n  const countDefined = !isNullOrUndef(count);\n  const minSpacing = (rmax - rmin) / (maxDigits + 1);\n  let spacing = niceNum((rmax - rmin) / maxSpaces / unit) * unit;\n  let factor, niceMin, niceMax, numSpaces;\n  if (spacing < MIN_SPACING && !minDefined && !maxDefined) {\n    return [{value: rmin}, {value: rmax}];\n  }\n  numSpaces = Math.ceil(rmax / spacing) - Math.floor(rmin / spacing);\n  if (numSpaces > maxSpaces) {\n    spacing = niceNum(numSpaces * spacing / maxSpaces / unit) * unit;\n  }\n  if (!isNullOrUndef(precision)) {\n    factor = Math.pow(10, precision);\n    spacing = Math.ceil(spacing * factor) / factor;\n  }\n  if (bounds === 'ticks') {\n    niceMin = Math.floor(rmin / spacing) * spacing;\n    niceMax = Math.ceil(rmax / spacing) * spacing;\n  } else {\n    niceMin = rmin;\n    niceMax = rmax;\n  }\n  if (minDefined && maxDefined && step && almostWhole((max - min) / step, spacing / 1000)) {\n    numSpaces = Math.round(Math.min((max - min) / spacing, maxTicks));\n    spacing = (max - min) / numSpaces;\n    niceMin = min;\n    niceMax = max;\n  } else if (countDefined) {\n    niceMin = minDefined ? min : niceMin;\n    niceMax = maxDefined ? max : niceMax;\n    numSpaces = count - 1;\n    spacing = (niceMax - niceMin) / numSpaces;\n  } else {\n    numSpaces = (niceMax - niceMin) / spacing;\n    if (almostEquals(numSpaces, Math.round(numSpaces), spacing / 1000)) {\n      numSpaces = Math.round(numSpaces);\n    } else {\n      numSpaces = Math.ceil(numSpaces);\n    }\n  }\n  const decimalPlaces = Math.max(\n    _decimalPlaces(spacing),\n    _decimalPlaces(niceMin)\n  );\n  factor = Math.pow(10, isNullOrUndef(precision) ? decimalPlaces : precision);\n  niceMin = Math.round(niceMin * factor) / factor;\n  niceMax = Math.round(niceMax * factor) / factor;\n  let j = 0;\n  if (minDefined) {\n    if (includeBounds && niceMin !== min) {\n      ticks.push({value: min});\n      if (niceMin < min) {\n        j++;\n      }\n      if (almostEquals(Math.round((niceMin + j * spacing) * factor) / factor, min, relativeLabelSize(min, minSpacing, generationOptions))) {\n        j++;\n      }\n    } else if (niceMin < min) {\n      j++;\n    }\n  }\n  for (; j < numSpaces; ++j) {\n    ticks.push({value: Math.round((niceMin + j * spacing) * factor) / factor});\n  }\n  if (maxDefined && includeBounds && niceMax !== max) {\n    if (ticks.length && almostEquals(ticks[ticks.length - 1].value, max, relativeLabelSize(max, minSpacing, generationOptions))) {\n      ticks[ticks.length - 1].value = max;\n    } else {\n      ticks.push({value: max});\n    }\n  } else if (!maxDefined || niceMax === max) {\n    ticks.push({value: niceMax});\n  }\n  return ticks;\n}\nfunction relativeLabelSize(value, minSpacing, {horizontal, minRotation}) {\n  const rad = toRadians(minRotation);\n  const ratio = (horizontal ? Math.sin(rad) : Math.cos(rad)) || 0.001;\n  const length = 0.75 * minSpacing * ('' + value).length;\n  return Math.min(minSpacing / ratio, length);\n}\nclass LinearScaleBase extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._endValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    if (isNullOrUndef(raw)) {\n      return null;\n    }\n    if ((typeof raw === 'number' || raw instanceof Number) && !isFinite(+raw)) {\n      return null;\n    }\n    return +raw;\n  }\n  handleTickRangeOptions() {\n    const {beginAtZero} = this.options;\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let {min, max} = this;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    if (beginAtZero) {\n      const minSign = sign(min);\n      const maxSign = sign(max);\n      if (minSign < 0 && maxSign < 0) {\n        setMax(0);\n      } else if (minSign > 0 && maxSign > 0) {\n        setMin(0);\n      }\n    }\n    if (min === max) {\n      let offset = 1;\n      if (max >= Number.MAX_SAFE_INTEGER || min <= Number.MIN_SAFE_INTEGER) {\n        offset = Math.abs(max * 0.05);\n      }\n      setMax(max + offset);\n      if (!beginAtZero) {\n        setMin(min - offset);\n      }\n    }\n    this.min = min;\n    this.max = max;\n  }\n  getTickLimit() {\n    const tickOpts = this.options.ticks;\n    let {maxTicksLimit, stepSize} = tickOpts;\n    let maxTicks;\n    if (stepSize) {\n      maxTicks = Math.ceil(this.max / stepSize) - Math.floor(this.min / stepSize) + 1;\n      if (maxTicks > 1000) {\n        console.warn(`scales.${this.id}.ticks.stepSize: ${stepSize} would result generating up to ${maxTicks} ticks. Limiting to 1000.`);\n        maxTicks = 1000;\n      }\n    } else {\n      maxTicks = this.computeTickLimit();\n      maxTicksLimit = maxTicksLimit || 11;\n    }\n    if (maxTicksLimit) {\n      maxTicks = Math.min(maxTicksLimit, maxTicks);\n    }\n    return maxTicks;\n  }\n  computeTickLimit() {\n    return Number.POSITIVE_INFINITY;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    let maxTicks = this.getTickLimit();\n    maxTicks = Math.max(2, maxTicks);\n    const numericGeneratorOptions = {\n      maxTicks,\n      bounds: opts.bounds,\n      min: opts.min,\n      max: opts.max,\n      precision: tickOpts.precision,\n      step: tickOpts.stepSize,\n      count: tickOpts.count,\n      maxDigits: this._maxDigits(),\n      horizontal: this.isHorizontal(),\n      minRotation: tickOpts.minRotation || 0,\n      includeBounds: tickOpts.includeBounds !== false\n    };\n    const dataRange = this._range || this;\n    const ticks = generateTicks$1(numericGeneratorOptions, dataRange);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  configure() {\n    const ticks = this.ticks;\n    let start = this.min;\n    let end = this.max;\n    super.configure();\n    if (this.options.offset && ticks.length) {\n      const offset = (end - start) / Math.max(ticks.length - 1, 1) / 2;\n      start -= offset;\n      end += offset;\n    }\n    this._startValue = start;\n    this._endValue = end;\n    this._valueRange = end - start;\n  }\n  getLabelForValue(value) {\n    return formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n}\n\nclass LinearScale extends LinearScaleBase {\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? min : 0;\n    this.max = isNumberFinite(max) ? max : 1;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    const horizontal = this.isHorizontal();\n    const length = horizontal ? this.width : this.height;\n    const minRotation = toRadians(this.options.ticks.minRotation);\n    const ratio = (horizontal ? Math.sin(minRotation) : Math.cos(minRotation)) || 0.001;\n    const tickFont = this._resolveTickFontOptions(0);\n    return Math.ceil(length / Math.min(40, tickFont.lineHeight / ratio));\n  }\n  getPixelForValue(value) {\n    return value === null ? NaN : this.getPixelForDecimal((value - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    return this._startValue + this.getDecimalForPixel(pixel) * this._valueRange;\n  }\n}\nLinearScale.id = 'linear';\nLinearScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.numeric\n  }\n};\n\nfunction isMajor(tickVal) {\n  const remain = tickVal / (Math.pow(10, Math.floor(log10(tickVal))));\n  return remain === 1;\n}\nfunction generateTicks(generationOptions, dataRange) {\n  const endExp = Math.floor(log10(dataRange.max));\n  const endSignificand = Math.ceil(dataRange.max / Math.pow(10, endExp));\n  const ticks = [];\n  let tickVal = finiteOrDefault(generationOptions.min, Math.pow(10, Math.floor(log10(dataRange.min))));\n  let exp = Math.floor(log10(tickVal));\n  let significand = Math.floor(tickVal / Math.pow(10, exp));\n  let precision = exp < 0 ? Math.pow(10, Math.abs(exp)) : 1;\n  do {\n    ticks.push({value: tickVal, major: isMajor(tickVal)});\n    ++significand;\n    if (significand === 10) {\n      significand = 1;\n      ++exp;\n      precision = exp >= 0 ? 1 : precision;\n    }\n    tickVal = Math.round(significand * Math.pow(10, exp) * precision) / precision;\n  } while (exp < endExp || (exp === endExp && significand < endSignificand));\n  const lastTick = finiteOrDefault(generationOptions.max, tickVal);\n  ticks.push({value: lastTick, major: isMajor(tickVal)});\n  return ticks;\n}\nclass LogarithmicScale extends Scale {\n  constructor(cfg) {\n    super(cfg);\n    this.start = undefined;\n    this.end = undefined;\n    this._startValue = undefined;\n    this._valueRange = 0;\n  }\n  parse(raw, index) {\n    const value = LinearScaleBase.prototype.parse.apply(this, [raw, index]);\n    if (value === 0) {\n      this._zero = true;\n      return undefined;\n    }\n    return isNumberFinite(value) && value > 0 ? value : null;\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(true);\n    this.min = isNumberFinite(min) ? Math.max(0, min) : null;\n    this.max = isNumberFinite(max) ? Math.max(0, max) : null;\n    if (this.options.beginAtZero) {\n      this._zero = true;\n    }\n    this.handleTickRangeOptions();\n  }\n  handleTickRangeOptions() {\n    const {minDefined, maxDefined} = this.getUserBounds();\n    let min = this.min;\n    let max = this.max;\n    const setMin = v => (min = minDefined ? min : v);\n    const setMax = v => (max = maxDefined ? max : v);\n    const exp = (v, m) => Math.pow(10, Math.floor(log10(v)) + m);\n    if (min === max) {\n      if (min <= 0) {\n        setMin(1);\n        setMax(10);\n      } else {\n        setMin(exp(min, -1));\n        setMax(exp(max, +1));\n      }\n    }\n    if (min <= 0) {\n      setMin(exp(max, -1));\n    }\n    if (max <= 0) {\n      setMax(exp(min, +1));\n    }\n    if (this._zero && this.min !== this._suggestedMin && min === exp(this.min, 0)) {\n      setMin(exp(min, -1));\n    }\n    this.min = min;\n    this.max = max;\n  }\n  buildTicks() {\n    const opts = this.options;\n    const generationOptions = {\n      min: this._userMin,\n      max: this._userMax\n    };\n    const ticks = generateTicks(generationOptions, this);\n    if (opts.bounds === 'ticks') {\n      _setMinAndMaxByKey(ticks, this, 'value');\n    }\n    if (opts.reverse) {\n      ticks.reverse();\n      this.start = this.max;\n      this.end = this.min;\n    } else {\n      this.start = this.min;\n      this.end = this.max;\n    }\n    return ticks;\n  }\n  getLabelForValue(value) {\n    return value === undefined\n      ? '0'\n      : formatNumber(value, this.chart.options.locale, this.options.ticks.format);\n  }\n  configure() {\n    const start = this.min;\n    super.configure();\n    this._startValue = log10(start);\n    this._valueRange = log10(this.max) - log10(start);\n  }\n  getPixelForValue(value) {\n    if (value === undefined || value === 0) {\n      value = this.min;\n    }\n    if (value === null || isNaN(value)) {\n      return NaN;\n    }\n    return this.getPixelForDecimal(value === this.min\n      ? 0\n      : (log10(value) - this._startValue) / this._valueRange);\n  }\n  getValueForPixel(pixel) {\n    const decimal = this.getDecimalForPixel(pixel);\n    return Math.pow(10, this._startValue + decimal * this._valueRange);\n  }\n}\nLogarithmicScale.id = 'logarithmic';\nLogarithmicScale.defaults = {\n  ticks: {\n    callback: Ticks.formatters.logarithmic,\n    major: {\n      enabled: true\n    }\n  }\n};\n\nfunction getTickBackdropHeight(opts) {\n  const tickOpts = opts.ticks;\n  if (tickOpts.display && opts.display) {\n    const padding = toPadding(tickOpts.backdropPadding);\n    return valueOrDefault(tickOpts.font && tickOpts.font.size, defaults.font.size) + padding.height;\n  }\n  return 0;\n}\nfunction measureLabelSize(ctx, font, label) {\n  label = isArray(label) ? label : [label];\n  return {\n    w: _longestText(ctx, font.string, label),\n    h: label.length * font.lineHeight\n  };\n}\nfunction determineLimits(angle, pos, size, min, max) {\n  if (angle === min || angle === max) {\n    return {\n      start: pos - (size / 2),\n      end: pos + (size / 2)\n    };\n  } else if (angle < min || angle > max) {\n    return {\n      start: pos - size,\n      end: pos\n    };\n  }\n  return {\n    start: pos,\n    end: pos + size\n  };\n}\nfunction fitWithPointLabels(scale) {\n  const orig = {\n    l: scale.left + scale._padding.left,\n    r: scale.right - scale._padding.right,\n    t: scale.top + scale._padding.top,\n    b: scale.bottom - scale._padding.bottom\n  };\n  const limits = Object.assign({}, orig);\n  const labelSizes = [];\n  const padding = [];\n  const valueCount = scale._pointLabels.length;\n  const pointLabelOpts = scale.options.pointLabels;\n  const additionalAngle = pointLabelOpts.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const opts = pointLabelOpts.setContext(scale.getPointLabelContext(i));\n    padding[i] = opts.padding;\n    const pointPosition = scale.getPointPosition(i, scale.drawingArea + padding[i], additionalAngle);\n    const plFont = toFont(opts.font);\n    const textSize = measureLabelSize(scale.ctx, plFont, scale._pointLabels[i]);\n    labelSizes[i] = textSize;\n    const angleRadians = _normalizeAngle(scale.getIndexAngle(i) + additionalAngle);\n    const angle = Math.round(toDegrees(angleRadians));\n    const hLimits = determineLimits(angle, pointPosition.x, textSize.w, 0, 180);\n    const vLimits = determineLimits(angle, pointPosition.y, textSize.h, 90, 270);\n    updateLimits(limits, orig, angleRadians, hLimits, vLimits);\n  }\n  scale.setCenterPoint(\n    orig.l - limits.l,\n    limits.r - orig.r,\n    orig.t - limits.t,\n    limits.b - orig.b\n  );\n  scale._pointLabelItems = buildPointLabelItems(scale, labelSizes, padding);\n}\nfunction updateLimits(limits, orig, angle, hLimits, vLimits) {\n  const sin = Math.abs(Math.sin(angle));\n  const cos = Math.abs(Math.cos(angle));\n  let x = 0;\n  let y = 0;\n  if (hLimits.start < orig.l) {\n    x = (orig.l - hLimits.start) / sin;\n    limits.l = Math.min(limits.l, orig.l - x);\n  } else if (hLimits.end > orig.r) {\n    x = (hLimits.end - orig.r) / sin;\n    limits.r = Math.max(limits.r, orig.r + x);\n  }\n  if (vLimits.start < orig.t) {\n    y = (orig.t - vLimits.start) / cos;\n    limits.t = Math.min(limits.t, orig.t - y);\n  } else if (vLimits.end > orig.b) {\n    y = (vLimits.end - orig.b) / cos;\n    limits.b = Math.max(limits.b, orig.b + y);\n  }\n}\nfunction buildPointLabelItems(scale, labelSizes, padding) {\n  const items = [];\n  const valueCount = scale._pointLabels.length;\n  const opts = scale.options;\n  const extra = getTickBackdropHeight(opts) / 2;\n  const outerDistance = scale.drawingArea;\n  const additionalAngle = opts.pointLabels.centerPointLabels ? PI / valueCount : 0;\n  for (let i = 0; i < valueCount; i++) {\n    const pointLabelPosition = scale.getPointPosition(i, outerDistance + extra + padding[i], additionalAngle);\n    const angle = Math.round(toDegrees(_normalizeAngle(pointLabelPosition.angle + HALF_PI)));\n    const size = labelSizes[i];\n    const y = yForAngle(pointLabelPosition.y, size.h, angle);\n    const textAlign = getTextAlignForAngle(angle);\n    const left = leftForTextAlign(pointLabelPosition.x, size.w, textAlign);\n    items.push({\n      x: pointLabelPosition.x,\n      y,\n      textAlign,\n      left,\n      top: y,\n      right: left + size.w,\n      bottom: y + size.h\n    });\n  }\n  return items;\n}\nfunction getTextAlignForAngle(angle) {\n  if (angle === 0 || angle === 180) {\n    return 'center';\n  } else if (angle < 180) {\n    return 'left';\n  }\n  return 'right';\n}\nfunction leftForTextAlign(x, w, align) {\n  if (align === 'right') {\n    x -= w;\n  } else if (align === 'center') {\n    x -= (w / 2);\n  }\n  return x;\n}\nfunction yForAngle(y, h, angle) {\n  if (angle === 90 || angle === 270) {\n    y -= (h / 2);\n  } else if (angle > 270 || angle < 90) {\n    y -= h;\n  }\n  return y;\n}\nfunction drawPointLabels(scale, labelCount) {\n  const {ctx, options: {pointLabels}} = scale;\n  for (let i = labelCount - 1; i >= 0; i--) {\n    const optsAtIndex = pointLabels.setContext(scale.getPointLabelContext(i));\n    const plFont = toFont(optsAtIndex.font);\n    const {x, y, textAlign, left, top, right, bottom} = scale._pointLabelItems[i];\n    const {backdropColor} = optsAtIndex;\n    if (!isNullOrUndef(backdropColor)) {\n      const padding = toPadding(optsAtIndex.backdropPadding);\n      ctx.fillStyle = backdropColor;\n      ctx.fillRect(left - padding.left, top - padding.top, right - left + padding.width, bottom - top + padding.height);\n    }\n    renderText(\n      ctx,\n      scale._pointLabels[i],\n      x,\n      y + (plFont.lineHeight / 2),\n      plFont,\n      {\n        color: optsAtIndex.color,\n        textAlign: textAlign,\n        textBaseline: 'middle'\n      }\n    );\n  }\n}\nfunction pathRadiusLine(scale, radius, circular, labelCount) {\n  const {ctx} = scale;\n  if (circular) {\n    ctx.arc(scale.xCenter, scale.yCenter, radius, 0, TAU);\n  } else {\n    let pointPosition = scale.getPointPosition(0, radius);\n    ctx.moveTo(pointPosition.x, pointPosition.y);\n    for (let i = 1; i < labelCount; i++) {\n      pointPosition = scale.getPointPosition(i, radius);\n      ctx.lineTo(pointPosition.x, pointPosition.y);\n    }\n  }\n}\nfunction drawRadiusLine(scale, gridLineOpts, radius, labelCount) {\n  const ctx = scale.ctx;\n  const circular = gridLineOpts.circular;\n  const {color, lineWidth} = gridLineOpts;\n  if ((!circular && !labelCount) || !color || !lineWidth || radius < 0) {\n    return;\n  }\n  ctx.save();\n  ctx.strokeStyle = color;\n  ctx.lineWidth = lineWidth;\n  ctx.setLineDash(gridLineOpts.borderDash);\n  ctx.lineDashOffset = gridLineOpts.borderDashOffset;\n  ctx.beginPath();\n  pathRadiusLine(scale, radius, circular, labelCount);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.restore();\n}\nfunction createPointLabelContext(parent, index, label) {\n  return createContext(parent, {\n    label,\n    index,\n    type: 'pointLabel'\n  });\n}\nclass RadialLinearScale extends LinearScaleBase {\n  constructor(cfg) {\n    super(cfg);\n    this.xCenter = undefined;\n    this.yCenter = undefined;\n    this.drawingArea = undefined;\n    this._pointLabels = [];\n    this._pointLabelItems = [];\n  }\n  setDimensions() {\n    const padding = this._padding = toPadding(getTickBackdropHeight(this.options) / 2);\n    const w = this.width = this.maxWidth - padding.width;\n    const h = this.height = this.maxHeight - padding.height;\n    this.xCenter = Math.floor(this.left + w / 2 + padding.left);\n    this.yCenter = Math.floor(this.top + h / 2 + padding.top);\n    this.drawingArea = Math.floor(Math.min(w, h) / 2);\n  }\n  determineDataLimits() {\n    const {min, max} = this.getMinMax(false);\n    this.min = isNumberFinite(min) && !isNaN(min) ? min : 0;\n    this.max = isNumberFinite(max) && !isNaN(max) ? max : 0;\n    this.handleTickRangeOptions();\n  }\n  computeTickLimit() {\n    return Math.ceil(this.drawingArea / getTickBackdropHeight(this.options));\n  }\n  generateTickLabels(ticks) {\n    LinearScaleBase.prototype.generateTickLabels.call(this, ticks);\n    this._pointLabels = this.getLabels()\n      .map((value, index) => {\n        const label = callback(this.options.pointLabels.callback, [value, index], this);\n        return label || label === 0 ? label : '';\n      })\n      .filter((v, i) => this.chart.getDataVisibility(i));\n  }\n  fit() {\n    const opts = this.options;\n    if (opts.display && opts.pointLabels.display) {\n      fitWithPointLabels(this);\n    } else {\n      this.setCenterPoint(0, 0, 0, 0);\n    }\n  }\n  setCenterPoint(leftMovement, rightMovement, topMovement, bottomMovement) {\n    this.xCenter += Math.floor((leftMovement - rightMovement) / 2);\n    this.yCenter += Math.floor((topMovement - bottomMovement) / 2);\n    this.drawingArea -= Math.min(this.drawingArea / 2, Math.max(leftMovement, rightMovement, topMovement, bottomMovement));\n  }\n  getIndexAngle(index) {\n    const angleMultiplier = TAU / (this._pointLabels.length || 1);\n    const startAngle = this.options.startAngle || 0;\n    return _normalizeAngle(index * angleMultiplier + toRadians(startAngle));\n  }\n  getDistanceFromCenterForValue(value) {\n    if (isNullOrUndef(value)) {\n      return NaN;\n    }\n    const scalingFactor = this.drawingArea / (this.max - this.min);\n    if (this.options.reverse) {\n      return (this.max - value) * scalingFactor;\n    }\n    return (value - this.min) * scalingFactor;\n  }\n  getValueForDistanceFromCenter(distance) {\n    if (isNullOrUndef(distance)) {\n      return NaN;\n    }\n    const scaledDistance = distance / (this.drawingArea / (this.max - this.min));\n    return this.options.reverse ? this.max - scaledDistance : this.min + scaledDistance;\n  }\n  getPointLabelContext(index) {\n    const pointLabels = this._pointLabels || [];\n    if (index >= 0 && index < pointLabels.length) {\n      const pointLabel = pointLabels[index];\n      return createPointLabelContext(this.getContext(), index, pointLabel);\n    }\n  }\n  getPointPosition(index, distanceFromCenter, additionalAngle = 0) {\n    const angle = this.getIndexAngle(index) - HALF_PI + additionalAngle;\n    return {\n      x: Math.cos(angle) * distanceFromCenter + this.xCenter,\n      y: Math.sin(angle) * distanceFromCenter + this.yCenter,\n      angle\n    };\n  }\n  getPointPositionForValue(index, value) {\n    return this.getPointPosition(index, this.getDistanceFromCenterForValue(value));\n  }\n  getBasePosition(index) {\n    return this.getPointPositionForValue(index || 0, this.getBaseValue());\n  }\n  getPointLabelPosition(index) {\n    const {left, top, right, bottom} = this._pointLabelItems[index];\n    return {\n      left,\n      top,\n      right,\n      bottom,\n    };\n  }\n  drawBackground() {\n    const {backgroundColor, grid: {circular}} = this.options;\n    if (backgroundColor) {\n      const ctx = this.ctx;\n      ctx.save();\n      ctx.beginPath();\n      pathRadiusLine(this, this.getDistanceFromCenterForValue(this._endValue), circular, this._pointLabels.length);\n      ctx.closePath();\n      ctx.fillStyle = backgroundColor;\n      ctx.fill();\n      ctx.restore();\n    }\n  }\n  drawGrid() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const {angleLines, grid} = opts;\n    const labelCount = this._pointLabels.length;\n    let i, offset, position;\n    if (opts.pointLabels.display) {\n      drawPointLabels(this, labelCount);\n    }\n    if (grid.display) {\n      this.ticks.forEach((tick, index) => {\n        if (index !== 0) {\n          offset = this.getDistanceFromCenterForValue(tick.value);\n          const optsAtIndex = grid.setContext(this.getContext(index - 1));\n          drawRadiusLine(this, optsAtIndex, offset, labelCount);\n        }\n      });\n    }\n    if (angleLines.display) {\n      ctx.save();\n      for (i = labelCount - 1; i >= 0; i--) {\n        const optsAtIndex = angleLines.setContext(this.getPointLabelContext(i));\n        const {color, lineWidth} = optsAtIndex;\n        if (!lineWidth || !color) {\n          continue;\n        }\n        ctx.lineWidth = lineWidth;\n        ctx.strokeStyle = color;\n        ctx.setLineDash(optsAtIndex.borderDash);\n        ctx.lineDashOffset = optsAtIndex.borderDashOffset;\n        offset = this.getDistanceFromCenterForValue(opts.ticks.reverse ? this.min : this.max);\n        position = this.getPointPosition(i, offset);\n        ctx.beginPath();\n        ctx.moveTo(this.xCenter, this.yCenter);\n        ctx.lineTo(position.x, position.y);\n        ctx.stroke();\n      }\n      ctx.restore();\n    }\n  }\n  drawBorder() {}\n  drawLabels() {\n    const ctx = this.ctx;\n    const opts = this.options;\n    const tickOpts = opts.ticks;\n    if (!tickOpts.display) {\n      return;\n    }\n    const startAngle = this.getIndexAngle(0);\n    let offset, width;\n    ctx.save();\n    ctx.translate(this.xCenter, this.yCenter);\n    ctx.rotate(startAngle);\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'middle';\n    this.ticks.forEach((tick, index) => {\n      if (index === 0 && !opts.reverse) {\n        return;\n      }\n      const optsAtIndex = tickOpts.setContext(this.getContext(index));\n      const tickFont = toFont(optsAtIndex.font);\n      offset = this.getDistanceFromCenterForValue(this.ticks[index].value);\n      if (optsAtIndex.showLabelBackdrop) {\n        ctx.font = tickFont.string;\n        width = ctx.measureText(tick.label).width;\n        ctx.fillStyle = optsAtIndex.backdropColor;\n        const padding = toPadding(optsAtIndex.backdropPadding);\n        ctx.fillRect(\n          -width / 2 - padding.left,\n          -offset - tickFont.size / 2 - padding.top,\n          width + padding.width,\n          tickFont.size + padding.height\n        );\n      }\n      renderText(ctx, tick.label, 0, -offset, tickFont, {\n        color: optsAtIndex.color,\n      });\n    });\n    ctx.restore();\n  }\n  drawTitle() {}\n}\nRadialLinearScale.id = 'radialLinear';\nRadialLinearScale.defaults = {\n  display: true,\n  animate: true,\n  position: 'chartArea',\n  angleLines: {\n    display: true,\n    lineWidth: 1,\n    borderDash: [],\n    borderDashOffset: 0.0\n  },\n  grid: {\n    circular: false\n  },\n  startAngle: 0,\n  ticks: {\n    showLabelBackdrop: true,\n    callback: Ticks.formatters.numeric\n  },\n  pointLabels: {\n    backdropColor: undefined,\n    backdropPadding: 2,\n    display: true,\n    font: {\n      size: 10\n    },\n    callback(label) {\n      return label;\n    },\n    padding: 5,\n    centerPointLabels: false\n  }\n};\nRadialLinearScale.defaultRoutes = {\n  'angleLines.color': 'borderColor',\n  'pointLabels.color': 'color',\n  'ticks.color': 'color'\n};\nRadialLinearScale.descriptors = {\n  angleLines: {\n    _fallback: 'grid'\n  }\n};\n\nconst INTERVALS = {\n  millisecond: {common: true, size: 1, steps: 1000},\n  second: {common: true, size: 1000, steps: 60},\n  minute: {common: true, size: 60000, steps: 60},\n  hour: {common: true, size: 3600000, steps: 24},\n  day: {common: true, size: 86400000, steps: 30},\n  week: {common: false, size: 604800000, steps: 4},\n  month: {common: true, size: 2.628e9, steps: 12},\n  quarter: {common: false, size: 7.884e9, steps: 4},\n  year: {common: true, size: 3.154e10}\n};\nconst UNITS = (Object.keys(INTERVALS));\nfunction sorter(a, b) {\n  return a - b;\n}\nfunction parse(scale, input) {\n  if (isNullOrUndef(input)) {\n    return null;\n  }\n  const adapter = scale._adapter;\n  const {parser, round, isoWeekday} = scale._parseOpts;\n  let value = input;\n  if (typeof parser === 'function') {\n    value = parser(value);\n  }\n  if (!isNumberFinite(value)) {\n    value = typeof parser === 'string'\n      ? adapter.parse(value, parser)\n      : adapter.parse(value);\n  }\n  if (value === null) {\n    return null;\n  }\n  if (round) {\n    value = round === 'week' && (isNumber(isoWeekday) || isoWeekday === true)\n      ? adapter.startOf(value, 'isoWeek', isoWeekday)\n      : adapter.startOf(value, round);\n  }\n  return +value;\n}\nfunction determineUnitForAutoTicks(minUnit, min, max, capacity) {\n  const ilen = UNITS.length;\n  for (let i = UNITS.indexOf(minUnit); i < ilen - 1; ++i) {\n    const interval = INTERVALS[UNITS[i]];\n    const factor = interval.steps ? interval.steps : Number.MAX_SAFE_INTEGER;\n    if (interval.common && Math.ceil((max - min) / (factor * interval.size)) <= capacity) {\n      return UNITS[i];\n    }\n  }\n  return UNITS[ilen - 1];\n}\nfunction determineUnitForFormatting(scale, numTicks, minUnit, min, max) {\n  for (let i = UNITS.length - 1; i >= UNITS.indexOf(minUnit); i--) {\n    const unit = UNITS[i];\n    if (INTERVALS[unit].common && scale._adapter.diff(max, min, unit) >= numTicks - 1) {\n      return unit;\n    }\n  }\n  return UNITS[minUnit ? UNITS.indexOf(minUnit) : 0];\n}\nfunction determineMajorUnit(unit) {\n  for (let i = UNITS.indexOf(unit) + 1, ilen = UNITS.length; i < ilen; ++i) {\n    if (INTERVALS[UNITS[i]].common) {\n      return UNITS[i];\n    }\n  }\n}\nfunction addTick(ticks, time, timestamps) {\n  if (!timestamps) {\n    ticks[time] = true;\n  } else if (timestamps.length) {\n    const {lo, hi} = _lookup(timestamps, time);\n    const timestamp = timestamps[lo] >= time ? timestamps[lo] : timestamps[hi];\n    ticks[timestamp] = true;\n  }\n}\nfunction setMajorTicks(scale, ticks, map, majorUnit) {\n  const adapter = scale._adapter;\n  const first = +adapter.startOf(ticks[0].value, majorUnit);\n  const last = ticks[ticks.length - 1].value;\n  let major, index;\n  for (major = first; major <= last; major = +adapter.add(major, 1, majorUnit)) {\n    index = map[major];\n    if (index >= 0) {\n      ticks[index].major = true;\n    }\n  }\n  return ticks;\n}\nfunction ticksFromTimestamps(scale, values, majorUnit) {\n  const ticks = [];\n  const map = {};\n  const ilen = values.length;\n  let i, value;\n  for (i = 0; i < ilen; ++i) {\n    value = values[i];\n    map[value] = i;\n    ticks.push({\n      value,\n      major: false\n    });\n  }\n  return (ilen === 0 || !majorUnit) ? ticks : setMajorTicks(scale, ticks, map, majorUnit);\n}\nclass TimeScale extends Scale {\n  constructor(props) {\n    super(props);\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n    this._unit = 'day';\n    this._majorUnit = undefined;\n    this._offsets = {};\n    this._normalized = false;\n    this._parseOpts = undefined;\n  }\n  init(scaleOpts, opts) {\n    const time = scaleOpts.time || (scaleOpts.time = {});\n    const adapter = this._adapter = new adapters._date(scaleOpts.adapters.date);\n    mergeIf(time.displayFormats, adapter.formats());\n    this._parseOpts = {\n      parser: time.parser,\n      round: time.round,\n      isoWeekday: time.isoWeekday\n    };\n    super.init(scaleOpts);\n    this._normalized = opts.normalized;\n  }\n  parse(raw, index) {\n    if (raw === undefined) {\n      return null;\n    }\n    return parse(this, raw);\n  }\n  beforeLayout() {\n    super.beforeLayout();\n    this._cache = {\n      data: [],\n      labels: [],\n      all: []\n    };\n  }\n  determineDataLimits() {\n    const options = this.options;\n    const adapter = this._adapter;\n    const unit = options.time.unit || 'day';\n    let {min, max, minDefined, maxDefined} = this.getUserBounds();\n    function _applyBounds(bounds) {\n      if (!minDefined && !isNaN(bounds.min)) {\n        min = Math.min(min, bounds.min);\n      }\n      if (!maxDefined && !isNaN(bounds.max)) {\n        max = Math.max(max, bounds.max);\n      }\n    }\n    if (!minDefined || !maxDefined) {\n      _applyBounds(this._getLabelBounds());\n      if (options.bounds !== 'ticks' || options.ticks.source !== 'labels') {\n        _applyBounds(this.getMinMax(false));\n      }\n    }\n    min = isNumberFinite(min) && !isNaN(min) ? min : +adapter.startOf(Date.now(), unit);\n    max = isNumberFinite(max) && !isNaN(max) ? max : +adapter.endOf(Date.now(), unit) + 1;\n    this.min = Math.min(min, max - 1);\n    this.max = Math.max(min + 1, max);\n  }\n  _getLabelBounds() {\n    const arr = this.getLabelTimestamps();\n    let min = Number.POSITIVE_INFINITY;\n    let max = Number.NEGATIVE_INFINITY;\n    if (arr.length) {\n      min = arr[0];\n      max = arr[arr.length - 1];\n    }\n    return {min, max};\n  }\n  buildTicks() {\n    const options = this.options;\n    const timeOpts = options.time;\n    const tickOpts = options.ticks;\n    const timestamps = tickOpts.source === 'labels' ? this.getLabelTimestamps() : this._generate();\n    if (options.bounds === 'ticks' && timestamps.length) {\n      this.min = this._userMin || timestamps[0];\n      this.max = this._userMax || timestamps[timestamps.length - 1];\n    }\n    const min = this.min;\n    const max = this.max;\n    const ticks = _filterBetween(timestamps, min, max);\n    this._unit = timeOpts.unit || (tickOpts.autoSkip\n      ? determineUnitForAutoTicks(timeOpts.minUnit, this.min, this.max, this._getLabelCapacity(min))\n      : determineUnitForFormatting(this, ticks.length, timeOpts.minUnit, this.min, this.max));\n    this._majorUnit = !tickOpts.major.enabled || this._unit === 'year' ? undefined\n      : determineMajorUnit(this._unit);\n    this.initOffsets(timestamps);\n    if (options.reverse) {\n      ticks.reverse();\n    }\n    return ticksFromTimestamps(this, ticks, this._majorUnit);\n  }\n  initOffsets(timestamps) {\n    let start = 0;\n    let end = 0;\n    let first, last;\n    if (this.options.offset && timestamps.length) {\n      first = this.getDecimalForValue(timestamps[0]);\n      if (timestamps.length === 1) {\n        start = 1 - first;\n      } else {\n        start = (this.getDecimalForValue(timestamps[1]) - first) / 2;\n      }\n      last = this.getDecimalForValue(timestamps[timestamps.length - 1]);\n      if (timestamps.length === 1) {\n        end = last;\n      } else {\n        end = (last - this.getDecimalForValue(timestamps[timestamps.length - 2])) / 2;\n      }\n    }\n    const limit = timestamps.length < 3 ? 0.5 : 0.25;\n    start = _limitValue(start, 0, limit);\n    end = _limitValue(end, 0, limit);\n    this._offsets = {start, end, factor: 1 / (start + 1 + end)};\n  }\n  _generate() {\n    const adapter = this._adapter;\n    const min = this.min;\n    const max = this.max;\n    const options = this.options;\n    const timeOpts = options.time;\n    const minor = timeOpts.unit || determineUnitForAutoTicks(timeOpts.minUnit, min, max, this._getLabelCapacity(min));\n    const stepSize = valueOrDefault(timeOpts.stepSize, 1);\n    const weekday = minor === 'week' ? timeOpts.isoWeekday : false;\n    const hasWeekday = isNumber(weekday) || weekday === true;\n    const ticks = {};\n    let first = min;\n    let time, count;\n    if (hasWeekday) {\n      first = +adapter.startOf(first, 'isoWeek', weekday);\n    }\n    first = +adapter.startOf(first, hasWeekday ? 'day' : minor);\n    if (adapter.diff(max, min, minor) > 100000 * stepSize) {\n      throw new Error(min + ' and ' + max + ' are too far apart with stepSize of ' + stepSize + ' ' + minor);\n    }\n    const timestamps = options.ticks.source === 'data' && this.getDataTimestamps();\n    for (time = first, count = 0; time < max; time = +adapter.add(time, stepSize, minor), count++) {\n      addTick(ticks, time, timestamps);\n    }\n    if (time === max || options.bounds === 'ticks' || count === 1) {\n      addTick(ticks, time, timestamps);\n    }\n    return Object.keys(ticks).sort((a, b) => a - b).map(x => +x);\n  }\n  getLabelForValue(value) {\n    const adapter = this._adapter;\n    const timeOpts = this.options.time;\n    if (timeOpts.tooltipFormat) {\n      return adapter.format(value, timeOpts.tooltipFormat);\n    }\n    return adapter.format(value, timeOpts.displayFormats.datetime);\n  }\n  _tickFormatFunction(time, index, ticks, format) {\n    const options = this.options;\n    const formats = options.time.displayFormats;\n    const unit = this._unit;\n    const majorUnit = this._majorUnit;\n    const minorFormat = unit && formats[unit];\n    const majorFormat = majorUnit && formats[majorUnit];\n    const tick = ticks[index];\n    const major = majorUnit && majorFormat && tick && tick.major;\n    const label = this._adapter.format(time, format || (major ? majorFormat : minorFormat));\n    const formatter = options.ticks.callback;\n    return formatter ? callback(formatter, [label, index, ticks], this) : label;\n  }\n  generateTickLabels(ticks) {\n    let i, ilen, tick;\n    for (i = 0, ilen = ticks.length; i < ilen; ++i) {\n      tick = ticks[i];\n      tick.label = this._tickFormatFunction(tick.value, i, ticks);\n    }\n  }\n  getDecimalForValue(value) {\n    return value === null ? NaN : (value - this.min) / (this.max - this.min);\n  }\n  getPixelForValue(value) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForValue(value);\n    return this.getPixelForDecimal((offsets.start + pos) * offsets.factor);\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const pos = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return this.min + pos * (this.max - this.min);\n  }\n  _getLabelSize(label) {\n    const ticksOpts = this.options.ticks;\n    const tickLabelWidth = this.ctx.measureText(label).width;\n    const angle = toRadians(this.isHorizontal() ? ticksOpts.maxRotation : ticksOpts.minRotation);\n    const cosRotation = Math.cos(angle);\n    const sinRotation = Math.sin(angle);\n    const tickFontSize = this._resolveTickFontOptions(0).size;\n    return {\n      w: (tickLabelWidth * cosRotation) + (tickFontSize * sinRotation),\n      h: (tickLabelWidth * sinRotation) + (tickFontSize * cosRotation)\n    };\n  }\n  _getLabelCapacity(exampleTime) {\n    const timeOpts = this.options.time;\n    const displayFormats = timeOpts.displayFormats;\n    const format = displayFormats[timeOpts.unit] || displayFormats.millisecond;\n    const exampleLabel = this._tickFormatFunction(exampleTime, 0, ticksFromTimestamps(this, [exampleTime], this._majorUnit), format);\n    const size = this._getLabelSize(exampleLabel);\n    const capacity = Math.floor(this.isHorizontal() ? this.width / size.w : this.height / size.h) - 1;\n    return capacity > 0 ? capacity : 1;\n  }\n  getDataTimestamps() {\n    let timestamps = this._cache.data || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const metas = this.getMatchingVisibleMetas();\n    if (this._normalized && metas.length) {\n      return (this._cache.data = metas[0].controller.getAllParsedValues(this));\n    }\n    for (i = 0, ilen = metas.length; i < ilen; ++i) {\n      timestamps = timestamps.concat(metas[i].controller.getAllParsedValues(this));\n    }\n    return (this._cache.data = this.normalize(timestamps));\n  }\n  getLabelTimestamps() {\n    const timestamps = this._cache.labels || [];\n    let i, ilen;\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const labels = this.getLabels();\n    for (i = 0, ilen = labels.length; i < ilen; ++i) {\n      timestamps.push(parse(this, labels[i]));\n    }\n    return (this._cache.labels = this._normalized ? timestamps : this.normalize(timestamps));\n  }\n  normalize(values) {\n    return _arrayUnique(values.sort(sorter));\n  }\n}\nTimeScale.id = 'time';\nTimeScale.defaults = {\n  bounds: 'data',\n  adapters: {},\n  time: {\n    parser: false,\n    unit: false,\n    round: false,\n    isoWeekday: false,\n    minUnit: 'millisecond',\n    displayFormats: {}\n  },\n  ticks: {\n    source: 'auto',\n    major: {\n      enabled: false\n    }\n  }\n};\n\nfunction interpolate(table, val, reverse) {\n  let lo = 0;\n  let hi = table.length - 1;\n  let prevSource, nextSource, prevTarget, nextTarget;\n  if (reverse) {\n    if (val >= table[lo].pos && val <= table[hi].pos) {\n      ({lo, hi} = _lookupByKey(table, 'pos', val));\n    }\n    ({pos: prevSource, time: prevTarget} = table[lo]);\n    ({pos: nextSource, time: nextTarget} = table[hi]);\n  } else {\n    if (val >= table[lo].time && val <= table[hi].time) {\n      ({lo, hi} = _lookupByKey(table, 'time', val));\n    }\n    ({time: prevSource, pos: prevTarget} = table[lo]);\n    ({time: nextSource, pos: nextTarget} = table[hi]);\n  }\n  const span = nextSource - prevSource;\n  return span ? prevTarget + (nextTarget - prevTarget) * (val - prevSource) / span : prevTarget;\n}\nclass TimeSeriesScale extends TimeScale {\n  constructor(props) {\n    super(props);\n    this._table = [];\n    this._minPos = undefined;\n    this._tableRange = undefined;\n  }\n  initOffsets() {\n    const timestamps = this._getTimestampsForTable();\n    const table = this._table = this.buildLookupTable(timestamps);\n    this._minPos = interpolate(table, this.min);\n    this._tableRange = interpolate(table, this.max) - this._minPos;\n    super.initOffsets(timestamps);\n  }\n  buildLookupTable(timestamps) {\n    const {min, max} = this;\n    const items = [];\n    const table = [];\n    let i, ilen, prev, curr, next;\n    for (i = 0, ilen = timestamps.length; i < ilen; ++i) {\n      curr = timestamps[i];\n      if (curr >= min && curr <= max) {\n        items.push(curr);\n      }\n    }\n    if (items.length < 2) {\n      return [\n        {time: min, pos: 0},\n        {time: max, pos: 1}\n      ];\n    }\n    for (i = 0, ilen = items.length; i < ilen; ++i) {\n      next = items[i + 1];\n      prev = items[i - 1];\n      curr = items[i];\n      if (Math.round((next + prev) / 2) !== curr) {\n        table.push({time: curr, pos: i / (ilen - 1)});\n      }\n    }\n    return table;\n  }\n  _getTimestampsForTable() {\n    let timestamps = this._cache.all || [];\n    if (timestamps.length) {\n      return timestamps;\n    }\n    const data = this.getDataTimestamps();\n    const label = this.getLabelTimestamps();\n    if (data.length && label.length) {\n      timestamps = this.normalize(data.concat(label));\n    } else {\n      timestamps = data.length ? data : label;\n    }\n    timestamps = this._cache.all = timestamps;\n    return timestamps;\n  }\n  getDecimalForValue(value) {\n    return (interpolate(this._table, value) - this._minPos) / this._tableRange;\n  }\n  getValueForPixel(pixel) {\n    const offsets = this._offsets;\n    const decimal = this.getDecimalForPixel(pixel) / offsets.factor - offsets.end;\n    return interpolate(this._table, decimal * this._tableRange + this._minPos, true);\n  }\n}\nTimeSeriesScale.id = 'timeseries';\nTimeSeriesScale.defaults = TimeScale.defaults;\n\nvar scales = /*#__PURE__*/Object.freeze({\n__proto__: null,\nCategoryScale: CategoryScale,\nLinearScale: LinearScale,\nLogarithmicScale: LogarithmicScale,\nRadialLinearScale: RadialLinearScale,\nTimeScale: TimeScale,\nTimeSeriesScale: TimeSeriesScale\n});\n\nconst registerables = [\n  controllers,\n  elements,\n  plugins,\n  scales,\n];\n\nexport { Animation, Animations, ArcElement, BarController, BarElement, BasePlatform, BasicPlatform, BubbleController, CategoryScale, Chart, DatasetController, plugin_decimation as Decimation, DomPlatform, DoughnutController, Element, plugin_filler as Filler, Interaction, plugin_legend as Legend, LineController, LineElement, LinearScale, LogarithmicScale, PieController, PointElement, PolarAreaController, RadarController, RadialLinearScale, Scale, ScatterController, plugin_subtitle as SubTitle, Ticks, TimeScale, TimeSeriesScale, plugin_title as Title, plugin_tooltip as Tooltip, adapters as _adapters, _detectPlatform, animator, controllers, elements, layouts, plugins, registerables, registry, scales };\n","import { Chart } from 'chart.js';\nChart.defaults.color = '#b0b0b0';\nexport var scales = {\n  y: {\n    display: true,\n    ticks: {\n      suggestedMin: 0 // minimum will be 0, unless there is a lower value.\n\n    },\n    gridLines: {\n      color: '#606060',\n      zeroLineColor: '#606060'\n    }\n  }\n};\nexport var color_rose = '#e7c9e5';\nexport var color_blue = '#64a6bd';\nexport var backgroundChartDiv = '#404040';\nexport default {};","import { Chart, LineController, LineElement, PointElement, LinearScale, CategoryScale, BarElement, BarController } from 'chart.js';\nimport { scales, color_rose, color_blue } from \"./ChartConfig\";\nChart.register(LineController, LineElement, PointElement, LinearScale, CategoryScale, BarElement, BarController);\nexport default function ThreeStatsChart(ctx, renderer) {\n  var lastValidCompareIndex = -1;\n  var timestamp = Date.now();\n  var textureDataset = {\n    label: 'texture count',\n    data: [{\n      x: 0,\n      y: 0\n    }],\n    borderColor: color_rose,\n    borderWidth: 1.5,\n    pointRadius: 1\n  };\n  var geometryDataset = {\n    label: 'geometry count',\n    data: [{\n      x: 0,\n      y: 0\n    }],\n    borderColor: color_blue,\n    borderWidth: 1.5,\n    pointRadius: 1\n  };\n  var label = ['0s'];\n  var chart = new Chart(ctx, {\n    type: 'line',\n    data: {\n      labels: label,\n      datasets: [textureDataset, geometryDataset]\n    },\n    options: {\n      animation: {\n        duration: 10\n      },\n      scales: scales\n    }\n  });\n\n  this.update = function (displayed) {\n    var limit = 60;\n    var timeInS = Math.floor((Date.now() - timestamp) / 1000);\n    var lbl = \"\".concat(timeInS, \"s\");\n    var identical = lastValidCompareIndex > 0 && label[lastValidCompareIndex] == lbl;\n\n    if (identical) {\n      label.push('');\n    } else {\n      label.push(lbl);\n      lastValidCompareIndex = label.length - 1;\n    }\n\n    if (label.length > limit) {\n      label.shift();\n      lastValidCompareIndex--;\n    }\n\n    var memory = renderer.info.memory;\n    textureDataset.data.push({\n      x: timeInS,\n      y: memory.textures\n    });\n    geometryDataset.data.push({\n      x: timeInS,\n      y: memory.geometries\n    });\n\n    if (textureDataset.data.length > limit) {\n      textureDataset.data.shift();\n      geometryDataset.data.shift();\n    }\n\n    if (displayed) {\n      chart.update();\n    }\n  };\n\n  this.resize = function () {\n    chart.resize();\n  };\n}","import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as THREE from 'three';\n\nvar OBBHelper = /*#__PURE__*/function (_THREE$Box3Helper) {\n  _inherits(OBBHelper, _THREE$Box3Helper);\n\n  var _super = _createSuper(OBBHelper);\n\n  function OBBHelper(OBB, text, color) {\n    var _this;\n\n    _classCallCheck(this, OBBHelper);\n\n    color = color || new THREE.Color(Math.random(), Math.random(), Math.random());\n    _this = _super.call(this, OBB.box3D, color.getHex());\n    _this.obb = OBB;\n    _this.material.linewidth = 2;\n    _this.frustumCulled = false;\n    _this.matrixAutoUpdate = false;\n    _this.rotationAutoUpdate = false;\n\n    _this.updateMatrixWorld(true);\n\n    return _this;\n  }\n\n  _createClass(OBBHelper, [{\n    key: \"removeChildren\",\n    value: function removeChildren() {\n      this.material.dispose();\n      this.geometry.dispose();\n    }\n  }, {\n    key: \"updateMatrixWorld\",\n    value: function updateMatrixWorld() {\n      var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (this.obb.box3D.isEmpty()) {\n        return;\n      }\n\n      this.quaternion.copy(this.obb.quaternion);\n      this.obb.box3D.getCenter(this.position).applyQuaternion(this.quaternion).add(this.obb.position);\n      this.obb.box3D.getSize(this.scale);\n      this.scale.multiplyScalar(0.5);\n      this.updateMatrix();\n      THREE.Object3D.prototype.updateMatrixWorld.call(this, force);\n    }\n  }]);\n\n  return OBBHelper;\n}(THREE.Box3Helper);\n\nexport default OBBHelper;","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { CameraHelper, Color, Vector3 } from 'three';\nimport Coordinates from \"../../src/Core/Geographic/Coordinates\";\nimport { MAIN_LOOP_EVENTS } from \"../../src/Core/MainLoop\";\nimport OBB from \"../../src/Renderer/OBB\";\nimport * as THREE from 'three';\nimport ThreeStatsChart from \"./charts/ThreeStatsChart\";\nimport { backgroundChartDiv, color_blue } from \"./charts/ChartConfig\";\nimport OBBHelper from \"./OBBHelper\";\n/**\n * Create a debug instance attached to an itowns instance\n *\n * @Constructor\n * @param {Scene} scene the itowns Scene\n * @return {Debug} a debug instance\n */\n// disabling eslint errors as it is the exported constructor\n\nfunction Debug(view, datDebugTool, chartDivContainer) {\n  var _this = this;\n\n  // CHARTS\n  // Create default charts div if missing\n  if (!chartDivContainer) {\n    chartDivContainer = document.createElement('div');\n    chartDivContainer.id = 'chart-div';\n    chartDivContainer.style.cssText = \"z-index: 10; position: absolute; bottom: 0; left: 0; width: 100vw; height: 30%; background-color: \".concat(backgroundChartDiv, \"; display: none\");\n    document.body.appendChild(chartDivContainer);\n  }\n\n  this.chartDivContainer = chartDivContainer;\n  var canvas = this.createChartContainer('three-info');\n  var ctx = canvas.getContext('2d');\n  this.charts = [];\n  this.charts.push(new ThreeStatsChart(ctx, view.mainLoop.gfxEngine.renderer));\n  var charts = this.charts;\n  var tileLayer = view.tileLayer;\n  var initialPosition = new Coordinates(view.referenceCrs, 0.0, 0.0, 0.0);\n  var geoPosition = new Coordinates('EPSG:4326', 0.0, 0.0, 0.0);\n\n  function debugChartUpdate(updateDuration) {\n    var displayed = chartDivContainer.style.display != 'none';\n    charts.forEach(function (c) {\n      return c.update(displayed, updateDuration);\n    });\n  } // DEBUG CONTROLS\n\n\n  var gui = datDebugTool.addFolder('Debug Tools');\n  var state = {\n    displayCharts: false,\n    eventsDebug: false,\n    debugCameraWindow: false,\n    freeze: false\n  };\n  var before;\n\n  var startChart = function startChart() {\n    before = Date.now();\n  };\n\n  var endChart = function endChart() {\n    var duration = Date.now() - before; // debug graphs update\n\n    debugChartUpdate(duration);\n  }; // charts\n\n\n  gui.add(state, 'displayCharts').name('Display charts').onChange(function (newValue) {\n    if (newValue) {\n      view.addFrameRequester(MAIN_LOOP_EVENTS.UPDATE_START, startChart);\n      view.addFrameRequester(MAIN_LOOP_EVENTS.UPDATE_END, endChart);\n      chartDivContainer.style.display = 'flex';\n    } else {\n      view.removeFrameRequester(MAIN_LOOP_EVENTS.UPDATE_START, startChart);\n      view.removeFrameRequester(MAIN_LOOP_EVENTS.UPDATE_END, endChart);\n      chartDivContainer.style.display = 'none';\n    }\n\n    _this.updateChartDivSize();\n\n    view.notifyChange();\n  });\n  gui.add(state, 'debugCameraWindow').name('debug Camera').onChange(function (value) {\n    if (value) {\n      view.addFrameRequester(MAIN_LOOP_EVENTS.AFTER_RENDER, renderCameraDebug);\n    } else {\n      view.removeFrameRequester(MAIN_LOOP_EVENTS.AFTER_RENDER, renderCameraDebug);\n    }\n\n    view.notifyChange();\n  });\n  gui.add(state, 'freeze').name('freeze update').onChange(function (newValue) {\n    tileLayer.frozen = newValue;\n    view.notifyChange();\n  }); // camera-target-updated event\n\n  var LatController;\n  var LongController;\n  var AltiController;\n  var eventFolder;\n  var controls = view.controls;\n  initialPosition.crs = view.referenceCrs;\n  var cursorWorldPosition = new THREE.Vector3();\n  var getCenter = controls && controls.getCameraTargetPosition ? controls.getCameraTargetPosition : function () {\n    return view.camera.camera3D.position;\n  };\n\n  var cameraTargetListener = function cameraTargetListener(event) {\n    if (view.getPickingPositionFromDepth(view.eventToViewCoords(event), cursorWorldPosition)) {\n      initialPosition.setFromVector3(cursorWorldPosition).as('EPSG:4326', geoPosition);\n      state.latitude = \"\".concat(geoPosition.y.toFixed(6));\n      state.longitude = \"\".concat(geoPosition.x.toFixed(6));\n      state.altitude = \"\".concat(geoPosition.z.toFixed(2));\n    } else {\n      state.latitude = '---------';\n      state.longitude = '---------';\n      state.altitude = '---------';\n    }\n\n    LatController.updateDisplay();\n    LongController.updateDisplay();\n    AltiController.updateDisplay();\n  };\n\n  gui.add(state, 'eventsDebug').name('Debug event').onChange(function () {\n    return function (newValue) {\n      if (newValue) {\n        eventFolder = gui.addFolder('Events');\n        eventFolder.open();\n        initialPosition.setFromVector3(getCenter()).as('EPSG:4326', geoPosition);\n        state.latitude = \"\".concat(geoPosition.y.toFixed(6));\n        state.longitude = \"\".concat(geoPosition.x.toFixed(6));\n        state.altitude = \"\".concat(geoPosition.z.toFixed(2));\n        LatController = eventFolder.add(state, 'latitude');\n        LongController = eventFolder.add(state, 'longitude');\n        AltiController = eventFolder.add(state, 'altitude');\n        view.domElement.addEventListener('mousemove', cameraTargetListener);\n      } else {\n        view.domElement.removeEventListener('mousemove', cameraTargetListener);\n        gui.removeFolder('Events');\n      }\n    };\n  }()); // Camera debug\n\n  var helper = new CameraHelper(view.camera.camera3D);\n  var debugCamera = view.camera.camera3D.clone();\n  debugCamera.fov *= 1.5;\n  debugCamera.updateProjectionMatrix();\n  var g = view.mainLoop.gfxEngine;\n  var r = g.renderer;\n  var fogDistance = 10e10;\n  var layerAtmosphere = view.getLayerById('atmosphere');\n\n  if (layerAtmosphere) {\n    fogDistance = layerAtmosphere.fog.distance;\n  }\n\n  helper.visible = false;\n  view.scene.add(helper); // Displayed tiles boundind box\n\n  var displayedTilesObb = new OBB();\n  var displayedTilesObbHelper = new OBBHelper(displayedTilesObb, '', new Color(color_blue));\n  displayedTilesObbHelper.visible = false;\n  view.scene.add(displayedTilesObb);\n  view.scene.add(displayedTilesObbHelper);\n\n  function updateFogDistance(obj) {\n    if (obj.material && fogDistance) {\n      obj.material.fogDistance = fogDistance;\n    }\n  }\n\n  var clearColor = new Color();\n  var lookAtCameraDebug = new Vector3();\n\n  function renderCameraDebug() {\n    if (state.debugCameraWindow && debugCamera) {\n      var ratio = 0.25;\n      var size = {\n        x: g.width * ratio,\n        y: g.height * ratio\n      };\n      debugCamera.aspect = size.x / size.y;\n      var camera = view.camera.camera3D;\n      var coord = new Coordinates(view.referenceCrs, camera.position).as(tileLayer.extent.crs);\n      var extent = view.tileLayer.info.displayed.extent;\n      displayedTilesObb.setFromExtent(extent);\n      displayedTilesObbHelper.visible = true;\n      displayedTilesObbHelper.updateMatrixWorld(true); // Note Method to compute near and far...\n      // const bbox = displayedTilesObb.box3D.clone().applyMatrix4(displayedTilesObb.matrixWorld);\n      // const distance = bbox.distanceToPoint(view.camera.camera3D.position);\n      // console.log('distance', distance, distance + bbox.getBoundingSphere(sphere).radius * 2);\n      // Compute position camera debug\n\n      var altitudeCameraDebug = 1.5 * coord.z;\n      coord.z = altitudeCameraDebug;\n      coord.as(view.referenceCrs).toVector3(debugCamera.position); // Compute recoil camera\n\n      camera.worldToLocal(debugCamera.position);\n      debugCamera.position.z += altitudeCameraDebug;\n      camera.localToWorld(debugCamera.position); // Compute target camera debug\n\n      lookAtCameraDebug.copy(view.camera.camera3D.position);\n      camera.worldToLocal(lookAtCameraDebug);\n      lookAtCameraDebug.z -= altitudeCameraDebug * 1.5;\n      camera.localToWorld(lookAtCameraDebug);\n      debugCamera.lookAt(lookAtCameraDebug);\n      helper.update();\n      debugCamera.updateProjectionMatrix();\n\n      if (layerAtmosphere) {\n        layerAtmosphere.object3d.visible = false;\n        fogDistance = 10e10;\n\n        var _iterator = _createForOfIteratorHelper(tileLayer.level0Nodes),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var obj = _step.value;\n            obj.traverseVisible(updateFogDistance);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n\n      var deltaY = state.displayCharts ? Math.round(parseFloat(chartDivContainer.style.height.replace('%', '')) * g.height / 100) + 3 : 0;\n      helper.visible = true;\n      helper.updateMatrixWorld(true);\n      r.getClearColor(clearColor);\n      r.setViewport(g.width - size.x, deltaY, size.x, size.y);\n      r.setScissor(g.width - size.x, deltaY, size.x, size.y);\n      r.setScissorTest(true);\n      r.setClearColor(backgroundChartDiv);\n      r.clear();\n      r.render(view.scene, debugCamera);\n      r.setScissorTest(false);\n      r.setClearColor(clearColor);\n      r.setViewport(0, 0, g.width, g.height);\n      helper.visible = false;\n      displayedTilesObbHelper.visible = false;\n\n      if (layerAtmosphere) {\n        layerAtmosphere.object3d.visible = true;\n      }\n\n      if (layerAtmosphere) {\n        fogDistance = layerAtmosphere.fog.distance;\n\n        var _iterator2 = _createForOfIteratorHelper(tileLayer.level0Nodes),\n            _step2;\n\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _obj = _step2.value;\n\n            _obj.traverseVisible(updateFogDistance);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n    }\n  }\n}\n\nDebug.prototype.createChartContainer = function createChartContainer(chartId) {\n  var div = document.createElement('div');\n  div.style.cssText = \"background-color: \".concat(backgroundChartDiv, \"; flex: auto;\");\n  this.chartDivContainer.appendChild(div);\n  var chartCanvas = document.createElement('canvas');\n  chartCanvas.height = '20rem';\n  chartCanvas.id = chartId;\n  div.appendChild(chartCanvas);\n  return chartCanvas;\n};\n\nDebug.prototype.updateChartDivSize = function updateChartDivSize() {\n  var count = 0;\n\n  var _iterator3 = _createForOfIteratorHelper(this.chartDivContainer.getElementsByTagName('div')),\n      _step3;\n\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var div = _step3.value;\n\n      if (div.style.display !== 'none') {\n        count++;\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n\n  var size = Math.floor(100 / count);\n\n  var _iterator4 = _createForOfIteratorHelper(this.chartDivContainer.getElementsByTagName('div')),\n      _step4;\n\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var _div = _step4.value;\n\n      if (_div.style.display !== 'none') {\n        _div.style.width = \"\".concat(size, \"%\");\n      }\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n\n  this.charts.forEach(function (c) {\n    c.resize();\n    c.update();\n  });\n};\n\nexport default Debug;","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { MODE } from \"../../src/Renderer/PointsMaterial\";\nexport default {\n  initTools: function initTools(view, layer, datUi) {\n    var update = function () {\n      return view.notifyChange(layer, true);\n    };\n\n    layer.debugUI = datUi.addFolder(\"\".concat(layer.id));\n    layer.debugUI.add(layer, 'visible').name('Visible').onChange(update);\n    layer.debugUI.add(layer, 'sseThreshold').name('SSE threshold').onChange(update);\n    layer.debugUI.add(layer, 'octreeDepthLimit', -1, 20).name('Depth limit').onChange(update);\n    layer.debugUI.add(layer, 'pointBudget', 1, 15000000).name('Max point count').onChange(update);\n    layer.debugUI.add(layer.object3d.position, 'z', -50, 50).name('Z translation').onChange(function () {\n      layer.object3d.updateMatrixWorld();\n      view.notifyChange(layer);\n    });\n    layer.dbgStickyNode = '';\n    layer.dbgDisplaySticky = false;\n    layer.dbgDisplayChildren = true;\n    layer.dbgDisplayParents = true;\n    var styleUI = layer.debugUI.addFolder('Styling');\n\n    if (layer.material.mode != undefined) {\n      styleUI.add(layer.material, 'mode', MODE).name('Display mode').onChange(update);\n      styleUI.add(layer, 'maxIntensityRange', 0, 1).name('Intensity max').onChange(update);\n    }\n\n    styleUI.add(layer, 'opacity', 0, 1).name('Layer Opacity').onChange(update);\n    styleUI.add(layer, 'pointSize', 0, 15).name('Point Size').onChange(update);\n\n    if (layer.material.picking != undefined) {\n      styleUI.add(layer.material, 'picking').name('Display picking id').onChange(update);\n    } // UI\n\n\n    var debugUI = layer.debugUI.addFolder('Debug');\n    debugUI.add(layer.bboxes, 'visible').name('Display Bounding Boxes').onChange(update);\n    debugUI.add(layer, 'dbgStickyNode').name('Sticky node name').onChange(update);\n    debugUI.add(layer, 'dbgDisplaySticky').name('Display sticky node').onChange(update);\n    debugUI.add(layer, 'dbgDisplayChildren').name('Display children of sticky node').onChange(update);\n    debugUI.add(layer, 'dbgDisplayParents').name('Display parents of sticky node').onChange(update);\n\n    var isInHierarchy = function (name1, name2) {\n      return layer.dbgDisplaySticky && name1 === name2 || layer.dbgDisplayParents && name1.startsWith(name2) || layer.dbgDisplayChildren && name2.startsWith(name1);\n    };\n\n    view.addFrameRequester('before_layer_update', function () {\n      if (layer.dbgStickyNode.length) {\n        layer.displayedCount = 0;\n        var stickies = layer.dbgStickyNode.split(',');\n\n        var _iterator = _createForOfIteratorHelper(layer.group.children),\n            _step;\n\n        try {\n          var _loop = function _loop() {\n            var pts = _step.value;\n            pts.visible = stickies.some(function (name) {\n              return isInHierarchy(name, pts.owner.name);\n            });\n\n            if (pts.boxHelper) {\n              pts.boxHelper.visible = pts.visible;\n            }\n\n            if (pts.visible) {\n              layer.displayedCount += pts.geometry.attributes.position.count;\n            }\n          };\n\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            _loop();\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    });\n  }\n};","import { Chart } from 'chart.js';\nimport { scales, color_rose, color_blue } from \"./ChartConfig\";\nexport default function TileObjectsChart(ctx, tileLayer) {\n  var lastValidCompareIndex = 0;\n  var timestamp = Date.now();\n  var viewLevelStartDataset = {\n    label: 'Update 1st level',\n    data: [{\n      x: 0,\n      y: 0\n    }],\n    borderColor: color_rose,\n    borderWidth: 1.5,\n    pointRadius: 1\n  };\n  var viewUpdateDurationDataset = {\n    label: 'Update duration (ms)',\n    data: [{\n      x: 0,\n      y: 0\n    }],\n    borderColor: color_blue,\n    borderWidth: 1.5,\n    pointRadius: 1\n  };\n  var label = ['0s'];\n  var nbObjectsChart = new Chart(ctx, {\n    type: 'line',\n    data: {\n      labels: label,\n      datasets: [viewLevelStartDataset, viewUpdateDurationDataset]\n    },\n    options: {\n      animation: {\n        duration: 10\n      },\n      scales: scales\n    }\n  });\n\n  this.update = function (displayed, updateDuration) {\n    // update line graph\n    // update time\n    var limit = 60;\n    var timeInS = Math.floor((Date.now() - timestamp) / 1000);\n    var lbl = \"\".concat(timeInS, \"s\");\n    var identical = lastValidCompareIndex > 0 && label[lastValidCompareIndex] == lbl;\n\n    if (identical) {\n      label.push('');\n    } else {\n      label.push(lbl);\n      lastValidCompareIndex = label.length - 1;\n    }\n\n    if (label.length > limit) {\n      label.shift();\n      lastValidCompareIndex--;\n    }\n\n    viewLevelStartDataset.data.push({\n      x: 0,\n      y: tileLayer._latestUpdateStartingLevel\n    });\n    viewUpdateDurationDataset.data.push({\n      x: 0,\n      y: updateDuration\n    });\n\n    if (viewLevelStartDataset.data.length > limit) {\n      viewLevelStartDataset.data.shift();\n      viewUpdateDurationDataset.data.shift();\n    }\n\n    if (displayed) {\n      nbObjectsChart.update();\n    }\n  };\n\n  this.resize = function () {\n    nbObjectsChart.resize();\n  };\n}","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport { Chart } from 'chart.js';\nimport { scales, color_rose, color_blue } from \"./ChartConfig\";\nexport default function TileVisibilityChart(ctx, tileLayer) {\n  var nbVisibleLabels = [];\n  var nbVisibleData = [];\n  var nbDisplayedData = [];\n  var nbVisibleChart = new Chart(ctx, {\n    type: 'bar',\n    data: {\n      labels: nbVisibleLabels,\n      datasets: [{\n        label: 'Visible node per level',\n        data: nbVisibleData,\n        backgroundColor: color_rose\n      }, {\n        label: 'Diplayed node per level',\n        data: nbDisplayedData,\n        backgroundColor: color_blue\n      }]\n    },\n    options: {\n      scales: scales\n    }\n  });\n\n  this.update = function (displayed) {\n    function countVisible(node, stats) {\n      if (!node || !node.visible) {\n        return;\n      }\n\n      if (node.level >= 0 && node.layer === tileLayer) {\n        if (stats[node.level]) {\n          stats[node.level][0] += 1;\n        } else {\n          stats[node.level] = [1, 0];\n        }\n\n        if (node.material.visible) {\n          stats[node.level][1] += 1;\n        }\n      }\n\n      if (node.children) {\n        var _iterator = _createForOfIteratorHelper(node.children),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var child = _step.value;\n            countVisible(child, stats);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    } // update bar graph\n\n\n    var stats = {};\n    countVisible(tileLayer.object3d, stats);\n    nbVisibleLabels.length = 0;\n    nbVisibleData.length = 0;\n\n    for (var level in stats) {\n      if ({}.hasOwnProperty.call(stats, level)) {\n        nbVisibleLabels[level] = \"\".concat(level);\n        nbVisibleData[level] = stats[level][0];\n        nbDisplayedData[level] = stats[level][1];\n      }\n    }\n\n    if (displayed) {\n      nbVisibleChart.update();\n    }\n  };\n\n  this.resize = function () {\n    nbVisibleChart.resize();\n  };\n}","// TODO: move to GeometryLayer\nfunction addMaterialLayerProperty(layer, key, value) {\n  layer.defineLayerProperty(key, value, function () {\n    var root = layer.parent ? layer.parent.object3d : layer.object3d;\n    root.traverse(function (object) {\n      if (object.layer == layer && object.material) {\n        object.material[key] = layer[key];\n      } else if (object.content && object.content.layer == layer) {\n        object.content.traverse(function (o) {\n          if (o.material) {\n            o.material[key] = layer[key];\n          }\n        });\n      }\n    });\n  });\n}\n\nexport default {\n  addWireFrameCheckbox: function addWireFrameCheckbox(gui, view, layer) {\n    gui.add(layer, 'wireframe').name('Wireframe').onChange(function () {\n      return view.notifyChange(layer);\n    });\n  },\n  addMaterialSize: function addMaterialSize(gui, view, layer, begin, end) {\n    addMaterialLayerProperty(layer, 'size', 1);\n    gui.add(layer, 'size', begin, end).name('Size').onChange(function () {\n      return view.notifyChange(layer);\n    });\n  },\n  addMaterialLineWidth: function addMaterialLineWidth(gui, view, layer, begin, end) {\n    addMaterialLayerProperty(layer, 'linewidth', 1);\n    gui.add(layer, 'linewidth', begin, end).name('Line Width').onChange(function () {\n      return view.notifyChange(layer);\n    });\n  },\n  createGeometryDebugUI: function createGeometryDebugUI(datDebugTool, view, layer) {\n    var gui = datDebugTool.addFolder(\"Layer \".concat(layer.id));\n    gui.add(layer, 'visible').name('Visible').onChange(function () {\n      return view.notifyChange(layer);\n    });\n    gui.add(layer, 'opacity', 0, 1).name('Opacity').onChange(function () {\n      return view.notifyChange(layer);\n    });\n    return gui;\n  }\n};","function _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nimport * as THREE from 'three';\nimport TWEEN from '@tweenjs/tween.js';\nimport View from \"../../src/Core/View\";\nimport GeometryLayer from \"../../src/Layer/GeometryLayer\";\nimport { MAIN_LOOP_EVENTS } from \"../../src/Core/MainLoop\";\nimport ObjectRemovalHelper from \"../../src/Process/ObjectRemovalHelper\";\nimport TileObjectChart from \"./charts/TileObjectChart\";\nimport TileVisibilityChart from \"./charts/TileVisibilityChart\";\nimport GeometryDebug from \"./GeometryDebug\";\nimport Debug from \"./Debug\";\nimport OBBHelper from \"./OBBHelper\";\n\nfunction applyToNodeFirstMaterial(view, root, layer, cb) {\n  root.traverse(function (object) {\n    if (object.material && object.layer === layer) {\n      cb(object.material);\n    }\n  });\n  view.notifyChange();\n}\n\nvar selectedNode;\n/**\n * Select tile\n *\n * @param      {View} view\n * @param      {Object} mouseOrEvt - mouse position in window coordinates (0, 0 = top-left)\n * or MouseEvent or TouchEvent.\n * @param      {boolean}  [showInfo=true] Show tile information in console.\n * @return     {TileMesh} Selected tile.\n */\n\nfunction selectTileAt(view, mouseOrEvt) {\n  var showInfo = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  if (selectedNode) {\n    selectedNode.material.overlayAlpha = 0;\n    selectedNode.material.showOutline = view.tileLayer.showOutline;\n    view.notifyChange(selectedNode);\n  }\n\n  var picked = view.tileLayer.pickObjectsAt(view, mouseOrEvt);\n  selectedNode = picked.length ? picked[0].object : undefined;\n\n  if (selectedNode) {\n    if (showInfo) {\n      // eslint-disable-next-line no-console\n      console.info(selectedNode);\n    }\n\n    selectedNode.material.overlayAlpha = 0.5;\n    selectedNode.material.showOutline = true;\n    view.notifyChange(selectedNode);\n  }\n\n  return selectedNode;\n}\n\nexport default function createTileDebugUI(datDebugTool, view, layer, debugInstance) {\n  var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n  if (!view.isDebugMode && !force) {\n    return;\n  }\n\n  debugInstance = debugInstance || new Debug(view, datDebugTool);\n  layer = layer || view.tileLayer;\n  var gui = GeometryDebug.createGeometryDebugUI(datDebugTool, view, layer);\n  var objectChardId = \"\".concat(layer.id, \"-nb-objects\");\n  var canvasObjectChardId = debugInstance.createChartContainer(objectChardId);\n  var visibleChardId = \"\".concat(layer.id, \"-nb-visible\");\n  var canvasVisibleChardId = debugInstance.createChartContainer(visibleChardId);\n  debugInstance.charts.push(new TileObjectChart(canvasObjectChardId.getContext('2d'), layer));\n  debugInstance.charts.push(new TileVisibilityChart(canvasVisibleChardId.getContext('2d'), layer));\n  layer.showOutline = false;\n  layer.wireframe = false;\n  var state = {\n    objectChart: true,\n    visibilityChart: true,\n    sseHelper: false\n  }; // tiles outline\n\n  gui.add(layer, 'showOutline').name('Show tiles').onChange(function (newValue) {\n    layer.showOutline = newValue;\n    applyToNodeFirstMaterial(view, layer.object3d, layer, function (material) {\n      material.showOutline = newValue;\n    });\n  }); // tiles wireframe\n\n  gui.add(layer, 'wireframe').name('Wireframe').onChange(function () {\n    view.notifyChange(layer);\n  }); // TileObjectChart visibility\n\n  gui.add(state, 'objectChart').name('Object chart').onChange(function (newValue) {\n    if (newValue) {\n      document.getElementById(objectChardId).parentNode.style.display = 'block';\n    } else {\n      document.getElementById(objectChardId).parentNode.style.display = 'none';\n    }\n\n    debugInstance.updateChartDivSize();\n    debugInstance.charts.forEach(function (c) {\n      return c.update();\n    });\n  }); // TileVisibilityChart visibility\n\n  gui.add(state, 'visibilityChart').name('Visibility chart').onChange(function (newValue) {\n    if (newValue) {\n      document.getElementById(visibleChardId).parentNode.style.display = 'block';\n    } else {\n      document.getElementById(visibleChardId).parentNode.style.display = 'none';\n    }\n\n    debugInstance.updateChartDivSize();\n    debugInstance.charts.forEach(function (c) {\n      return c.update();\n    });\n  }); // Bounding box control\n\n  var obb_layer_id = \"\".concat(layer.id, \"_obb_debug\");\n  var sb_layer_id = \"\".concat(layer.id, \"_sb_debug\");\n  var geometrySphere = new THREE.SphereGeometry(1, 16, 16);\n\n  function debugIdUpdate(context, layer, node) {\n    var enabled = context.camera.camera3D.layers.test({\n      mask: 1 << layer.threejsLayer\n    });\n\n    if (!node.parent || !enabled) {\n      ObjectRemovalHelper.removeChildrenAndCleanupRecursively(layer, node);\n      return;\n    }\n\n    var helper = node.children.filter(function (n) {\n      return n.layer && n.layer.id == layer.id;\n    })[0];\n\n    if (node.material && node.material.visible) {\n      if (!helper) {\n        // add the ability to hide all the debug obj for one layer at once\n        var l = context.view.getLayerById(layer.id);\n        var l3js = l.threejsLayer;\n\n        if (layer.id == obb_layer_id) {\n          helper = new OBBHelper(node.obb);\n\n          if (helper.children[0]) {\n            helper.children[0].layers.set(l3js);\n          }\n        } else if (layer.id == sb_layer_id) {\n          var color = new THREE.Color(Math.random(), Math.random(), Math.random());\n          var material = new THREE.MeshBasicMaterial({\n            color: color.getHex(),\n            wireframe: true\n          });\n          helper = new THREE.Mesh(geometrySphere, material);\n          helper.position.copy(node.boundingSphere.center);\n          helper.scale.multiplyScalar(node.boundingSphere.radius);\n        }\n\n        helper.layers.set(l3js);\n        helper.layer = layer;\n        node.add(helper);\n        helper.updateMatrixWorld(true); // if we don't do that, our OBBHelper will never get removed,\n        // because once a node is invisible, children are not removed\n        // any more\n\n        var hiddenHandler = node.material.addEventListener('hidden', function () {\n          node.material.removeEventListener(hiddenHandler);\n          var i = node.children.length;\n\n          while (i--) {\n            var c = node.children[i];\n\n            if (c.layer === sb_layer_id) {\n              if (c.dispose) {\n                c.dispose();\n              } else if (Array.isArray(c.material)) {\n                var _iterator = _createForOfIteratorHelper(c.material),\n                    _step;\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    var _material = _step.value;\n\n                    _material.dispose();\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n              } else {\n                c.material.dispose();\n              }\n\n              node.children.splice(i, 1);\n            }\n          }\n        });\n      }\n\n      if (layer.id == sb_layer_id) {\n        helper.position.copy(node.boundingSphere.center);\n        helper.scale.set(1, 1, 1).multiplyScalar(node.boundingSphere.radius);\n      }\n\n      helper.updateMatrixWorld(true);\n      helper.visible = true;\n    } else if (helper) {\n      helper.visible = false;\n    }\n  }\n\n  var obbLayer = new GeometryLayer(obb_layer_id, new THREE.Object3D(), {\n    update: debugIdUpdate,\n    visible: false,\n    cacheLifeTime: Infinity,\n    source: false\n  });\n  View.prototype.addLayer.call(view, obbLayer, layer).then(function (l) {\n    gui.add(l, 'visible').name('Bounding boxes').onChange(function () {\n      view.notifyChange(l);\n    });\n  });\n  var sbLayer = new GeometryLayer(sb_layer_id, new THREE.Object3D(), {\n    update: debugIdUpdate,\n    visible: false,\n    cacheLifeTime: Infinity,\n    source: false\n  });\n  View.prototype.addLayer.call(view, sbLayer, layer).then(function (l) {\n    gui.add(l, 'visible').name('Bounding Spheres').onChange(function () {\n      view.notifyChange(l);\n    });\n  });\n  var viewerDiv = document.getElementById('viewerDiv');\n  var circle = document.createElement('span');\n  circle.className = 'circleBase';\n  viewerDiv.appendChild(circle);\n  var centerNode = new THREE.Vector3();\n  var actualNode;\n\n  var animationFrameRequester = function () {\n    TWEEN.update();\n    view.notifyChange();\n  };\n\n  var removeAnimationRequester = function () {\n    TWEEN.removeAll();\n\n    if (view._frameRequesters[MAIN_LOOP_EVENTS.BEFORE_RENDER].includes(animationFrameRequester)) {\n      view.removeFrameRequester(MAIN_LOOP_EVENTS.BEFORE_RENDER, animationFrameRequester);\n    }\n  };\n\n  function picking(event) {\n    var selectNode = selectTileAt(view, event, false);\n\n    if (selectNode) {\n      circle.style.display = 'table-cell';\n      centerNode.copy(selectNode.boundingSphere.center).applyMatrix4(selectNode.matrixWorld);\n      var project = centerNode.project(view.camera.camera3D);\n      var coords = view.normalizedToViewCoords(project);\n      var size = selectNode.screenSize;\n\n      if (actualNode != selectNode) {\n        var actualSize = Number(circle.style.width.replace('px', ''));\n        actualNode = selectNode;\n        removeAnimationRequester();\n        new TWEEN.Tween({\n          size: actualSize\n        }).to({\n          size: size\n        }, 500).easing(TWEEN.Easing.Sinusoidal.In).easing(TWEEN.Easing.Exponential.Out).onUpdate(function (object) {\n          circle.style['line-height'] = \"\".concat(object.size, \"px\");\n          circle.style.width = \"\".concat(object.size, \"px\");\n          circle.style.height = \"\".concat(object.size, \"px\");\n          circle.innerHTML = \"\".concat(Math.floor(object.size), \" px\");\n          circle.style.left = \"\".concat(coords.x - object.size * 0.5, \"px\");\n          circle.style.top = \"\".concat(coords.y - object.size * 0.5, \"px\");\n        }).onComplete(removeAnimationRequester).start();\n        view.addFrameRequester(MAIN_LOOP_EVENTS.BEFORE_RENDER, animationFrameRequester);\n      }\n    } else {\n      circle.style.display = 'none';\n    }\n  }\n\n  gui.add(state, 'sseHelper').name('Sse helper').onChange(function (v) {\n    if (v) {\n      window.addEventListener('mousemove', picking, false);\n    } else {\n      circle.style.display = 'none';\n      removeAnimationRequester();\n      window.removeEventListener('mousemove', picking);\n    }\n  });\n  var currKey = null;\n  window.addEventListener('mousedown', function (event) {\n    if (currKey == 83) {\n      selectTileAt(view, event);\n    }\n  });\n  window.addEventListener('keydown', function (event) {\n    currKey = event.which;\n  });\n  window.addEventListener('keyup', function () {\n    currKey = null;\n  });\n}","import * as THREE from 'three';\nimport View from \"../../src/Core/View\";\nimport GeometryLayer from \"../../src/Layer/GeometryLayer\";\nimport GeometryDebug from \"./GeometryDebug\";\nimport OBBHelper from \"./OBBHelper\";\nvar bboxMesh = new THREE.Mesh();\nexport default function create3dTilesDebugUI(datDebugTool, view, _3dTileslayer) {\n  var gui = GeometryDebug.createGeometryDebugUI(datDebugTool, view, _3dTileslayer);\n  var regionBoundingBoxParent = new THREE.Group();\n  view.scene.add(regionBoundingBoxParent); // add wireframe\n\n  GeometryDebug.addWireFrameCheckbox(gui, view, _3dTileslayer); // Bounding box control\n\n  var obb_layer_id = \"\".concat(_3dTileslayer.id, \"_obb_debug\");\n  var obbLayer = new GeometryLayer(obb_layer_id, new THREE.Object3D(), {\n    update: function (context, layer, node) {\n      var enabled = context.camera.camera3D.layers.test({\n        mask: 1 << layer.threejsLayer\n      });\n\n      if (!enabled) {\n        return;\n      }\n\n      var metadata = node.userData.metadata;\n      var helper = node.userData.obb;\n\n      if (node.visible && metadata.boundingVolume) {\n        if (!helper) {\n          // 3dtiles with region\n          if (metadata.boundingVolume.region) {\n            helper = new OBBHelper(metadata.boundingVolume.region, \"id:\".concat(node.id));\n            regionBoundingBoxParent.add(helper);\n            helper.updateMatrixWorld(true); // 3dtiles with box\n          } else if (metadata.boundingVolume.box) {\n            bboxMesh.geometry.boundingBox = metadata.boundingVolume.box;\n            helper = new THREE.BoxHelper(bboxMesh);\n            helper.material.linewidth = 2; // 3dtiles with Sphere\n          } else if (metadata.boundingVolume.sphere) {\n            var geometry = new THREE.SphereGeometry(metadata.boundingVolume.sphere.radius, 32, 32);\n            var material = new THREE.MeshBasicMaterial({\n              wireframe: true\n            });\n            helper = new THREE.Mesh(geometry, material);\n            helper.position.copy(metadata.boundingVolume.sphere.center);\n          }\n\n          if (helper) {\n            helper.layer = layer; // add the ability to hide all the debug obj for one layer at once\n\n            var l3js = layer.threejsLayer;\n            helper.layers.set(l3js);\n\n            if (helper.children.length) {\n              helper.children[0].layers.set(l3js);\n            }\n\n            node.userData.obb = helper;\n            helper.updateMatrixWorld();\n          }\n\n          if (helper && !metadata.boundingVolume.region) {\n            // compensate B3dm orientation correction\n            var gltfUpAxis = _3dTileslayer.tileset.asset.gltfUpAxis;\n\n            if (gltfUpAxis === undefined || gltfUpAxis === 'Y') {\n              helper.rotation.x = -Math.PI * 0.5;\n            } else if (gltfUpAxis === 'X') {\n              helper.rotation.z = -Math.PI * 0.5;\n            } // Add helper to parent to apply the correct transformation\n\n\n            node.parent.add(helper);\n            helper.updateMatrix();\n            helper.updateMatrixWorld(true);\n          }\n        }\n\n        if (helper) {\n          helper.visible = true;\n\n          if (typeof helper.setMaterialVisibility === 'function') {\n            helper.setMaterialVisibility(true);\n          }\n        }\n      } else if (helper) {\n        helper.visible = false;\n\n        if (typeof helper.setMaterialVisibility === 'function') {\n          helper.setMaterialVisibility(false);\n        }\n      }\n    },\n    visible: false,\n    cacheLifeTime: Infinity,\n    source: false\n  });\n  View.prototype.addLayer.call(view, obbLayer, _3dTileslayer).then(function (l) {\n    gui.add(l, 'visible').name('Bounding boxes').onChange(function () {\n      view.notifyChange(view.camera.camera3D);\n    });\n  }); // The sse Threshold for each tile\n\n  gui.add(_3dTileslayer, 'sseThreshold', 0, 100).name('sseThreshold').onChange(function () {\n    view.notifyChange(view.camera.camera3D);\n  });\n}"],"names":["root","factory","exports","module","define","amd","debug","self","webpackChunkitowns","push","t","e","i","r","d","Debug","So","GeometryDebug","Vo","PotreeDebug","Oo","create3dTilesDebugUI","Yo","createTileDebugUI","$o","s","n","o","a","requestAnimFrame","window","callback","requestAnimationFrame","throttled","fn","thisArg","updateFn","updateArgs","args","Array","prototype","slice","call","ticking","rest","apply","_alignStartEnd","align","start","end","uid","id","isNullOrUndef","value","isArray","type","Object","toString","substr","isObject","isNumberFinite","Number","isFinite","finiteOrDefault","defaultValue","valueOrDefault","toDimension","dimension","endsWith","parseFloat","each","loopable","reverse","len","keys","length","_elementsEqual","a0","a1","ilen","v0","v1","datasetIndex","index","clone$1","source","map","target","create","klen","k","isValidKey","key","indexOf","_merger","options","tval","sval","merge","sources","merger","mergeIf","_mergerIf","hasOwnProperty","indexOfDotOrLength","idx","resolveObjectKey","obj","pos","_capitalize","str","charAt","toUpperCase","defined","isFunction","setsEqual","b","size","item","has","PI","Math","TAU","PITAU","INFINITY","POSITIVE_INFINITY","RAD_PER_DEG","HALF_PI","QUARTER_PI","TWO_THIRDS_PI","log10","sign","niceNum","range","roundedRange","round","almostEquals","niceRange","pow","floor","fraction","isNumber","isNaN","x","y","epsilon","abs","_setMinAndMaxByKey","array","property","min","max","toRadians","degrees","toDegrees","radians","_decimalPlaces","p","getAngleFromPoint","centrePoint","anglePoint","distanceFromXCenter","distanceFromYCenter","radialDistanceFromCenter","sqrt","angle","atan2","distance","distanceBetweenPoints","pt1","pt2","_angleDiff","_normalizeAngle","_angleBetween","sameAngleIsFullCircle","angleToStart","angleToEnd","startToAngle","endToAngle","_limitValue","_isBetween","atEdge","elasticIn","sin","elasticOut","effects","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","m","easeInOutBounce","A","B","C","D","E","F","c","f","hex","h1","h2","eq","v","lim","l","h","p2b","n2b","b2n","n2p","RGB_RE","HUE_RE","hsl2rgbn","hsv2rgbn","hwb2rgbn","w","rgb","rgb2hsl","g","calln","hsl2rgb","hue","map$1","Z","Y","X","W","V","U","T","S","R","Q","P","O","N","M","L","K","G","H","I","J","names","OiceXe","antiquewEte","aqua","aquamarRe","azuY","beige","bisque","black","blanKedOmond","Xe","XeviTet","bPwn","burlywood","caMtXe","KartYuse","KocTate","cSO","cSnflowerXe","cSnsilk","crimson","cyan","xXe","xcyan","xgTMnPd","xWay","xgYF","xgYy","xkhaki","xmagFta","xTivegYF","xSange","xScEd","xYd","xsOmon","xsHgYF","xUXe","xUWay","xUgYy","xQe","xviTet","dAppRk","dApskyXe","dimWay","dimgYy","dodgerXe","fiYbrick","flSOwEte","foYstWAn","fuKsia","gaRsbSo","ghostwEte","gTd","gTMnPd","Way","gYF","gYFLw","gYy","honeyMw","hotpRk","RdianYd","Rdigo","ivSy","khaki","lavFMr","lavFMrXsh","lawngYF","NmoncEffon","ZXe","ZcSO","Zcyan","ZgTMnPdLw","ZWay","ZgYF","ZgYy","ZpRk","ZsOmon","ZsHgYF","ZskyXe","ZUWay","ZUgYy","ZstAlXe","ZLw","lime","limegYF","lRF","magFta","maPon","VaquamarRe","VXe","VScEd","VpurpN","VsHgYF","VUXe","VsprRggYF","VQe","VviTetYd","midnightXe","mRtcYam","mistyPse","moccasR","navajowEte","navy","Tdlace","Tive","TivedBb","Sange","SangeYd","ScEd","pOegTMnPd","pOegYF","pOeQe","pOeviTetYd","papayawEp","pHKpuff","peru","pRk","plum","powMrXe","purpN","YbeccapurpN","Yd","Psybrown","PyOXe","saddNbPwn","sOmon","sandybPwn","sHgYF","sHshell","siFna","silver","skyXe","UXe","UWay","UgYy","snow","sprRggYF","stAlXe","tan","teO","tEstN","tomato","Qe","viTet","JHt","wEte","wEtesmoke","Lw","LwgYF","names$1","modHSL","ratio","tmp","clone","proto","assign","fromObject","input","Color","constructor","ret","unpacked","tkeys","j","ok","nk","replace","parseInt","transparent","toLowerCase","exec","p1","p2","functionParse","this","_rgb","_valid","valid","rgbString","hexString","hslString","mix","color","weight","me","c1","c2","w2","w1","alpha","clearer","greyscale","val","opaquer","negate","lighten","darken","saturate","desaturate","rotate","deg","index_esm","isPatternOrGradient","CanvasGradient","CanvasPattern","getHoverColor","overrides","descriptors","getScope$1","node","split","set","scope","values","defaults","_descriptors","animation","backgroundColor","borderColor","datasets","devicePixelRatio","context","chart","platform","getDevicePixelRatio","elements","events","font","family","style","lineHeight","hover","hoverBackgroundColor","ctx","hoverBorderColor","hoverColor","indexAxis","interaction","mode","intersect","maintainAspectRatio","onHover","onClick","parsing","plugins","responsive","scale","scales","showLine","drawActiveElementsOnTop","describe","get","override","route","name","targetScope","targetName","scopeObject","targetScopeObject","privateName","defineProperties","writable","enumerable","local","_scriptable","startsWith","_indexable","_fallback","_measureText","data","gc","longest","string","textWidth","measureText","width","_longestText","arrayOfThings","cache","garbageCollect","save","jlen","thing","nestedThing","restore","gcLen","splice","_alignPixel","pixel","currentDevicePixelRatio","halfWidth","clearCanvas","canvas","getContext","resetTransform","clearRect","height","drawPoint","xOffset","yOffset","cornerRadius","pointStyle","rotation","radius","rad","translate","drawImage","beginPath","arc","closePath","moveTo","lineTo","SQRT1_2","rect","fill","borderWidth","stroke","_isPointInArea","point","area","margin","left","right","top","bottom","clipArea","clip","unclipArea","_steppedLineTo","previous","flip","midpoint","_bezierCurveTo","bezierCurveTo","cp1x","cp2x","cp1y","cp2y","renderText","text","opts","lines","strokeWidth","strokeColor","line","translation","fillStyle","textAlign","textBaseline","strokeStyle","lineWidth","strokeText","maxWidth","fillText","decorateText","strikethrough","underline","metrics","actualBoundingBoxLeft","actualBoundingBoxRight","actualBoundingBoxAscent","actualBoundingBoxDescent","yDecoration","decorationWidth","addRoundedRectPath","topLeft","bottomLeft","bottomRight","topRight","LINE_HEIGHT","RegExp","FONT_STYLE","toLineHeight","matches","match","_readValueToProps","props","objProps","read","prop","toTRBL","toTRBLCorners","toPadding","toFont","fallback","console","warn","resolve","inputs","info","cacheable","createContext","parentContext","_lookup","table","cmp","mid","hi","lo","_lookupByKey","_rlookupByKey","arrayEvents","unlistenArrayEvents","listener","stub","_chartjs","listeners","forEach","_arrayUnique","items","Set","add","from","_createResolver","scopes","prefixes","rootScopes","getTarget","_resolve","Symbol","toStringTag","_cacheable","_scopes","_rootScopes","_getTarget","Proxy","deleteProperty","_keys","_cached","proxy","prefix","readKey","needsSubResolver","createSubResolver","getOwnPropertyDescriptor","Reflect","getPrototypeOf","getKeysFromAllScopes","includes","ownKeys","storage","_storage","_attachContext","subProxy","descriptorDefaults","_proxy","_context","_subProxy","_stack","setContext","receiver","isScriptable","Error","join","delete","isIndexable","arr","filter","resolver","allKeys","configurable","scriptable","indexable","_allKeys","resolveFallback","getScope","parent","addScopes","parentScopes","parentFallback","allScopes","addScopesFromKey","EPSILON","getPoint","points","skip","getValueAxis","splineCurve","firstPoint","middlePoint","afterPoint","current","next","d01","d12","s01","s12","fa","fb","capControlPoint","pt","_isDomSupported","document","_getParentNode","domNode","parentNode","host","parseMaxStyle","styleValue","parentProperty","valueInPixels","getComputedStyle","element","positions","getPositionedStyle","styles","suffix","result","getRelativePosition","evt","borderBox","boxSizing","paddings","borders","box","native","touches","offsetX","offsetY","shadowRoot","getBoundingClientRect","clientX","clientY","round1","retinaScale","forceRatio","forceStyle","pixelRatio","deviceHeight","deviceWidth","setTransform","supportsEventListenerOptions","passiveSupported","passive","addEventListener","removeEventListener","readUsedSize","el","getPropertyValue","_pointInLine","_steppedInterpolation","_bezierInterpolation","cp1","cp2","intlCache","Map","formatNumber","num","locale","cacheKey","JSON","stringify","formatter","Intl","NumberFormat","format","getRtlAdapter","rtl","rectX","setWidth","xPlus","leftForLtr","itemWidth","_itemWidth","propertyFn","between","compare","normalize","normalizeSegment","count","loop","_boundSegment","segment","bounds","startBound","endBound","prevValue","inside","subStart","prev","readStyle","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","styleChanged","prevStyle","animator","_request","_charts","_running","_lastDate","_notify","anims","date","callbacks","numSteps","duration","initial","currentStep","_refresh","_update","Date","now","remaining","running","draw","_active","_total","tick","pop","_getAnims","charts","complete","progress","listen","event","cb","reduce","acc","cur","_duration","stop","cancel","remove","interpolators","boolean","to","factor","c0","number","Animation","cfg","currentValue","_fn","_easing","easing","_start","delay","_loop","_target","_prop","_from","_to","_promises","active","update","elapsed","remain","wait","promises","Promise","res","rej","resolved","method","animationOptions","colors","properties","numbers","resize","show","animations","visible","hide","Animations","config","_chart","_properties","configure","animatedProps","getOwnPropertyNames","option","_animateOptions","newOptions","$shared","$animations","_createAnimations","anim","all","then","scaleClip","allowedOverflow","getSortedDatasetIndices","filterVisible","metasets","_getSortedDatasetMetas","applyStack","stack","dsIndex","singleMode","otherValue","isStacked","meta","stacked","getOrCreateStack","stacks","stackKey","indexValue","subStack","getLastIndexInStack","vScale","positive","getMatchingVisibleMetas","updateStacks","controller","parsed","_cachedMeta","_stacks","iScale","iAxis","axis","vAxis","indexScale","valueScale","_top","_bottom","getFirstScaleId","shift","clearStacks","_parsed","isDirectUpdateMode","cloneIfNotShared","cached","shared","DatasetController","_ctx","_cachedDataOpts","getMeta","_type","_parsing","_data","_objectData","_sharedOptions","_drawStart","_drawCount","enableOptionSharing","$context","_syncList","initialize","linkScales","_stacked","addElements","updateIndex","dataset","getDataset","chooseId","xid","xAxisID","yid","yAxisID","rid","rAxisID","iid","iAxisID","vid","vAxisID","xScale","getScaleForId","yScale","rScale","getDatasetMeta","scaleID","_getOtherScale","reset","_destroy","_dataCheck","adata","isExtensible","defineProperty","base","object","datasetElementType","buildOrUpdateElements","resetNewElements","stackChanged","oldStacked","_resyncElements","scopeKeys","datasetScopeKeys","getOptionScopes","createResolver","parse","sorted","_sorted","parseArrayData","parseObjectData","parsePrimitiveData","isNotInOrderComparedToPrev","labels","getLabels","singleScale","xAxisKey","yAxisKey","getParsed","getDataElement","updateRangeFromParsed","parsedValue","NaN","getMinMax","canStack","otherScale","hidden","NEGATIVE_INFINITY","otherMin","otherMax","minDefined","maxDefined","getUserBounds","_skip","getAllParsedValues","getMaxOverflow","getLabelAndValue","label","getLabelForValue","_clip","disabled","chartArea","getStyle","resolveDatasetElementOptions","resolveDataElementOptions","dataIndex","raw","_resolveElementOptions","dataElementType","elementType","sharing","datasetElementScopeKeys","resolveNamedOptions","freeze","_resolveAnimations","transition","datasetAnimationScopeKeys","getSharedOptions","includeOptions","sharedOptions","_animationsDisabled","updateElement","updateSharedOptions","_setStyle","removeHoverStyle","setHoverStyle","_removeDatasetHoverStyle","_setDatasetHoverStyle","arg1","arg2","numMeta","numData","_insertElements","_removeElements","move","updateElements","removed","_sync","_dataChanges","_onDataPush","arguments","_onDataPop","_onDataShift","_onDataSplice","newCount","_onDataUnshift","computeMinSampleSize","_cache","$bar","visibleMetas","concat","sort","curr","_length","updateMinAndPrev","getPixelForValue","ticks","getPixelForTick","parseValue","entry","startValue","endValue","barStart","barEnd","_custom","parseArrayOrPrimitive","isFloatBar","custom","setBorderSkipped","edge","borderSkipped","horizontal","enableBorderRadius","parseEdge","orig","v2","startEnd","setInflateAmount","inflateAmount","BarController","iAxisKey","vAxisKey","super","bars","getBasePixel","isHorizontal","ruler","_getRuler","firstOpts","vpixels","head","_calculateBarValuePixels","ipixels","_calculateBarIndexPixels","center","_getStacks","last","grouped","_getStackCount","_getStackIndex","pixels","barThickness","_startPixel","_endPixel","stackCount","categoryPercentage","barPercentage","baseValue","minBarLength","actualBase","floating","getDataVisibility","halfGrid","getLineWidthForValue","skipNull","maxBarThickness","Infinity","percent","chunk","thickness","stackIndex","rects","_index_","offset","grid","_value_","beginAtZero","BubbleController","iPixel","getPixelForDecimal","vPixel","tooltip","title","DoughnutController","innerRadius","outerRadius","getter","_getRotation","_getCircumference","circumference","_getRotationExtents","isDatasetVisible","arcs","spacing","getMaxBorderWidth","getMaxOffset","maxSize","cutout","chartWeight","_getRingWeight","ratioX","ratioY","startAngle","endAngle","startX","startY","endX","endY","calcMax","calcMin","maxX","maxY","minX","minY","maxHeight","maxRadius","radiusLength","_getVisibleDatasetWeightTotal","total","calculateTotal","_getRingWeightOffset","_circumference","animateRotate","calculateCircumference","animationOpts","centerX","centerY","animateScale","metaData","borderAlign","hoverBorderWidth","hoverOffset","ringWeightOffset","aspectRatio","legend","generateLabels","legendItem","toggleDataVisibility","tooltipItem","dataLabel","formattedValue","LineController","_dataset","animationsDisabled","pointCount","_scaleRanges","newRanges","xmin","xmax","ymin","ymax","changed","_datasetIndex","_decimated","animated","spanGaps","maxGapLength","directUpdate","prevParsed","nullData","border","lastPoint","updateControlPoints","PolarAreaController","_updateRadius","minSize","cutoutPercentage","getVisibleDatasetCount","xCenter","yCenter","datasetStartAngle","getIndexAngle","defaultAngle","countVisibleElements","_computeAngle","getDistanceFromCenterForValue","angleLines","display","circular","pointLabels","PieController","RadarController","_fullLoop","pointPosition","getPointPositionForValue","ScatterController","ji","DateAdapter","formats","timestamp","amount","unit","diff","startOf","weekday","endOf","members","adapters","_date","Hi","binarySearch","metaset","lookupMethod","_reversePixels","getRange","optimizedEvaluateItems","position","handler","getSortedVisibleDatasetMetas","getIntersectItems","useFinalPosition","_minPadding","inRange","getNearestItems","distanceMetric","useX","useY","deltaX","deltaY","minDistance","getCenterPoint","getProps","getAxisItems","rangeMethod","intersectsItem","Interaction","modes","nearest","STATIC_POSITIONS","filterByPosition","filterDynamicPositionByAxis","sortByWeight","getCombinedMax","maxPadding","updateMaxPadding","boxPadding","updateDims","params","layout","getPadding","newWidth","outerWidth","newHeight","outerHeight","widthChanged","heightChanged","same","other","getMargins","fitBoxes","boxes","refitBoxes","refit","fullSize","setBoxDims","placeBoxes","userPadding","padding","placed","stackWeight","autoPadding","layouts","addBox","_layers","z","removeBox","layoutItem","minPadding","availableWidth","availableHeight","layoutBoxes","wrap","centerHorizontal","centerVertical","leftAndTop","rightAndBottom","vertical","verticalBoxes","horizontalBoxes","beforeLayout","visibleVerticalBoxCount","vBoxMaxWidth","hBoxMaxHeight","updatePos","change","BasePlatform","acquireContext","releaseContext","getMaximumSize","isAttached","updateConfig","BasicPlatform","EVENT_TYPES","touchstart","touchmove","touchend","pointerenter","pointerdown","pointermove","pointerup","pointerleave","pointerout","isNullOrEmpty","eventListenerOptions","removeListener","nodeListContains","nodeList","contains","createAttachObserver","observer","MutationObserver","entries","trigger","addedNodes","removedNodes","observe","childList","subtree","createDetachObserver","drpListeningCharts","oldDevicePixelRatio","onWindowResize","dpr","createResizeObserver","container","clientWidth","ResizeObserver","contentRect","releaseObserver","disconnect","createProxyAndListen","DomPlatform","renderHeight","getAttribute","renderWidth","$chartjs","displayWidth","displayHeight","removeAttribute","setAttribute","proxies","$proxies","attach","detach","bbWidth","bbHeight","margins","containerSize","containerStyle","containerBorder","containerPadding","clientHeight","isConnected","Element","tooltipPosition","hasValue","final","defaultRoutes","formatters","numeric","tickValue","notation","delta","maxTick","logDelta","numDecimal","minimumFractionDigits","maximumFractionDigits","logarithmic","Ticks","newTicks","majorStart","majorEnd","ceil","grace","drawBorder","drawOnChartArea","drawTicks","tickLength","tickWidth","tickColor","minRotation","maxRotation","mirror","textStrokeWidth","textStrokeColor","autoSkip","autoSkipPadding","labelOffset","minor","major","crossAlign","showLabelBackdrop","backdropColor","backdropPadding","offsetFromEdge","sample","numItems","increment","getPixelForGridLine","offsetGridLines","validIndex","lineValue","getTickMarkLength","getTitleHeight","titleAlign","Scale","_margins","paddingTop","paddingBottom","paddingLeft","paddingRight","labelRotation","_range","_gridLineItems","_labelItems","_labelSizes","_maxLength","_longestTextCache","_userMax","_userMin","_suggestedMax","_suggestedMin","_ticksLength","_borderValue","_dataLimitsCached","init","suggestedMin","suggestedMax","metas","getTicks","xLabels","yLabels","beforeUpdate","tickOpts","sampleSize","beforeSetDimensions","setDimensions","afterSetDimensions","beforeDataLimits","determineDataLimits","afterDataLimits","minmax","keepZero","beforeBuildTicks","buildTicks","afterBuildTicks","samplingEnabled","_convertTicksToLabels","beforeCalculateLabelRotation","calculateLabelRotation","afterCalculateLabelRotation","ticksLimit","maxTicksLimit","_tickSize","maxScale","maxChart","majorIndices","enabled","numMajorIndices","first","evenMajorSpacing","factors","avgMajorSpacing","beforeFit","fit","afterFit","afterUpdate","startPixel","endPixel","reversePixels","_alignToPixels","alignToPixels","_callHooks","notifyPlugins","beforeTickToLabelConversion","generateTickLabels","afterTickToLabelConversion","numTicks","maxLabelDiagonal","_isVisible","labelSizes","_getLabelSizes","maxLabelWidth","widest","maxLabelHeight","highest","asin","titleOpts","gridOpts","titleHeight","tickPadding","angleRadians","labelHeight","labelWidth","_calculatePadding","_handleMargins","isRotated","labelsBelowTicks","offsetLeft","offsetRight","isFullSize","_computeLabelSizes","caches","widths","heights","tickFont","fontString","nestedLabel","widestLabelSize","highestLabelSize","_resolveTickFontOptions","valueAt","getValueForPixel","decimal","getDecimalForPixel","getBaseValue","optionTicks","rot","_computeGridLineItems","ticksLength","tl","borderOpts","axisWidth","axisHalfWidth","alignBorderValue","borderValue","alignedLineValue","tx1","ty1","tx2","ty2","x1","y1","x2","y2","positionAxisID","limit","step","optsAtIndex","lineColor","tickBorderDash","tickBorderDashOffset","_computeLabelItems","tickAndPadding","hTickAndPadding","lineCount","textOffset","_getXAxisLabelAlignment","_getYAxisLabelAlignment","halfCount","backdrop","labelPadding","_computeLabelArea","drawBackground","fillRect","findIndex","drawGrid","drawLine","setLineDash","lineDashOffset","lastLineWidth","drawLabels","drawTitle","titleX","titleY","tz","gz","axisID","_maxDigits","fontSize","TypedRegistry","isForType","isPrototypeOf","register","parentScope","itemDefaults","routes","propertyParts","sourceName","sourceScope","parts","unregister","registry","controllers","_typedRegistries","_each","addControllers","addPlugins","addScales","getController","_get","getElement","getPlugin","getScale","removeControllers","removeElements","removePlugins","removeScales","typedRegistry","arg","reg","_getRegistryForType","_exec","itemReg","component","camelMethod","PluginService","_init","notify","hook","_createDescriptors","descriptor","plugin","cancelable","invalidate","_oldCache","_notifyStateChanges","getOpts","pluginOpts","previousDescriptors","some","pluginScopeKeys","getIndexAxis","datasetDefaults","determineAxis","scaleOptions","initOptions","chartDefaults","configScales","chartIndexAxis","firstIDs","scaleConf","error","defaultId","defaultScaleOptions","defaultID","initData","keyCache","keysCached","cachedKeys","generate","addIfFound","Config","_config","_scopeCache","_resolverCache","clearCache","clear","datasetType","additionalOptionScopes","_cachedScopes","mainScope","resetCache","keyLists","chartOptionScopes","subPrefixes","getResolver","hasFunction","resolverCache","KNOWN_POSITIONS","positionIsHorizontal","compare2Level","l1","l2","onAnimationsComplete","onComplete","onAnimationProgress","onProgress","getCanvas","getElementById","instances","getChart","moveNumericKeys","intKey","Chart","userConfig","initialCanvas","existingChart","OffscreenCanvas","_options","_aspectRatio","_metasets","_lastEvent","_listeners","_responsiveListeners","_sortedMetasets","_plugins","_hiddenIndices","attached","_doResize","timeout","clearTimeout","setTimeout","resizeDelay","_initialize","bindEvents","_resizeBeforeDraw","_resize","newSize","newRatio","onResize","render","ensureScalesHaveIDs","axisOptions","buildOrUpdateScales","scaleOpts","updated","isRadial","dposition","dtype","scaleType","hasUpdated","_updateMetasets","_destroyDatasetMeta","_removeUnreferencedMetasets","buildOrUpdateControllers","newControllers","order","ControllerClass","_resetElements","animsDisabled","_updateScales","_checkEventBindings","_updateHiddenIndices","_updateLayout","_updateDatasets","_eventHandler","_updateHoverStyles","existingEvents","newEvents","unbindEvents","changes","_getUniformDataChanges","datasetCount","makeSet","changeSet","noArea","_idx","_updateDataset","layers","_drawDatasets","_drawDataset","useClip","getElementsAtEventForMode","setDatasetVisibility","_updateVisibility","_stop","destroy","toBase64Image","toDataURL","bindUserEvents","bindResponsiveEvents","_add","_remove","detached","updateHoverStyle","getActiveElements","setActiveElements","activeElements","lastActive","replay","hoverOptions","deactivated","activated","inChartArea","eventFilter","_handleEvent","_getActiveElements","isClick","lastEvent","invalidatePlugins","clipArc","pixelMargin","angleMargin","rThetaToXY","theta","pathArc","innerR","spacingOffset","avNogSpacingRadius","angleOffset","outerStart","outerEnd","innerStart","innerEnd","angleDelta","borderRadius","halfThickness","innerLimit","computeOuterLimit","outerArcLimit","outerStartAdjustedRadius","outerEndAdjustedRadius","outerStartAdjustedAngle","outerEndAdjustedAngle","innerStartAdjustedRadius","innerEndAdjustedRadius","innerStartAdjustedAngle","innerEndAdjustedAngle","pCenter","p4","p8","version","ArcElement","fullCircles","chartX","chartY","rAdjust","betweenAngles","withinRadius","halfAngle","halfRadius","radiusOffset","inner","lineJoin","setStyle","lineCap","pathVars","paramsStart","paramsEnd","segmentStart","segmentEnd","outside","pathSegment","lineMethod","stepped","tension","cubicInterpolationMode","fastPathSegment","prevX","lastY","avgX","countX","pointIndex","drawX","truncX","_getSegmentMethod","usePath2D","Path2D","LineElement","_path","_points","_segments","_pointsUpdated","controlPoints","valueAxis","pointsLen","deltaK","mK","pointBefore","pointCurrent","pointAfter","slopeDelta","alphaK","betaK","tauK","squaredMagnitude","capBezierPoints","inArea","inAreaPrev","inAreaNext","_updateBezierControlPoints","segments","segmentOptions","chartContext","baseStyle","addStyle","st","dir","p0","p0DataIndex","p1DataIndex","interpolate","sub","_interpolate","interpolated","path","segmentMethod","inRange$1","hitRadius","PointElement","mouseX","mouseY","inXRange","inYRange","hoverRadius","getBarBounds","bar","half","skipOrLimit","skipX","skipY","addNormalRectPath","inflateRect","refRect","BarElement","outer","maxW","maxH","maxR","enableBorder","addRectPath","WeakMap","positioners","average","eventPosition","nearestElement","tp","pushOrConcat","toPush","splitNewlines","String","createTooltipItem","getTooltipSize","body","footer","boxWidth","boxHeight","bodyFont","titleFont","footerFont","titleLineCount","footerLineCount","bodyLineItemCount","combinedBodyLength","bodyItem","before","after","beforeBody","afterBody","titleSpacing","titleMarginBottom","displayColors","bodySpacing","footerMarginTop","footerSpacing","widthPadding","maxLineWidth","determineXAlign","yAlign","chartWidth","xAlign","caret","caretSize","caretPadding","determineAlignment","getBackgroundPoint","alignment","paddingAndSize","getAlignedX","getBeforeAfterBodyLines","overrideCallbacks","opacity","_eventPosition","_size","_cachedAnimations","_tooltipItems","dataPoints","caretX","caretY","labelColors","labelPointStyles","labelTextColors","tooltipItems","getTitle","beforeTitle","afterTitle","getBeforeBody","getBody","bodyItems","scoped","beforeLabel","afterLabel","getAfterBody","getFooter","beforeFooter","afterFooter","_createItems","itemSort","labelColor","labelPointStyle","labelTextColor","positionAndSize","backgroundPoint","external","drawCaret","tooltipPoint","caretPosition","getCaretPosition","x3","y3","ptX","ptY","rtlHelper","titleColor","_drawColorBox","colorX","rtlColorX","yOffSet","colorY","usePointStyle","drawOptions","multiKeyBackground","outerX","innerX","strokeRect","drawBody","bodyAlign","bodyLineHeight","xLinePadding","fillLineOfText","bodyAlignForCalculation","textColor","bodyColor","drawFooter","footerAlign","footerColor","tooltipSize","quadraticCurveTo","_updateAnimationTarget","animX","animY","hasTooltipContent","globalAlpha","direction","original","getPropertyPriority","setProperty","prevTextDirection","textDirection","positionChanged","_positionChanged","_ignoreReplayEvents","handleEvent","CategoryScale","_startValue","_valueRange","_addedLabels","added","addedLabels","unshift","lastIndexOf","relativeLabelSize","minSpacing","LinearScaleBase","_endValue","handleTickRangeOptions","setMin","setMax","minSign","maxSign","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","getTickLimit","maxTicks","stepSize","computeTickLimit","generationOptions","dataRange","precision","maxDigits","includeBounds","maxSpaces","rmin","rmax","countDefined","niceMin","niceMax","numSpaces","rounded","decimalPlaces","LinearScale","isMajor","tickVal","LogarithmicScale","_zero","exp","endExp","endSignificand","significand","lastTick","getTickBackdropHeight","determineLimits","updateLimits","limits","hLimits","vLimits","getTextAlignForAngle","yForAngle","pathRadiusLine","labelCount","getPointPosition","RadialLinearScale","drawingArea","_pointLabels","_pointLabelItems","_padding","valueCount","pointLabelOpts","additionalAngle","centerPointLabels","getPointLabelContext","plFont","textSize","setCenterPoint","extra","outerDistance","pointLabelPosition","leftMovement","rightMovement","topMovement","bottomMovement","scalingFactor","getValueForDistanceFromCenter","scaledDistance","pointLabel","distanceFromCenter","getBasePosition","getPointLabelPosition","gridLineOpts","animate","INTERVALS","millisecond","common","steps","second","minute","hour","day","week","month","quarter","year","UNITS","sorter","adapter","_adapter","parser","isoWeekday","_parseOpts","determineUnitForAutoTicks","minUnit","capacity","interval","addTick","time","timestamps","ticksFromTimestamps","majorUnit","TimeScale","_unit","_majorUnit","_offsets","_normalized","displayFormats","normalized","_applyBounds","_getLabelBounds","getLabelTimestamps","timeOpts","_generate","_getLabelCapacity","initOffsets","getDecimalForValue","hasWeekday","getDataTimestamps","tooltipFormat","datetime","_tickFormatFunction","minorFormat","majorFormat","offsets","_getLabelSize","ticksOpts","tickLabelWidth","cosRotation","sinRotation","tickFontSize","exampleTime","exampleLabel","prevSource","nextSource","prevTarget","nextTarget","span","TimeSeriesScale","_table","_minPos","_tableRange","_getTimestampsForTable","buildLookupTable","co","gridLines","zeroLineColor","color_rose","color_blue","backgroundChartDiv","ThreeStatsChart","renderer","lastValidCompareIndex","textureDataset","pointRadius","geometryDataset","displayed","timeInS","lbl","memory","textures","geometries","OBBHelper","_THREE$Box3Helper","xo","Derived","hasNativeReflectConstruct","_super","construct","sham","Boolean","valueOf","Super","_o","NewTarget","yo","OBB","_this","mo","random","box3D","getHex","obb","material","linewidth","frustumCulled","matrixAutoUpdate","rotationAutoUpdate","updateMatrixWorld","bo","dispose","geometry","force","isEmpty","quaternion","copy","getCenter","applyQuaternion","getSize","multiplyScalar","updateMatrix","Object3D","Box3Helper","wo","vo","_createForOfIteratorHelper","allowArrayLike","it","iterator","minLen","_arrayLikeToArray","test","done","_e","TypeError","err","normalCompletion","didErr","_e2","return","arr2","view","datDebugTool","chartDivContainer","createElement","cssText","appendChild","createChartContainer","mainLoop","gfxEngine","LatController","LongController","AltiController","eventFolder","tileLayer","initialPosition","Coordinates","referenceCrs","geoPosition","gui","addFolder","state","displayCharts","eventsDebug","debugCameraWindow","startChart","endChart","updateDuration","onChange","newValue","addFrameRequester","Ao","UPDATE_START","UPDATE_END","removeFrameRequester","updateChartDivSize","notifyChange","AFTER_RENDER","renderCameraDebug","frozen","controls","crs","cursorWorldPosition","Vector3","getCameraTargetPosition","camera","camera3D","cameraTargetListener","getPickingPositionFromDepth","eventToViewCoords","setFromVector3","as","latitude","toFixed","longitude","altitude","updateDisplay","open","domElement","removeFolder","helper","CameraHelper","debugCamera","fov","updateProjectionMatrix","fogDistance","layerAtmosphere","getLayerById","fog","scene","displayedTilesObb","displayedTilesObbHelper","updateFogDistance","clearColor","lookAtCameraDebug","aspect","coord","extent","setFromExtent","altitudeCameraDebug","toVector3","worldToLocal","localToWorld","lookAt","object3d","_step","_iterator","level0Nodes","traverseVisible","getClearColor","setViewport","setScissor","setScissorTest","setClearColor","_step2","_iterator2","chartId","div","chartCanvas","_step3","_iterator3","getElementsByTagName","_step4","_iterator4","_div","Co","Do","Po","initTools","layer","datUi","debugUI","dbgStickyNode","dbgDisplaySticky","dbgDisplayChildren","dbgDisplayParents","styleUI","undefined","IK","picking","bboxes","displayedCount","stickies","group","children","pts","name1","name2","owner","boxHelper","attributes","Eo","Lo","To","TileObjectsChart","viewLevelStartDataset","viewUpdateDurationDataset","nbObjectsChart","_latestUpdateStartingLevel","Io","TileVisibilityChart","nbVisibleLabels","nbVisibleData","nbDisplayedData","nbVisibleChart","stats","level","countVisible","addMaterialLayerProperty","defineLayerProperty","traverse","content","addWireFrameCheckbox","addMaterialSize","begin","addMaterialLineWidth","createGeometryDebugUI","Bo","jo","selectedNode","selectTileAt","mouseOrEvt","showInfo","overlayAlpha","showOutline","picked","pickObjectsAt","debugInstance","isDebugMode","objectChardId","canvasObjectChardId","visibleChardId","canvasVisibleChardId","Ro","wireframe","objectChart","visibilityChart","sseHelper","applyToNodeFirstMaterial","obb_layer_id","sb_layer_id","geometrySphere","SphereGeometry","obbLayer","GeometryLayer","debugIdUpdate","cacheLifeTime","View","addLayer","sbLayer","viewerDiv","circle","className","actualNode","centerNode","animationFrameRequester","ZP","removeAnimationRequester","removeAll","_frameRequesters","BEFORE_RENDER","currKey","which","mask","threejsLayer","l3js","MeshBasicMaterial","Mesh","boundingSphere","hiddenHandler","ObjectRemovalHelper","removeChildrenAndCleanupRecursively","selectNode","applyMatrix4","matrixWorld","project","coords","normalizedToViewCoords","screenSize","actualSize","Tween","Easing","Sinusoidal","In","Exponential","Out","onUpdate","innerHTML","bboxMesh","_3dTileslayer","regionBoundingBoxParent","Group","metadata","userData","boundingVolume","region","boundingBox","BoxHelper","sphere","gltfUpAxis","tileset","asset","setMaterialVisibility"],"version":3,"file":"index.6d64adfc.js.map"}