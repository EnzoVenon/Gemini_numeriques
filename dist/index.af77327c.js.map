{"mappings":"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","sources":["src/GUI/GuiTools.js"],"sourcesContent":["/**\n * Generated On: 2015-10-5\n * Class: GuiTools\n * Description: Classe pour cr√©er un menu.\n */\n\n/* global dat, itowns */\n\ndat.GUI.prototype.removeFolder = function removeFolder(name) {\n    var folder = this.__folders[name];\n    if (!folder) {\n        return;\n    }\n    folder.close();\n    this.__ul.removeChild(folder.domElement.parentNode);\n    delete this.__folders[name];\n    this.onResize();\n};\n\ndat.GUI.prototype.colorLayerFolder = function colorLayerFolder(name, value) {\n    var folder = this.__folders[name];\n    var title;\n    if (!folder) {\n        return;\n    }\n    title = folder.__ul.getElementsByClassName('title')[0];\n\n    if (title.style) {\n        title.style.background = value;\n    }\n};\n\ndat.GUI.prototype.hasFolder = function hasFolder(name) {\n    return this.__folders[name];\n};\n\nfunction GuiTools(domId, view, w) {\n    if (view) {\n        var width = w || 245;\n        var element = document.createElement('div');\n        element.id = 'menuDiv';\n        this.gui = new dat.GUI({ autoPlace: false, width: width });\n        element.appendChild(this.gui.domElement);\n        document.body.appendChild(element);\n        this.colorGui = this.gui.addFolder('Color Layers');\n        this.elevationGui = this.gui.addFolder('Elevation Layers');\n        this.geoidGui = this.gui.addFolder('Geoid Layers');\n        this.elevationGui.hide();\n        this.colorGui.hide();\n        this.geoidGui.hide();\n        this.view = view;\n        view.addEventListener('layers-order-changed', (function refreshColorGui() {\n            var i;\n            var colorLayers = view.getLayers(function filter(l) { return l.isColorLayer; });\n            for (i = 0; i < colorLayers.length; i++) {\n                this.removeLayersGUI(colorLayers[i].id);\n            }\n\n            this.addImageryLayersGUI(colorLayers);\n        }).bind(this));\n    }\n}\n\nGuiTools.prototype.addLayerGUI = function fnAddLayerGUI(layer) {\n    if (layer.isColorLayer) {\n        this.addImageryLayerGUI(layer);\n    } else if (layer.isElevationLayer) {\n        this.addElevationLayerGUI(layer);\n    } else if (layer.isGeoidLayer) {\n        this.addGeoidLayerGUI(layer);\n    }\n};\n\nGuiTools.prototype.addLayersGUI = function fnAddLayersGUI() {\n    function filterColor(l) { return l.isColorLayer; }\n    function filterElevation(l) { return l.isElevationLayer; }\n    this.addImageryLayersGUI(this.view.getLayers(filterColor));\n    this.addElevationLayersGUI(this.view.getLayers(filterElevation));\n    // eslint-disable-next-line no-console\n    console.info('menu initialized');\n};\n\nGuiTools.prototype.addImageryLayerGUI = function addImageryLayerGUI(layer) {\n    if (this.colorGui.hasFolder(layer.id)) { return; }\n    this.colorGui.show();\n    var folder = this.colorGui.addFolder(layer.id);\n    folder.add({ visible: layer.visible }, 'visible').onChange((function updateVisibility(value) {\n        layer.visible = value;\n        this.view.notifyChange(layer);\n    }).bind(this));\n    folder.add({ opacity: layer.opacity }, 'opacity', 0.0, 1.0, 0.01).onChange((function updateOpacity(value) {\n        layer.opacity = value;\n        this.view.notifyChange(layer);\n    }).bind(this));\n    folder.add({ frozen: layer.frozen }, 'frozen').onChange((function updateFrozen(value) {\n        layer.frozen = value;\n        this.view.notifyChange(layer);\n    }).bind(this));\n};\n\nGuiTools.prototype.addElevationLayerGUI = function addElevationLayerGUI(layer) {\n    if (this.elevationGui.hasFolder(layer.id)) { return; }\n    this.elevationGui.show();\n    var folder = this.elevationGui.addFolder(layer.id);\n    folder.add({ frozen: layer.frozen }, 'frozen').onChange(function refreshFrozenGui(value) {\n        layer.frozen = value;\n    });\n    folder.add({ scale: layer.scale }, 'scale').min(1.0).max(20000.0).onChange((function updateScale(value) {\n        layer.scale = value;\n        this.view.notifyChange(layer);\n    }).bind(this));\n};\n\nGuiTools.prototype.addGeoidLayerGUI = function addGeoidLayerGUI(layer) {\n    if (this.geoidGui.hasFolder(layer.id)) { return; }\n    this.geoidGui.show();\n    var folder = this.geoidGui.addFolder(layer.id);\n    folder.add({ frozen: layer.frozen }, 'frozen').onChange(function refreshFrozenGui(value) {\n        layer.frozen = value;\n    });\n    folder.add({ visible: layer.visible }, 'visible').onChange((function updateVisibility(value) {\n        layer.visible = value;\n        this.view.notifyChange(layer);\n    }).bind(this));\n};\n\nGuiTools.prototype.addImageryLayersGUI = function addImageryLayersGUI(layers) {\n    var i;\n    var seq = itowns.ImageryLayers.getColorLayersIdOrderedBySequence(layers);\n    var sortedLayers = layers.sort(function comp(a, b) {\n        return seq.indexOf(a.id) < seq.indexOf(b.id);\n    });\n    for (i = 0; i < sortedLayers.length; i++) {\n        this.addImageryLayerGUI(sortedLayers[i]);\n    }\n};\n\nGuiTools.prototype.addElevationLayersGUI = function addElevationLayersGUI(layers) {\n    var i;\n    for (i = 0; i < layers.length; i++) {\n        this.addElevationLayerGUI(layers[i]);\n    }\n};\n\nGuiTools.prototype.removeLayersGUI = function removeLayersGUI(nameLayer) {\n    this.colorGui.removeFolder(nameLayer);\n};\n\nGuiTools.prototype.addGUI = function addGUI(name, value, callback) {\n    this[name] = value;\n    return this.gui.add(this, name).onChange(callback);\n};\n\nGuiTools.prototype.colorLayerFolder = function colorLayerFolder(nameLayer, value) {\n    this.colorGui.colorLayerFolder(nameLayer, value);\n};\n\n// Recursive function that creates an HTML List from a javascript\n// object\n// eslint-disable-next-line no-unused-vars\nfunction createHTMLListFromObject(jsObject) {\n    var list = document.createElement('ul');\n    // Change the padding (top: 0, right:0, bottom:0 and left:1.5)\n    list.style.padding = '0 0 0 1.5rem';\n    // For each property of the object\n    Object.keys(jsObject).forEach(function _(property) {\n        // create item\n        var item = document.createElement('li');\n        // append property name\n        item.appendChild(document.createTextNode(property));\n\n        if (jsObject[property] === null) {\n            jsObject[property] = 'null';\n        }\n\n        if (typeof jsObject[property] === 'object') {\n            // if property value is an object, then recurse to\n            // create a list from it\n            // eslint-disable-next-line no-unused-vars\n            item.appendChild(createHTMLListFromObject(jsObject[property]));\n        } else {\n            // else append the value of the property to the item\n            item.appendChild(document.createTextNode(': '));\n            item.appendChild(\n                document.createTextNode(jsObject[property]));\n        }\n        list.appendChild(item);\n    });\n    return list;\n}\n"],"names":[],"version":3,"file":"index.af77327c.js.map","sourceRoot":"/__parcel_source_root/"}